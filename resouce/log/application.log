2026-01-11 17:38:02 [main] INFO  com.example.demo.DemoApplication - Starting DemoApplication using Java 17.0.15 with PID 26524 (C:\springboot-vue3\prject\drugtest\demo\target\classes started by 86137 in C:\springboot-vue3\prject\drugtest\demo)
2026-01-11 17:38:02 [main] DEBUG com.example.demo.DemoApplication - Running with Spring Boot v3.5.3, Spring v6.2.8
2026-01-11 17:38:02 [main] INFO  com.example.demo.DemoApplication - The following 1 profile is active: "dev"
2026-01-11 17:38:03 [main] INFO  o.s.d.r.config.RepositoryConfigurationDelegate - Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2026-01-11 17:38:03 [main] INFO  o.s.d.r.config.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 54 ms. Found 11 JPA repository interfaces.
2026-01-11 17:38:03 [main] WARN  o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker - Bean 'spring.datasource.dynamic-com.baomidou.dynamic.datasource.spring.boot.autoconfigure.DynamicDataSourceProperties' of type [com.baomidou.dynamic.datasource.spring.boot.autoconfigure.DynamicDataSourceProperties] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying). Is this bean getting eagerly injected/applied to a currently created BeanPostProcessor [healthEndpointGroupsBeanPostProcessor]? Check the corresponding BeanPostProcessor declaration and its dependencies/advisors. If this bean does not have to be post-processed, declare it with ROLE_INFRASTRUCTURE.
2026-01-11 17:38:03 [main] WARN  o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker - Bean 'com.baomidou.dynamic.datasource.spring.boot.autoconfigure.DynamicDataSourceAopConfiguration' of type [com.baomidou.dynamic.datasource.spring.boot.autoconfigure.DynamicDataSourceAopConfiguration$$SpringCGLIB$$0] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying). Is this bean getting eagerly injected/applied to a currently created BeanPostProcessor [healthEndpointGroupsBeanPostProcessor]? Check the corresponding BeanPostProcessor declaration and its dependencies/advisors. If this bean does not have to be post-processed, declare it with ROLE_INFRASTRUCTURE.
2026-01-11 17:38:03 [main] WARN  o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker - Bean 'dsProcessor' of type [com.baomidou.dynamic.datasource.processor.DsJakartaHeaderProcessor] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying). Is this bean getting eagerly injected/applied to a currently created BeanPostProcessor [healthEndpointGroupsBeanPostProcessor]? Check the corresponding BeanPostProcessor declaration and its dependencies/advisors. If this bean does not have to be post-processed, declare it with ROLE_INFRASTRUCTURE.
2026-01-11 17:38:03 [main] INFO  o.s.boot.web.embedded.tomcat.TomcatWebServer - Tomcat initialized with port 9091 (http)
2026-01-11 17:38:03 [main] INFO  org.apache.catalina.core.StandardService - Starting service [Tomcat]
2026-01-11 17:38:03 [main] INFO  org.apache.catalina.core.StandardEngine - Starting Servlet engine: [Apache Tomcat/10.1.42]
2026-01-11 17:38:03 [main] INFO  o.a.c.core.ContainerBase.[Tomcat].[localhost].[/] - Initializing Spring embedded WebApplicationContext
2026-01-11 17:38:03 [main] INFO  o.s.b.w.s.c.ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 1432 ms
2026-01-11 17:38:03 [main] INFO  com.zaxxer.hikari.HikariDataSource - local - Starting...
2026-01-11 17:38:04 [main] INFO  com.zaxxer.hikari.pool.HikariPool - local - Added connection com.mysql.cj.jdbc.ConnectionImpl@64f3991e
2026-01-11 17:38:04 [main] INFO  com.zaxxer.hikari.HikariDataSource - local - Start completed.
2026-01-11 17:38:04 [main] INFO  com.zaxxer.hikari.HikariDataSource - pharmqcs - Starting...
2026-01-11 17:38:04 [main] INFO  com.zaxxer.hikari.pool.HikariPool - pharmqcs - Added connection com.mysql.cj.jdbc.ConnectionImpl@2804b13f
2026-01-11 17:38:04 [main] INFO  com.zaxxer.hikari.HikariDataSource - pharmqcs - Start completed.
2026-01-11 17:38:04 [main] INFO  c.b.dynamic.datasource.DynamicRoutingDataSource - dynamic-datasource - add a datasource named [pharmqcs] success
2026-01-11 17:38:04 [main] INFO  c.b.dynamic.datasource.DynamicRoutingDataSource - dynamic-datasource - add a datasource named [local] success
2026-01-11 17:38:04 [main] INFO  c.b.dynamic.datasource.DynamicRoutingDataSource - dynamic-datasource initial loaded [2] datasource,primary datasource named [local]
2026-01-11 17:38:04 [main] DEBUG c.b.dynamic.datasource.DynamicRoutingDataSource - dynamic-datasource switch to the primary datasource
2026-01-11 17:38:04 [main] DEBUG c.b.dynamic.datasource.DynamicRoutingDataSource - dynamic-datasource switch to the primary datasource
2026-01-11 17:38:04 [main] INFO  org.hibernate.jpa.internal.util.LogHelper - HHH000204: Processing PersistenceUnitInfo [name: default]
2026-01-11 17:38:04 [main] INFO  org.hibernate.Version - HHH000412: Hibernate ORM core version 6.6.18.Final
2026-01-11 17:38:04 [main] INFO  o.hibernate.cache.internal.RegionFactoryInitiator - HHH000026: Second-level cache disabled
2026-01-11 17:38:04 [main] INFO  o.s.o.j.persistenceunit.SpringPersistenceUnitInfo - No LoadTimeWeaver setup: ignoring JPA class transformer
2026-01-11 17:38:04 [main] DEBUG c.b.dynamic.datasource.DynamicRoutingDataSource - dynamic-datasource switch to the primary datasource
2026-01-11 17:38:04 [main] INFO  org.hibernate.orm.connections.pooling - HHH10001005: Database info:
	Database JDBC URL [Connecting through datasource 'com.baomidou.dynamic.datasource.DynamicRoutingDataSource@2e40fdbd']
	Database driver: undefined/unknown
	Database version: 8.0.42
	Autocommit mode: undefined/unknown
	Isolation level: undefined/unknown
	Minimum pool size: undefined/unknown
	Maximum pool size: undefined/unknown
2026-01-11 17:38:05 [main] INFO  o.h.e.t.jta.platform.internal.JtaPlatformInitiator - HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2026-01-11 17:38:05 [main] DEBUG c.b.dynamic.datasource.DynamicRoutingDataSource - dynamic-datasource switch to the primary datasource
2026-01-11 17:38:05 [main] INFO  o.s.orm.jpa.LocalContainerEntityManagerFactoryBean - Initialized JPA EntityManagerFactory for persistence unit 'default'
2026-01-11 17:38:05 [main] INFO  o.s.data.jpa.repository.query.QueryEnhancerFactory - JSqlParser is in classpath; If applicable, JSqlParser will be used.
2026-01-11 17:38:05 [main] INFO  o.s.data.jpa.repository.query.QueryEnhancerFactory - Hibernate is in classpath; If applicable, HQL parser will be used.
2026-01-11 17:38:05 [main] WARN  org.springframework.aop.framework.CglibAopProxy - Unable to proxy interface-implementing method [public final void org.springframework.web.filter.OncePerRequestFilter.doFilter(jakarta.servlet.ServletRequest,jakarta.servlet.ServletResponse,jakarta.servlet.FilterChain) throws jakarta.servlet.ServletException,java.io.IOException] because it is marked as final, consider using interface-based JDK proxies instead.
2026-01-11 17:38:05 [main] WARN  org.springframework.aop.framework.CglibAopProxy - Unable to proxy interface-implementing method [public final void org.springframework.web.filter.GenericFilterBean.init(jakarta.servlet.FilterConfig) throws jakarta.servlet.ServletException] because it is marked as final, consider using interface-based JDK proxies instead.
2026-01-11 17:38:05 [main] DEBUG com.example.demo.utils.JwtAuthenticationFilter - Filter 'jwtAuthenticationFilter' configured for use
2026-01-11 17:38:06 [main] INFO  o.s.s.c.a.a.c.InitializeUserDetailsBeanManagerConfigurer$InitializeUserDetailsManagerConfigurer - Global AuthenticationManager configured with UserDetailsService bean with name userService
2026-01-11 17:38:06 [main] WARN  o.s.b.a.o.j.JpaBaseConfiguration$JpaWebConfiguration - spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2026-01-11 17:38:07 [main] DEBUG c.b.dynamic.datasource.DynamicRoutingDataSource - dynamic-datasource switch to the primary datasource
2026-01-11 17:38:07 [main] DEBUG c.b.dynamic.datasource.DynamicRoutingDataSource - dynamic-datasource switch to the primary datasource
2026-01-11 17:38:07 [main] DEBUG c.b.dynamic.datasource.DynamicRoutingDataSource - dynamic-datasource switch to the primary datasource
2026-01-11 17:38:07 [main] INFO  o.s.b.actuate.endpoint.web.EndpointLinksResolver - Exposing 14 endpoints beneath base path '/actuator'
2026-01-11 17:38:07 [main] DEBUG c.b.dynamic.datasource.DynamicRoutingDataSource - dynamic-datasource switch to the primary datasource
2026-01-11 17:38:07 [main] DEBUG c.b.dynamic.datasource.DynamicRoutingDataSource - dynamic-datasource switch to the primary datasource
2026-01-11 17:38:07 [main] DEBUG c.b.dynamic.datasource.DynamicRoutingDataSource - dynamic-datasource switch to the primary datasource
2026-01-11 17:38:07 [main] DEBUG c.b.dynamic.datasource.DynamicRoutingDataSource - dynamic-datasource switch to the primary datasource
2026-01-11 17:38:07 [main] INFO  o.s.boot.web.embedded.tomcat.TomcatWebServer - Tomcat started on port 9091 (http) with context path '/'
2026-01-11 17:38:07 [main] INFO  com.example.demo.DemoApplication - Started DemoApplication in 5.525 seconds (process running for 5.776)
2026-01-11 17:38:42 [http-nio-9091-exec-1] INFO  o.a.c.core.ContainerBase.[Tomcat].[localhost].[/] - Initializing Spring DispatcherServlet 'dispatcherServlet'
2026-01-11 17:38:42 [http-nio-9091-exec-1] INFO  org.springframework.web.servlet.DispatcherServlet - Initializing Servlet 'dispatcherServlet'
2026-01-11 17:38:42 [http-nio-9091-exec-1] INFO  org.springframework.web.servlet.DispatcherServlet - Completed initialization in 2 ms
2026-01-11 17:38:42 [http-nio-9091-exec-1] INFO  com.example.demo.aop.ServiceLogAspect - 【服务调用开始】UserService.login，参数：[admin, 123456]
2026-01-11 17:38:43 [http-nio-9091-exec-1] DEBUG org.hibernate.SQL - 
    select
        s1_0.staffid,
        s1_0.department,
        s1_0.password,
        s1_0.staffcode,
        s1_0.staffname 
    from
        staffinfo s1_0 
    where
        s1_0.staffcode=?
2026-01-11 17:38:43 [http-nio-9091-exec-1] DEBUG c.b.dynamic.datasource.DynamicRoutingDataSource - dynamic-datasource switch to the primary datasource
2026-01-11 17:38:43 [http-nio-9091-exec-1] DEBUG org.hibernate.SQL - 
    select
        sr1_0.id,
        r1_0.roleid,
        r1_0.roledescription,
        r1_0.rolename,
        s1_0.staffid,
        s1_0.department,
        s1_0.password,
        s1_0.staffcode,
        s1_0.staffname 
    from
        staffrole sr1_0 
    left join
        roleinfo r1_0 
            on r1_0.roleid=sr1_0.roleid 
    left join
        staffinfo s1_0 
            on s1_0.staffid=sr1_0.staffid 
    where
        sr1_0.staffid=?
2026-01-11 17:38:43 [http-nio-9091-exec-1] INFO  com.example.demo.aop.ServiceLogAspect - 【服务调用成功】UserService.login，结果：com.example.demo.entity.Staff@459f9480
2026-01-11 17:38:43 [http-nio-9091-exec-1] INFO  com.example.demo.aop.ServiceLogAspect - 【服务调用开始】UserService.getPermByStaffcode，参数：[admin]
2026-01-11 17:38:43 [http-nio-9091-exec-1] DEBUG org.hibernate.SQL - 
    select
        p1_0.permissionid,
        p1_0.permission,
        p1_0.permission_code 
    from
        staffinfo s1_0 
    join
        staffrole sr1_0 
            on s1_0.staffid=sr1_0.staffid 
    join
        roleinfo r1_0 
            on r1_0.roleid=sr1_0.roleid 
    join
        roleprm rp1_0 
            on r1_0.roleid=rp1_0.roleid 
    join
        permissioninfo p1_0 
            on p1_0.permissionid=rp1_0.permissionid 
    where
        s1_0.staffcode=?
2026-01-11 17:38:43 [http-nio-9091-exec-1] INFO  com.example.demo.aop.ServiceLogAspect - 【服务调用成功】UserService.getPermByStaffcode，结果：[com.example.demo.entity.Permission@144cc71c, com.example.demo.entity.Permission@62d754a2, com.example.demo.entity.Permission@60e2369, com.example.demo.entity.Permission@6d4ba31f, com.example.demo.entity.Permission@2de0c3d1, com.example.demo.entity.Permission@24c18cd3]
2026-01-11 17:38:43 [http-nio-9091-exec-1] INFO  com.example.demo.aop.ServiceLogAspect - 【服务调用开始】UserService.getStaffByStaffcode，参数：[admin]
2026-01-11 17:38:43 [http-nio-9091-exec-1] DEBUG org.hibernate.SQL - 
    select
        s1_0.staffid,
        s1_0.department,
        s1_0.password,
        s1_0.staffcode,
        s1_0.staffname 
    from
        staffinfo s1_0 
    where
        s1_0.staffcode=?
2026-01-11 17:38:43 [http-nio-9091-exec-1] INFO  com.example.demo.aop.ServiceLogAspect - 【服务调用成功】UserService.getStaffByStaffcode，结果：com.example.demo.entity.Staff@459f9480
2026-01-11 17:38:43 [http-nio-9091-exec-1] INFO  com.example.demo.aop.ServiceLogAspect - 【服务调用开始】RoleService.getRoleById，参数：[1]
2026-01-11 17:38:43 [http-nio-9091-exec-1] DEBUG org.hibernate.SQL - 
    select
        r1_0.roleid,
        r1_0.roledescription,
        r1_0.rolename 
    from
        roleinfo r1_0 
    where
        r1_0.roleid=?
2026-01-11 17:38:43 [http-nio-9091-exec-1] INFO  com.example.demo.aop.ServiceLogAspect - 【服务调用成功】RoleService.getRoleById，结果：com.example.demo.entity.Role@24a0c18a
2026-01-11 17:38:43 [http-nio-9091-exec-1] INFO  com.example.demo.aop.ServiceLogAspect - 【服务调用开始】UserService.loadUserByUsername，参数：[admin]
2026-01-11 17:38:43 [http-nio-9091-exec-1] DEBUG org.hibernate.SQL - 
    select
        s1_0.staffid,
        s1_0.department,
        s1_0.password,
        s1_0.staffcode,
        s1_0.staffname 
    from
        staffinfo s1_0 
    where
        s1_0.staffcode=?
2026-01-11 17:38:43 [http-nio-9091-exec-1] INFO  com.example.demo.aop.ServiceLogAspect - 【服务调用成功】UserService.loadUserByUsername，结果：org.springframework.security.core.userdetails.User [Username=admin, Password=[PROTECTED], Enabled=true, AccountNonExpired=true, CredentialsNonExpired=true, AccountNonLocked=true, Granted Authorities=[]]
2026-01-11 17:38:43 [http-nio-9091-exec-1] INFO  com.example.demo.aop.ServiceLogAspect - 【服务调用开始】UserService.loadUserByUsername，参数：[admin]
2026-01-11 17:38:43 [http-nio-9091-exec-1] DEBUG org.hibernate.SQL - 
    select
        s1_0.staffid,
        s1_0.department,
        s1_0.password,
        s1_0.staffcode,
        s1_0.staffname 
    from
        staffinfo s1_0 
    where
        s1_0.staffcode=?
2026-01-11 17:38:43 [http-nio-9091-exec-1] INFO  com.example.demo.aop.ServiceLogAspect - 【服务调用成功】UserService.loadUserByUsername，结果：org.springframework.security.core.userdetails.User [Username=admin, Password=[PROTECTED], Enabled=true, AccountNonExpired=true, CredentialsNonExpired=true, AccountNonLocked=true, Granted Authorities=[]]
2026-01-11 17:38:43 [http-nio-9091-exec-10] INFO  com.example.demo.aop.ServiceLogAspect - 【服务调用开始】DeviceService.getCountAll，参数：[]
2026-01-11 17:38:43 [http-nio-9091-exec-4] INFO  com.example.demo.aop.ServiceLogAspect - 【服务调用开始】DeviceService.getWaitCalibrationCountNow，参数：[]
2026-01-11 17:38:43 [http-nio-9091-exec-9] INFO  com.example.demo.aop.ServiceLogAspect - 【服务调用开始】DeviceService.getMonitorOnCountNow，参数：[]
2026-01-11 17:38:43 [http-nio-9091-exec-5] INFO  com.example.demo.aop.ServiceLogAspect - 【服务调用开始】AlertService.getAlertDetails，参数：[0, 10]
2026-01-11 17:38:43 [http-nio-9091-exec-10] DEBUG org.hibernate.SQL - 
    select
        count(d1_0.deviceid) 
    from
        devices d1_0
2026-01-11 17:38:43 [http-nio-9091-exec-10] DEBUG c.b.dynamic.datasource.DynamicRoutingDataSource - dynamic-datasource switch to the primary datasource
2026-01-11 17:38:43 [http-nio-9091-exec-4] DEBUG org.hibernate.SQL - 
    select
        count(d1_0.deviceid) 
    from
        devices d1_0 
    where
        d1_0.calibration_status='PENDING'
2026-01-11 17:38:43 [http-nio-9091-exec-9] DEBUG org.hibernate.SQL - 
    select
        count(d1_0.deviceid) 
    from
        devices d1_0 
    where
        d1_0.monitor_status='MONITORON'
2026-01-11 17:38:43 [http-nio-9091-exec-3] INFO  com.example.demo.aop.ServiceLogAspect - 【服务调用开始】AlertService.getTodayAlertCount，参数：[2026-01-11 17:38:43]
2026-01-11 17:38:43 [http-nio-9091-exec-9] DEBUG c.b.dynamic.datasource.DynamicRoutingDataSource - dynamic-datasource switch to the primary datasource
2026-01-11 17:38:43 [http-nio-9091-exec-4] DEBUG c.b.dynamic.datasource.DynamicRoutingDataSource - dynamic-datasource switch to the primary datasource
2026-01-11 17:38:43 [http-nio-9091-exec-6] INFO  com.example.demo.aop.ServiceLogAspect - 【服务调用开始】DeviceService.getDeviceByStaffCode，参数：[admin]
2026-01-11 17:38:43 [http-nio-9091-exec-6] DEBUG org.hibernate.SQL - 
    select
        d1_0.deviceid,
        d1_0.alert_status,
        d1_0.calibration_operator,
        d1_0.calibration_status,
        d1_0.created_at,
        d1_0.device_code,
        d1_0.device_name,
        d1_0.device_type,
        d1_0.last_calibration,
        d1_0.location,
        d1_0.monitor_status,
        d1_0.next_calibration,
        d1_0.operational_status,
        d1_0.self_calibration,
        d1_0.updated_at 
    from
        staffdevice sd1_0 
    join
        devices d1_0 
            on d1_0.device_code=sd1_0.device_code 
    where
        sd1_0.staffcode=?
2026-01-11 17:38:43 [http-nio-9091-exec-5] DEBUG org.hibernate.SQL - 
    select
        a1_0.alert_time,
        d1_0.device_code,
        d1_0.device_name,
        d1_0.device_type,
        d1_0.location,
        d1_0.monitor_status,
        a1_0.alert_type,
        a1_0.alert_level,
        a1_0.context 
    from
        alert a1_0 
    join
        devices d1_0 
            on d1_0.deviceid=a1_0.device_id 
    order by
        a1_0.alert_time desc 
    limit
        ?
2026-01-11 17:38:43 [http-nio-9091-exec-3] DEBUG org.hibernate.SQL - 
    select
        count(a1_0.id) 
    from
        alert a1_0 
    where
        date(a1_0.alert_time)=date(?)
2026-01-11 17:38:43 [http-nio-9091-exec-6] DEBUG c.b.dynamic.datasource.DynamicRoutingDataSource - dynamic-datasource switch to the primary datasource
2026-01-11 17:38:43 [http-nio-9091-exec-3] DEBUG c.b.dynamic.datasource.DynamicRoutingDataSource - dynamic-datasource switch to the primary datasource
2026-01-11 17:38:43 [http-nio-9091-exec-5] DEBUG c.b.dynamic.datasource.DynamicRoutingDataSource - dynamic-datasource switch to the primary datasource
2026-01-11 17:38:43 [http-nio-9091-exec-10] INFO  com.example.demo.aop.ServiceLogAspect - 【服务调用成功】DeviceService.getCountAll，结果：5
2026-01-11 17:38:43 [http-nio-9091-exec-4] INFO  com.example.demo.aop.ServiceLogAspect - 【服务调用成功】DeviceService.getWaitCalibrationCountNow，结果：1
2026-01-11 17:38:43 [http-nio-9091-exec-9] INFO  com.example.demo.aop.ServiceLogAspect - 【服务调用成功】DeviceService.getMonitorOnCountNow，结果：3
2026-01-11 17:38:43 [http-nio-9091-exec-9] INFO  com.example.demo.aop.ServiceLogAspect - 【服务调用开始】DeviceService.getAlertOnCountNow，参数：[]
2026-01-11 17:38:43 [http-nio-9091-exec-9] DEBUG org.hibernate.SQL - 
    select
        count(d1_0.deviceid) 
    from
        devices d1_0 
    where
        d1_0.alert_status='ON'
2026-01-11 17:38:43 [http-nio-9091-exec-9] INFO  com.example.demo.aop.ServiceLogAspect - 【服务调用成功】DeviceService.getAlertOnCountNow，结果：1
2026-01-11 17:38:43 [http-nio-9091-exec-9] INFO  com.example.demo.aop.ServiceLogAspect - 【服务调用开始】DeviceService.getOperationalOnCountNow，参数：[]
2026-01-11 17:38:43 [http-nio-9091-exec-9] DEBUG org.hibernate.SQL - 
    select
        count(d1_0.deviceid) 
    from
        devices d1_0 
    where
        d1_0.operational_status='RUNNING'
2026-01-11 17:38:43 [http-nio-9091-exec-6] INFO  com.example.demo.aop.ServiceLogAspect - 【服务调用成功】DeviceService.getDeviceByStaffCode，结果：[]
2026-01-11 17:38:43 [http-nio-9091-exec-9] INFO  com.example.demo.aop.ServiceLogAspect - 【服务调用成功】DeviceService.getOperationalOnCountNow，结果：2
2026-01-11 17:38:43 [http-nio-9091-exec-9] INFO  com.example.demo.aop.ServiceLogAspect - 【服务调用开始】DeviceService.getOperationalOfflineCountNow，参数：[]
2026-01-11 17:38:43 [http-nio-9091-exec-3] INFO  com.example.demo.aop.ServiceLogAspect - 【服务调用成功】AlertService.getTodayAlertCount，结果：0
2026-01-11 17:38:43 [http-nio-9091-exec-9] DEBUG org.hibernate.SQL - 
    select
        count(d1_0.deviceid) 
    from
        devices d1_0 
    where
        d1_0.operational_status='OFFLINE'
2026-01-11 17:38:43 [http-nio-9091-exec-7] INFO  com.example.demo.aop.ServiceLogAspect - 【服务调用开始】AlertService.getWeekAlertSummary，参数：[2026-01-11 09:38:43]
2026-01-11 17:38:43 [http-nio-9091-exec-2] INFO  com.example.demo.aop.ServiceLogAspect - 【服务调用开始】UserService.getStaffByStaffcode，参数：[admin]
2026-01-11 17:38:43 [http-nio-9091-exec-9] INFO  com.example.demo.aop.ServiceLogAspect - 【服务调用成功】DeviceService.getOperationalOfflineCountNow，结果：3
2026-01-11 17:38:43 [http-nio-9091-exec-2] DEBUG org.hibernate.SQL - 
    select
        s1_0.staffid,
        s1_0.department,
        s1_0.password,
        s1_0.staffcode,
        s1_0.staffname 
    from
        staffinfo s1_0 
    where
        s1_0.staffcode=?
2026-01-11 17:38:43 [http-nio-9091-exec-2] DEBUG c.b.dynamic.datasource.DynamicRoutingDataSource - dynamic-datasource switch to the primary datasource
2026-01-11 17:38:43 [http-nio-9091-exec-2] DEBUG org.hibernate.SQL - 
    select
        sr1_0.id,
        r1_0.roleid,
        r1_0.roledescription,
        r1_0.rolename,
        s1_0.staffid,
        s1_0.department,
        s1_0.password,
        s1_0.staffcode,
        s1_0.staffname 
    from
        staffrole sr1_0 
    left join
        roleinfo r1_0 
            on r1_0.roleid=sr1_0.roleid 
    left join
        staffinfo s1_0 
            on s1_0.staffid=sr1_0.staffid 
    where
        sr1_0.staffid=?
2026-01-11 17:38:43 [http-nio-9091-exec-5] INFO  com.example.demo.aop.ServiceLogAspect - 【服务调用成功】AlertService.getAlertDetails，结果：{pageSize=10, currentPage=0, totalPages=1, totalElements=3, content=[{deviceType=D4, alertType=DRUG, location=loc1, context=002, monitorStatus=MONITORON, deviceCode=001, alertTime=2025-07-13T10:05:04, alertLevel=YELLOW, deviceName=Inoue Rin}, {deviceType=D4, alertType=DRUG, location=loc1, context=001, monitorStatus=MONITORON, deviceCode=001, alertTime=2025-07-13T10:05:01, alertLevel=RED, deviceName=Inoue Rin}, {deviceType=D4, alertType=MECHINE, location=loc1, context=000, monitorStatus=MONITORON, deviceCode=001, alertTime=2025-07-11T10:04:58, alertLevel=YELLOW, deviceName=Inoue Rin}]}
2026-01-11 17:38:43 [http-nio-9091-exec-7] DEBUG org.hibernate.SQL - 
    select
        count(a1_0.id) 
    from
        alert a1_0 
    where
        yearweek(a1_0.alert_time, 1)=yearweek(?, 1) 
        and a1_0.alert_level='YELLOW'
2026-01-11 17:38:43 [http-nio-9091-exec-2] INFO  com.example.demo.aop.ServiceLogAspect - 【服务调用成功】UserService.getStaffByStaffcode，结果：com.example.demo.entity.Staff@7cff3db7
2026-01-11 17:38:43 [http-nio-9091-exec-2] INFO  com.example.demo.aop.ServiceLogAspect - 【服务调用开始】RoleService.getRoleById，参数：[1]
2026-01-11 17:38:43 [http-nio-9091-exec-7] DEBUG c.b.dynamic.datasource.DynamicRoutingDataSource - dynamic-datasource switch to the primary datasource
2026-01-11 17:38:43 [http-nio-9091-exec-2] DEBUG org.hibernate.SQL - 
    select
        r1_0.roleid,
        r1_0.roledescription,
        r1_0.rolename 
    from
        roleinfo r1_0 
    where
        r1_0.roleid=?
2026-01-11 17:38:43 [http-nio-9091-exec-2] INFO  com.example.demo.aop.ServiceLogAspect - 【服务调用成功】RoleService.getRoleById，结果：com.example.demo.entity.Role@4244dfc1
2026-01-11 17:38:43 [http-nio-9091-exec-7] DEBUG org.hibernate.SQL - 
    select
        count(a1_0.id) 
    from
        alert a1_0 
    where
        yearweek(a1_0.alert_time, 1)=yearweek(?, 1) 
        and a1_0.alert_level='RED'
2026-01-11 17:38:43 [http-nio-9091-exec-7] DEBUG org.hibernate.SQL - 
    select
        count(a1_0.id) 
    from
        alert a1_0 
    where
        yearweek(a1_0.alert_time, 1)=yearweek(?, 1) 
        and a1_0.alert_type='MECHINE'
2026-01-11 17:38:43 [http-nio-9091-exec-7] INFO  com.example.demo.aop.ServiceLogAspect - 【服务调用成功】AlertService.getWeekAlertSummary，结果：{redAlert=0, yellowAlert=0, machineFailure=0}
2026-01-11 17:38:43 [http-nio-9091-exec-1] INFO  com.example.demo.aop.ServiceLogAspect - 【服务调用开始】DeviceService.getCountAll，参数：[]
2026-01-11 17:38:43 [http-nio-9091-exec-8] INFO  com.example.demo.aop.ServiceLogAspect - 【服务调用开始】AlertService.getTodayAlertCount，参数：[2026-01-11 17:38:43]
2026-01-11 17:38:43 [http-nio-9091-exec-4] INFO  com.example.demo.aop.ServiceLogAspect - 【服务调用开始】DeviceService.getWaitCalibrationCountNow，参数：[]
2026-01-11 17:38:43 [http-nio-9091-exec-1] DEBUG org.hibernate.SQL - 
    select
        count(d1_0.deviceid) 
    from
        devices d1_0
2026-01-11 17:38:43 [http-nio-9091-exec-4] DEBUG org.hibernate.SQL - 
    select
        count(d1_0.deviceid) 
    from
        devices d1_0 
    where
        d1_0.calibration_status='PENDING'
2026-01-11 17:38:43 [http-nio-9091-exec-8] DEBUG org.hibernate.SQL - 
    select
        count(a1_0.id) 
    from
        alert a1_0 
    where
        date(a1_0.alert_time)=date(?)
2026-01-11 17:38:43 [http-nio-9091-exec-1] DEBUG c.b.dynamic.datasource.DynamicRoutingDataSource - dynamic-datasource switch to the primary datasource
2026-01-11 17:38:43 [http-nio-9091-exec-8] DEBUG c.b.dynamic.datasource.DynamicRoutingDataSource - dynamic-datasource switch to the primary datasource
2026-01-11 17:38:43 [http-nio-9091-exec-4] DEBUG c.b.dynamic.datasource.DynamicRoutingDataSource - dynamic-datasource switch to the primary datasource
2026-01-11 17:38:43 [http-nio-9091-exec-4] INFO  com.example.demo.aop.ServiceLogAspect - 【服务调用成功】DeviceService.getWaitCalibrationCountNow，结果：1
2026-01-11 17:38:43 [http-nio-9091-exec-1] INFO  com.example.demo.aop.ServiceLogAspect - 【服务调用成功】DeviceService.getCountAll，结果：5
2026-01-11 17:38:43 [http-nio-9091-exec-8] INFO  com.example.demo.aop.ServiceLogAspect - 【服务调用成功】AlertService.getTodayAlertCount，结果：0
2026-01-11 17:43:44 [http-nio-9091-exec-6] INFO  com.example.demo.aop.ServiceLogAspect - 【服务调用开始】DeviceService.getDeviceByStaffCode，参数：[admin]
2026-01-11 17:43:44 [http-nio-9091-exec-10] INFO  com.example.demo.aop.ServiceLogAspect - 【服务调用开始】AlertService.getAlertDetails，参数：[0, 10]
2026-01-11 17:43:44 [http-nio-9091-exec-3] INFO  com.example.demo.aop.ServiceLogAspect - 【服务调用开始】AlertService.getWeekAlertSummary，参数：[2026-01-11 09:43:44]
2026-01-11 17:43:44 [http-nio-9091-exec-9] INFO  com.example.demo.aop.ServiceLogAspect - 【服务调用开始】DeviceService.getMonitorOnCountNow，参数：[]
2026-01-11 17:43:44 [http-nio-9091-exec-6] DEBUG org.hibernate.SQL - 
    select
        d1_0.deviceid,
        d1_0.alert_status,
        d1_0.calibration_operator,
        d1_0.calibration_status,
        d1_0.created_at,
        d1_0.device_code,
        d1_0.device_name,
        d1_0.device_type,
        d1_0.last_calibration,
        d1_0.location,
        d1_0.monitor_status,
        d1_0.next_calibration,
        d1_0.operational_status,
        d1_0.self_calibration,
        d1_0.updated_at 
    from
        staffdevice sd1_0 
    join
        devices d1_0 
            on d1_0.device_code=sd1_0.device_code 
    where
        sd1_0.staffcode=?
2026-01-11 17:43:44 [http-nio-9091-exec-10] DEBUG org.hibernate.SQL - 
    select
        a1_0.alert_time,
        d1_0.device_code,
        d1_0.device_name,
        d1_0.device_type,
        d1_0.location,
        d1_0.monitor_status,
        a1_0.alert_type,
        a1_0.alert_level,
        a1_0.context 
    from
        alert a1_0 
    join
        devices d1_0 
            on d1_0.deviceid=a1_0.device_id 
    order by
        a1_0.alert_time desc 
    limit
        ?
2026-01-11 17:43:44 [http-nio-9091-exec-3] DEBUG org.hibernate.SQL - 
    select
        count(a1_0.id) 
    from
        alert a1_0 
    where
        yearweek(a1_0.alert_time, 1)=yearweek(?, 1) 
        and a1_0.alert_level='YELLOW'
2026-01-11 17:43:44 [http-nio-9091-exec-9] DEBUG org.hibernate.SQL - 
    select
        count(d1_0.deviceid) 
    from
        devices d1_0 
    where
        d1_0.monitor_status='MONITORON'
2026-01-11 17:43:44 [http-nio-9091-exec-6] DEBUG c.b.dynamic.datasource.DynamicRoutingDataSource - dynamic-datasource switch to the primary datasource
2026-01-11 17:43:44 [http-nio-9091-exec-10] DEBUG c.b.dynamic.datasource.DynamicRoutingDataSource - dynamic-datasource switch to the primary datasource
2026-01-11 17:43:44 [http-nio-9091-exec-3] DEBUG c.b.dynamic.datasource.DynamicRoutingDataSource - dynamic-datasource switch to the primary datasource
2026-01-11 17:43:44 [http-nio-9091-exec-9] DEBUG c.b.dynamic.datasource.DynamicRoutingDataSource - dynamic-datasource switch to the primary datasource
2026-01-11 17:43:44 [http-nio-9091-exec-6] INFO  com.example.demo.aop.ServiceLogAspect - 【服务调用成功】DeviceService.getDeviceByStaffCode，结果：[]
2026-01-11 17:43:44 [http-nio-9091-exec-10] INFO  com.example.demo.aop.ServiceLogAspect - 【服务调用成功】AlertService.getAlertDetails，结果：{pageSize=10, currentPage=0, totalPages=1, totalElements=3, content=[{deviceType=D4, alertType=DRUG, location=loc1, context=002, monitorStatus=MONITORON, deviceCode=001, alertTime=2025-07-13T10:05:04, alertLevel=YELLOW, deviceName=Inoue Rin}, {deviceType=D4, alertType=DRUG, location=loc1, context=001, monitorStatus=MONITORON, deviceCode=001, alertTime=2025-07-13T10:05:01, alertLevel=RED, deviceName=Inoue Rin}, {deviceType=D4, alertType=MECHINE, location=loc1, context=000, monitorStatus=MONITORON, deviceCode=001, alertTime=2025-07-11T10:04:58, alertLevel=YELLOW, deviceName=Inoue Rin}]}
2026-01-11 17:43:44 [http-nio-9091-exec-3] DEBUG org.hibernate.SQL - 
    select
        count(a1_0.id) 
    from
        alert a1_0 
    where
        yearweek(a1_0.alert_time, 1)=yearweek(?, 1) 
        and a1_0.alert_level='RED'
2026-01-11 17:43:44 [http-nio-9091-exec-9] INFO  com.example.demo.aop.ServiceLogAspect - 【服务调用成功】DeviceService.getMonitorOnCountNow，结果：3
2026-01-11 17:43:44 [http-nio-9091-exec-9] INFO  com.example.demo.aop.ServiceLogAspect - 【服务调用开始】DeviceService.getAlertOnCountNow，参数：[]
2026-01-11 17:43:44 [http-nio-9091-exec-9] DEBUG org.hibernate.SQL - 
    select
        count(d1_0.deviceid) 
    from
        devices d1_0 
    where
        d1_0.alert_status='ON'
2026-01-11 17:43:44 [http-nio-9091-exec-9] INFO  com.example.demo.aop.ServiceLogAspect - 【服务调用成功】DeviceService.getAlertOnCountNow，结果：1
2026-01-11 17:43:44 [http-nio-9091-exec-3] DEBUG org.hibernate.SQL - 
    select
        count(a1_0.id) 
    from
        alert a1_0 
    where
        yearweek(a1_0.alert_time, 1)=yearweek(?, 1) 
        and a1_0.alert_type='MECHINE'
2026-01-11 17:43:44 [http-nio-9091-exec-9] INFO  com.example.demo.aop.ServiceLogAspect - 【服务调用开始】DeviceService.getOperationalOnCountNow，参数：[]
2026-01-11 17:43:44 [http-nio-9091-exec-9] DEBUG org.hibernate.SQL - 
    select
        count(d1_0.deviceid) 
    from
        devices d1_0 
    where
        d1_0.operational_status='RUNNING'
2026-01-11 17:43:44 [http-nio-9091-exec-9] INFO  com.example.demo.aop.ServiceLogAspect - 【服务调用成功】DeviceService.getOperationalOnCountNow，结果：2
2026-01-11 17:43:44 [http-nio-9091-exec-3] INFO  com.example.demo.aop.ServiceLogAspect - 【服务调用成功】AlertService.getWeekAlertSummary，结果：{redAlert=0, yellowAlert=0, machineFailure=0}
2026-01-11 17:43:44 [http-nio-9091-exec-9] INFO  com.example.demo.aop.ServiceLogAspect - 【服务调用开始】DeviceService.getOperationalOfflineCountNow，参数：[]
2026-01-11 17:43:44 [http-nio-9091-exec-9] DEBUG org.hibernate.SQL - 
    select
        count(d1_0.deviceid) 
    from
        devices d1_0 
    where
        d1_0.operational_status='OFFLINE'
2026-01-11 17:43:44 [http-nio-9091-exec-9] INFO  com.example.demo.aop.ServiceLogAspect - 【服务调用成功】DeviceService.getOperationalOfflineCountNow，结果：3
2026-01-11 17:47:14 [http-nio-9091-exec-5] INFO  com.example.demo.aop.ServiceLogAspect - 【服务调用开始】DeviceService.getCountAll，参数：[]
2026-01-11 17:47:14 [http-nio-9091-exec-5] DEBUG org.hibernate.SQL - 
    select
        count(d1_0.deviceid) 
    from
        devices d1_0
2026-01-11 17:47:14 [http-nio-9091-exec-5] DEBUG c.b.dynamic.datasource.DynamicRoutingDataSource - dynamic-datasource switch to the primary datasource
2026-01-11 17:47:14 [http-nio-9091-exec-5] INFO  com.example.demo.aop.ServiceLogAspect - 【服务调用成功】DeviceService.getCountAll，结果：5
2026-01-11 17:47:14 [http-nio-9091-exec-1] INFO  com.example.demo.aop.ServiceLogAspect - 【服务调用开始】DeviceService.getAllDevices，参数：[]
2026-01-11 17:47:14 [http-nio-9091-exec-7] INFO  com.example.demo.aop.ServiceLogAspect - 【服务调用开始】DeviceService.getWaitCalibrationCountNow，参数：[]
2026-01-11 17:47:14 [http-nio-9091-exec-1] DEBUG c.b.dynamic.datasource.DynamicRoutingDataSource - dynamic-datasource switch to the primary datasource
2026-01-11 17:47:14 [http-nio-9091-exec-8] INFO  com.example.demo.aop.ServiceLogAspect - 【服务调用开始】InspectDataService.getLatestInspectionsWithDeviceInfo，参数：[]
2026-01-11 17:47:14 [http-nio-9091-exec-2] INFO  com.example.demo.aop.ServiceLogAspect - 【服务调用开始】AlertService.getTodayAlertCount，参数：[2026-01-11 17:47:14]
2026-01-11 17:47:14 [http-nio-9091-exec-7] DEBUG org.hibernate.SQL - 
    select
        count(d1_0.deviceid) 
    from
        devices d1_0 
    where
        d1_0.calibration_status='PENDING'
2026-01-11 17:47:14 [http-nio-9091-exec-2] DEBUG org.hibernate.SQL - 
    select
        count(a1_0.id) 
    from
        alert a1_0 
    where
        date(a1_0.alert_time)=date(?)
2026-01-11 17:47:14 [http-nio-9091-exec-7] DEBUG c.b.dynamic.datasource.DynamicRoutingDataSource - dynamic-datasource switch to the primary datasource
2026-01-11 17:47:14 [http-nio-9091-exec-2] DEBUG c.b.dynamic.datasource.DynamicRoutingDataSource - dynamic-datasource switch to the primary datasource
2026-01-11 17:47:14 [http-nio-9091-exec-7] INFO  com.example.demo.aop.ServiceLogAspect - 【服务调用成功】DeviceService.getWaitCalibrationCountNow，结果：1
2026-01-11 17:47:14 [http-nio-9091-exec-2] INFO  com.example.demo.aop.ServiceLogAspect - 【服务调用成功】AlertService.getTodayAlertCount，结果：0
2026-01-11 17:47:14 [http-nio-9091-exec-1] DEBUG org.hibernate.SQL - 
    select
        d1_0.deviceid,
        d1_0.alert_status,
        d1_0.calibration_operator,
        d1_0.calibration_status,
        d1_0.created_at,
        d1_0.device_code,
        d1_0.device_name,
        d1_0.device_type,
        d1_0.last_calibration,
        d1_0.location,
        d1_0.monitor_status,
        d1_0.next_calibration,
        d1_0.operational_status,
        d1_0.self_calibration,
        d1_0.updated_at 
    from
        devices d1_0
2026-01-11 17:47:14 [http-nio-9091-exec-8] DEBUG org.hibernate.SQL - 
    select
        id1_0.data_id,
        id1_0.batch_no,
        id1_0.create_time,
        d1_0.deviceid,
        d1_0.alert_status,
        d1_0.calibration_operator,
        d1_0.calibration_status,
        d1_0.created_at,
        d1_0.device_code,
        d1_0.device_name,
        d1_0.device_type,
        d1_0.last_calibration,
        d1_0.location,
        d1_0.monitor_status,
        d1_0.next_calibration,
        d1_0.operational_status,
        d1_0.self_calibration,
        d1_0.updated_at,
        id1_0.diameter,
        id1_0.friability,
        id1_0.hardness,
        id1_0.inspect_time,
        id1_0.is_valid,
        id1_0.product_id,
        p1_0.product_id,
        p1_0.product_name,
        p1_0.specification,
        id1_0.thickness,
        id1_0.weight 
    from
        inspection_data id1_0 
    left join
        devices d1_0 
            on d1_0.deviceid=id1_0.device_id 
    join
        product p1_0 
            on p1_0.product_id=id1_0.product_id 
    where
        id1_0.inspect_time=(
            select
                max(id2_0.inspect_time) 
            from
                inspection_data id2_0 
            where
                id2_0.device_id=id1_0.device_id 
                and id2_0.is_valid=1
        )
2026-01-11 17:47:14 [http-nio-9091-exec-8] DEBUG c.b.dynamic.datasource.DynamicRoutingDataSource - dynamic-datasource switch to the primary datasource
2026-01-11 17:47:14 [http-nio-9091-exec-1] INFO  com.example.demo.aop.ServiceLogAspect - 【服务调用成功】DeviceService.getAllDevices，结果：[com.example.demo.entity.Device@1d4286cd, com.example.demo.entity.Device@6c8f93bf, com.example.demo.entity.Device@535560af, com.example.demo.entity.Device@4cadaa4e, com.example.demo.entity.Device@45d039f8]
2026-01-11 17:47:14 [http-nio-9091-exec-8] INFO  com.example.demo.aop.ServiceLogAspect - 【服务调用成功】InspectDataService.getLatestInspectionsWithDeviceInfo，结果：[com.example.demo.entity.InspectionData@33f70227, com.example.demo.entity.InspectionData@61f7687b]
2026-01-11 17:47:16 [http-nio-9091-exec-10] INFO  com.example.demo.aop.ServiceLogAspect - 【服务调用开始】DeviceService.getWaitCalibrationCountNow，参数：[]
2026-01-11 17:47:16 [http-nio-9091-exec-4] INFO  com.example.demo.aop.ServiceLogAspect - 【服务调用开始】DeviceService.getCountAll，参数：[]
2026-01-11 17:47:16 [http-nio-9091-exec-9] INFO  com.example.demo.aop.ServiceLogAspect - 【服务调用开始】AlertService.getDeviceAlertOverview，参数：[]
2026-01-11 17:47:16 [http-nio-9091-exec-9] DEBUG c.b.dynamic.datasource.DynamicRoutingDataSource - dynamic-datasource switch to the primary datasource
2026-01-11 17:47:16 [http-nio-9091-exec-4] DEBUG org.hibernate.SQL - 
    select
        count(d1_0.deviceid) 
    from
        devices d1_0
2026-01-11 17:47:16 [http-nio-9091-exec-10] DEBUG org.hibernate.SQL - 
    select
        count(d1_0.deviceid) 
    from
        devices d1_0 
    where
        d1_0.calibration_status='PENDING'
2026-01-11 17:47:16 [http-nio-9091-exec-6] INFO  com.example.demo.aop.ServiceLogAspect - 【服务调用开始】AlertService.getTodayAlertCount，参数：[2026-01-11 17:47:16]
2026-01-11 17:47:16 [http-nio-9091-exec-3] INFO  com.example.demo.aop.ServiceLogAspect - 【服务调用开始】AlertService.getAlertDetailsByTimeRange，参数：[2026-01-04T01:47, 2026-01-11T01:47, null, 0, 50]
2026-01-11 17:47:16 [http-nio-9091-exec-4] DEBUG c.b.dynamic.datasource.DynamicRoutingDataSource - dynamic-datasource switch to the primary datasource
2026-01-11 17:47:16 [http-nio-9091-exec-10] DEBUG c.b.dynamic.datasource.DynamicRoutingDataSource - dynamic-datasource switch to the primary datasource
2026-01-11 17:47:16 [http-nio-9091-exec-9] DEBUG org.hibernate.SQL - 
    select
        d1_0.deviceid,
        d1_0.alert_status,
        d1_0.calibration_operator,
        d1_0.calibration_status,
        d1_0.created_at,
        d1_0.device_code,
        d1_0.device_name,
        d1_0.device_type,
        d1_0.last_calibration,
        d1_0.location,
        d1_0.monitor_status,
        d1_0.next_calibration,
        d1_0.operational_status,
        d1_0.self_calibration,
        d1_0.updated_at 
    from
        devices d1_0
2026-01-11 17:47:16 [http-nio-9091-exec-6] DEBUG org.hibernate.SQL - 
    select
        count(a1_0.id) 
    from
        alert a1_0 
    where
        date(a1_0.alert_time)=date(?)
2026-01-11 17:47:16 [http-nio-9091-exec-10] INFO  com.example.demo.aop.ServiceLogAspect - 【服务调用成功】DeviceService.getWaitCalibrationCountNow，结果：1
2026-01-11 17:47:16 [http-nio-9091-exec-4] INFO  com.example.demo.aop.ServiceLogAspect - 【服务调用成功】DeviceService.getCountAll，结果：5
2026-01-11 17:47:16 [http-nio-9091-exec-6] DEBUG c.b.dynamic.datasource.DynamicRoutingDataSource - dynamic-datasource switch to the primary datasource
2026-01-11 17:47:16 [http-nio-9091-exec-3] DEBUG org.hibernate.SQL - 
    select
        a1_0.alert_time,
        d1_0.device_code,
        d1_0.device_name,
        d1_0.device_type,
        d1_0.location,
        d1_0.monitor_status,
        a1_0.alert_type,
        a1_0.alert_level,
        a1_0.context 
    from
        alert a1_0 
    join
        devices d1_0 
            on d1_0.deviceid=a1_0.device_id 
    where
        (
            ? is null 
            or a1_0.alert_time>=?
        ) 
        and (
            ? is null 
            or a1_0.alert_time<=?
        ) 
        and (
            ? is null 
            or d1_0.device_code=?
        ) 
    order by
        a1_0.alert_time desc 
    limit
        ?
2026-01-11 17:47:16 [http-nio-9091-exec-6] INFO  com.example.demo.aop.ServiceLogAspect - 【服务调用成功】AlertService.getTodayAlertCount，结果：0
2026-01-11 17:47:16 [http-nio-9091-exec-3] DEBUG c.b.dynamic.datasource.DynamicRoutingDataSource - dynamic-datasource switch to the primary datasource
2026-01-11 17:47:16 [http-nio-9091-exec-3] INFO  com.example.demo.aop.ServiceLogAspect - 【服务调用成功】AlertService.getAlertDetailsByTimeRange，结果：{pageSize=50, currentPage=0, totalPages=0, totalElements=0, content=[]}
2026-01-11 17:47:16 [http-nio-9091-exec-9] DEBUG org.hibernate.SQL - 
    select
        a1_0.id,
        a1_0.alert_level,
        a1_0.alert_time,
        a1_0.alert_type,
        a1_0.context,
        a1_0.device_id 
    from
        alert a1_0 
    left join
        devices d1_0 
            on d1_0.deviceid=a1_0.device_id 
    where
        d1_0.deviceid=? 
    order by
        a1_0.alert_time desc 
    limit
        ?
2026-01-11 17:47:16 [http-nio-9091-exec-9] DEBUG org.hibernate.SQL - 
    select
        a1_0.id,
        a1_0.alert_level,
        a1_0.alert_time,
        a1_0.alert_type,
        a1_0.context,
        a1_0.device_id 
    from
        alert a1_0 
    left join
        devices d1_0 
            on d1_0.deviceid=a1_0.device_id 
    where
        d1_0.deviceid=? 
    order by
        a1_0.alert_time desc 
    limit
        ?
2026-01-11 17:47:16 [http-nio-9091-exec-9] DEBUG org.hibernate.SQL - 
    select
        a1_0.id,
        a1_0.alert_level,
        a1_0.alert_time,
        a1_0.alert_type,
        a1_0.context,
        a1_0.device_id 
    from
        alert a1_0 
    left join
        devices d1_0 
            on d1_0.deviceid=a1_0.device_id 
    where
        d1_0.deviceid=? 
    order by
        a1_0.alert_time desc 
    limit
        ?
2026-01-11 17:47:16 [http-nio-9091-exec-9] DEBUG org.hibernate.SQL - 
    select
        a1_0.id,
        a1_0.alert_level,
        a1_0.alert_time,
        a1_0.alert_type,
        a1_0.context,
        a1_0.device_id 
    from
        alert a1_0 
    left join
        devices d1_0 
            on d1_0.deviceid=a1_0.device_id 
    where
        d1_0.deviceid=? 
    order by
        a1_0.alert_time desc 
    limit
        ?
2026-01-11 17:47:16 [http-nio-9091-exec-9] DEBUG org.hibernate.SQL - 
    select
        a1_0.id,
        a1_0.alert_level,
        a1_0.alert_time,
        a1_0.alert_type,
        a1_0.context,
        a1_0.device_id 
    from
        alert a1_0 
    left join
        devices d1_0 
            on d1_0.deviceid=a1_0.device_id 
    where
        d1_0.deviceid=? 
    order by
        a1_0.alert_time desc 
    limit
        ?
2026-01-11 17:47:16 [http-nio-9091-exec-9] INFO  com.example.demo.aop.ServiceLogAspect - 【服务调用成功】AlertService.getDeviceAlertOverview，结果：[{deviceType=D4, operationalStatus=RUNNING, alertStatus=ON, latestAlertLevel=YELLOW, latestAlertTime=2025-07-13T10:05:04, location=loc1, deviceCode=001, deviceId=1, deviceName=Inoue Rin, monitorStatus=MONITORON, latestAlertContext=002}, {deviceType=DB, operationalStatus=RUNNING, alertStatus=OFF, latestAlertLevel=null, latestAlertTime=null, location=loc2, deviceCode=002, deviceId=2, deviceName=Kong Lan, monitorStatus=MONITORON, latestAlertContext=null}, {deviceType=DB, operationalStatus=OFFLINE, alertStatus=OFF, latestAlertLevel=null, latestAlertTime=null, location=loc3, deviceCode=003, deviceId=3, deviceName=Chic Kwok Yin, monitorStatus=MONITORINTERRUPT, latestAlertContext=null}, {deviceType=D4, operationalStatus=OFFLINE, alertStatus=OFF, latestAlertLevel=null, latestAlertTime=null, location=loc4, deviceCode=004, deviceId=4, deviceName=Lo Wai Lam, monitorStatus=MONITORON, latestAlertContext=null}, {deviceType=DB, operationalStatus=OFFLINE, alertStatus=OFF, latestAlertLevel=null, latestAlertTime=null, location=loc5, deviceCode=005, deviceId=5, deviceName=Saito Ayano, monitorStatus=MONITOROFF, latestAlertContext=null}]
2026-01-11 17:47:17 [http-nio-9091-exec-5] INFO  com.example.demo.aop.ServiceLogAspect - 【服务调用开始】DeviceService.getCountAll，参数：[]
2026-01-11 17:47:17 [http-nio-9091-exec-5] DEBUG org.hibernate.SQL - 
    select
        count(d1_0.deviceid) 
    from
        devices d1_0
2026-01-11 17:47:17 [http-nio-9091-exec-5] DEBUG c.b.dynamic.datasource.DynamicRoutingDataSource - dynamic-datasource switch to the primary datasource
2026-01-11 17:47:17 [http-nio-9091-exec-5] INFO  com.example.demo.aop.ServiceLogAspect - 【服务调用成功】DeviceService.getCountAll，结果：5
2026-01-11 17:47:17 [http-nio-9091-exec-7] INFO  com.example.demo.aop.ServiceLogAspect - 【服务调用开始】DeviceService.getWaitCalibrationCountNow，参数：[]
2026-01-11 17:47:17 [http-nio-9091-exec-1] INFO  com.example.demo.aop.ServiceLogAspect - 【服务调用开始】DeviceService.getAllDevices，参数：[]
2026-01-11 17:47:17 [http-nio-9091-exec-1] DEBUG c.b.dynamic.datasource.DynamicRoutingDataSource - dynamic-datasource switch to the primary datasource
2026-01-11 17:47:17 [http-nio-9091-exec-7] DEBUG org.hibernate.SQL - 
    select
        count(d1_0.deviceid) 
    from
        devices d1_0 
    where
        d1_0.calibration_status='PENDING'
2026-01-11 17:47:17 [http-nio-9091-exec-2] INFO  com.example.demo.aop.ServiceLogAspect - 【服务调用开始】AlertService.getTodayAlertCount，参数：[2026-01-11 17:47:17]
2026-01-11 17:47:17 [http-nio-9091-exec-8] INFO  com.example.demo.aop.ServiceLogAspect - 【服务调用开始】InspectDataService.getLatestInspectionsWithDeviceInfo，参数：[]
2026-01-11 17:47:17 [http-nio-9091-exec-7] DEBUG c.b.dynamic.datasource.DynamicRoutingDataSource - dynamic-datasource switch to the primary datasource
2026-01-11 17:47:17 [http-nio-9091-exec-2] DEBUG org.hibernate.SQL - 
    select
        count(a1_0.id) 
    from
        alert a1_0 
    where
        date(a1_0.alert_time)=date(?)
2026-01-11 17:47:17 [http-nio-9091-exec-1] DEBUG org.hibernate.SQL - 
    select
        d1_0.deviceid,
        d1_0.alert_status,
        d1_0.calibration_operator,
        d1_0.calibration_status,
        d1_0.created_at,
        d1_0.device_code,
        d1_0.device_name,
        d1_0.device_type,
        d1_0.last_calibration,
        d1_0.location,
        d1_0.monitor_status,
        d1_0.next_calibration,
        d1_0.operational_status,
        d1_0.self_calibration,
        d1_0.updated_at 
    from
        devices d1_0
2026-01-11 17:47:17 [http-nio-9091-exec-7] INFO  com.example.demo.aop.ServiceLogAspect - 【服务调用成功】DeviceService.getWaitCalibrationCountNow，结果：1
2026-01-11 17:47:17 [http-nio-9091-exec-2] DEBUG c.b.dynamic.datasource.DynamicRoutingDataSource - dynamic-datasource switch to the primary datasource
2026-01-11 17:47:17 [http-nio-9091-exec-8] DEBUG org.hibernate.SQL - 
    select
        id1_0.data_id,
        id1_0.batch_no,
        id1_0.create_time,
        d1_0.deviceid,
        d1_0.alert_status,
        d1_0.calibration_operator,
        d1_0.calibration_status,
        d1_0.created_at,
        d1_0.device_code,
        d1_0.device_name,
        d1_0.device_type,
        d1_0.last_calibration,
        d1_0.location,
        d1_0.monitor_status,
        d1_0.next_calibration,
        d1_0.operational_status,
        d1_0.self_calibration,
        d1_0.updated_at,
        id1_0.diameter,
        id1_0.friability,
        id1_0.hardness,
        id1_0.inspect_time,
        id1_0.is_valid,
        id1_0.product_id,
        p1_0.product_id,
        p1_0.product_name,
        p1_0.specification,
        id1_0.thickness,
        id1_0.weight 
    from
        inspection_data id1_0 
    left join
        devices d1_0 
            on d1_0.deviceid=id1_0.device_id 
    join
        product p1_0 
            on p1_0.product_id=id1_0.product_id 
    where
        id1_0.inspect_time=(
            select
                max(id2_0.inspect_time) 
            from
                inspection_data id2_0 
            where
                id2_0.device_id=id1_0.device_id 
                and id2_0.is_valid=1
        )
2026-01-11 17:47:17 [http-nio-9091-exec-2] INFO  com.example.demo.aop.ServiceLogAspect - 【服务调用成功】AlertService.getTodayAlertCount，结果：0
2026-01-11 17:47:17 [http-nio-9091-exec-8] DEBUG c.b.dynamic.datasource.DynamicRoutingDataSource - dynamic-datasource switch to the primary datasource
2026-01-11 17:47:17 [http-nio-9091-exec-1] INFO  com.example.demo.aop.ServiceLogAspect - 【服务调用成功】DeviceService.getAllDevices，结果：[com.example.demo.entity.Device@5cba8dd4, com.example.demo.entity.Device@3e0df1e8, com.example.demo.entity.Device@78fddec1, com.example.demo.entity.Device@29aef287, com.example.demo.entity.Device@4a580d3a]
2026-01-11 17:47:17 [http-nio-9091-exec-8] INFO  com.example.demo.aop.ServiceLogAspect - 【服务调用成功】InspectDataService.getLatestInspectionsWithDeviceInfo，结果：[com.example.demo.entity.InspectionData@27d6f6f5, com.example.demo.entity.InspectionData@e162ab]
2026-01-11 17:47:17 [http-nio-9091-exec-4] INFO  com.example.demo.aop.ServiceLogAspect - 【服务调用开始】AlertService.getAlertDetails，参数：[0, 10]
2026-01-11 17:47:17 [http-nio-9091-exec-4] DEBUG org.hibernate.SQL - 
    select
        a1_0.alert_time,
        d1_0.device_code,
        d1_0.device_name,
        d1_0.device_type,
        d1_0.location,
        d1_0.monitor_status,
        a1_0.alert_type,
        a1_0.alert_level,
        a1_0.context 
    from
        alert a1_0 
    join
        devices d1_0 
            on d1_0.deviceid=a1_0.device_id 
    order by
        a1_0.alert_time desc 
    limit
        ?
2026-01-11 17:47:17 [http-nio-9091-exec-4] DEBUG c.b.dynamic.datasource.DynamicRoutingDataSource - dynamic-datasource switch to the primary datasource
2026-01-11 17:47:17 [http-nio-9091-exec-4] INFO  com.example.demo.aop.ServiceLogAspect - 【服务调用成功】AlertService.getAlertDetails，结果：{pageSize=10, currentPage=0, totalPages=1, totalElements=3, content=[{deviceType=D4, alertType=DRUG, location=loc1, context=002, monitorStatus=MONITORON, deviceCode=001, alertTime=2025-07-13T10:05:04, alertLevel=YELLOW, deviceName=Inoue Rin}, {deviceType=D4, alertType=DRUG, location=loc1, context=001, monitorStatus=MONITORON, deviceCode=001, alertTime=2025-07-13T10:05:01, alertLevel=RED, deviceName=Inoue Rin}, {deviceType=D4, alertType=MECHINE, location=loc1, context=000, monitorStatus=MONITORON, deviceCode=001, alertTime=2025-07-11T10:04:58, alertLevel=YELLOW, deviceName=Inoue Rin}]}
2026-01-11 17:47:17 [http-nio-9091-exec-6] INFO  com.example.demo.aop.ServiceLogAspect - 【服务调用开始】DeviceService.getDeviceByStaffCode，参数：[admin]
2026-01-11 17:47:17 [http-nio-9091-exec-3] INFO  com.example.demo.aop.ServiceLogAspect - 【服务调用开始】DeviceService.getMonitorOnCountNow，参数：[]
2026-01-11 17:47:17 [http-nio-9091-exec-10] INFO  com.example.demo.aop.ServiceLogAspect - 【服务调用开始】AlertService.getWeekAlertSummary，参数：[2026-01-11 09:47:17]
2026-01-11 17:47:17 [http-nio-9091-exec-3] DEBUG org.hibernate.SQL - 
    select
        count(d1_0.deviceid) 
    from
        devices d1_0 
    where
        d1_0.monitor_status='MONITORON'
2026-01-11 17:47:17 [http-nio-9091-exec-6] DEBUG org.hibernate.SQL - 
    select
        d1_0.deviceid,
        d1_0.alert_status,
        d1_0.calibration_operator,
        d1_0.calibration_status,
        d1_0.created_at,
        d1_0.device_code,
        d1_0.device_name,
        d1_0.device_type,
        d1_0.last_calibration,
        d1_0.location,
        d1_0.monitor_status,
        d1_0.next_calibration,
        d1_0.operational_status,
        d1_0.self_calibration,
        d1_0.updated_at 
    from
        staffdevice sd1_0 
    join
        devices d1_0 
            on d1_0.device_code=sd1_0.device_code 
    where
        sd1_0.staffcode=?
2026-01-11 17:47:17 [http-nio-9091-exec-10] DEBUG org.hibernate.SQL - 
    select
        count(a1_0.id) 
    from
        alert a1_0 
    where
        yearweek(a1_0.alert_time, 1)=yearweek(?, 1) 
        and a1_0.alert_level='YELLOW'
2026-01-11 17:47:17 [http-nio-9091-exec-3] DEBUG c.b.dynamic.datasource.DynamicRoutingDataSource - dynamic-datasource switch to the primary datasource
2026-01-11 17:47:17 [http-nio-9091-exec-6] DEBUG c.b.dynamic.datasource.DynamicRoutingDataSource - dynamic-datasource switch to the primary datasource
2026-01-11 17:47:17 [http-nio-9091-exec-10] DEBUG c.b.dynamic.datasource.DynamicRoutingDataSource - dynamic-datasource switch to the primary datasource
2026-01-11 17:47:17 [http-nio-9091-exec-6] INFO  com.example.demo.aop.ServiceLogAspect - 【服务调用成功】DeviceService.getDeviceByStaffCode，结果：[]
2026-01-11 17:47:17 [http-nio-9091-exec-3] INFO  com.example.demo.aop.ServiceLogAspect - 【服务调用成功】DeviceService.getMonitorOnCountNow，结果：3
2026-01-11 17:47:17 [http-nio-9091-exec-10] DEBUG org.hibernate.SQL - 
    select
        count(a1_0.id) 
    from
        alert a1_0 
    where
        yearweek(a1_0.alert_time, 1)=yearweek(?, 1) 
        and a1_0.alert_level='RED'
2026-01-11 17:47:17 [http-nio-9091-exec-3] INFO  com.example.demo.aop.ServiceLogAspect - 【服务调用开始】DeviceService.getAlertOnCountNow，参数：[]
2026-01-11 17:47:17 [http-nio-9091-exec-3] DEBUG org.hibernate.SQL - 
    select
        count(d1_0.deviceid) 
    from
        devices d1_0 
    where
        d1_0.alert_status='ON'
2026-01-11 17:47:17 [http-nio-9091-exec-3] INFO  com.example.demo.aop.ServiceLogAspect - 【服务调用成功】DeviceService.getAlertOnCountNow，结果：1
2026-01-11 17:47:17 [http-nio-9091-exec-10] DEBUG org.hibernate.SQL - 
    select
        count(a1_0.id) 
    from
        alert a1_0 
    where
        yearweek(a1_0.alert_time, 1)=yearweek(?, 1) 
        and a1_0.alert_type='MECHINE'
2026-01-11 17:47:17 [http-nio-9091-exec-3] INFO  com.example.demo.aop.ServiceLogAspect - 【服务调用开始】DeviceService.getOperationalOnCountNow，参数：[]
2026-01-11 17:47:17 [http-nio-9091-exec-3] DEBUG org.hibernate.SQL - 
    select
        count(d1_0.deviceid) 
    from
        devices d1_0 
    where
        d1_0.operational_status='RUNNING'
2026-01-11 17:47:17 [http-nio-9091-exec-10] INFO  com.example.demo.aop.ServiceLogAspect - 【服务调用成功】AlertService.getWeekAlertSummary，结果：{redAlert=0, yellowAlert=0, machineFailure=0}
2026-01-11 17:47:17 [http-nio-9091-exec-3] INFO  com.example.demo.aop.ServiceLogAspect - 【服务调用成功】DeviceService.getOperationalOnCountNow，结果：2
2026-01-11 17:47:17 [http-nio-9091-exec-3] INFO  com.example.demo.aop.ServiceLogAspect - 【服务调用开始】DeviceService.getOperationalOfflineCountNow，参数：[]
2026-01-11 17:47:17 [http-nio-9091-exec-3] DEBUG org.hibernate.SQL - 
    select
        count(d1_0.deviceid) 
    from
        devices d1_0 
    where
        d1_0.operational_status='OFFLINE'
2026-01-11 17:47:17 [http-nio-9091-exec-3] INFO  com.example.demo.aop.ServiceLogAspect - 【服务调用成功】DeviceService.getOperationalOfflineCountNow，结果：3
2026-01-11 17:47:18 [http-nio-9091-exec-9] INFO  com.example.demo.aop.ServiceLogAspect - 【服务调用开始】DeviceService.getCountAll，参数：[]
2026-01-11 17:47:18 [http-nio-9091-exec-9] DEBUG org.hibernate.SQL - 
    select
        count(d1_0.deviceid) 
    from
        devices d1_0
2026-01-11 17:47:18 [http-nio-9091-exec-9] DEBUG c.b.dynamic.datasource.DynamicRoutingDataSource - dynamic-datasource switch to the primary datasource
2026-01-11 17:47:18 [http-nio-9091-exec-9] INFO  com.example.demo.aop.ServiceLogAspect - 【服务调用成功】DeviceService.getCountAll，结果：5
2026-01-11 17:47:18 [http-nio-9091-exec-7] INFO  com.example.demo.aop.ServiceLogAspect - 【服务调用开始】DeviceService.getAllDevices，参数：[]
2026-01-11 17:47:18 [http-nio-9091-exec-9] INFO  com.example.demo.aop.ServiceLogAspect - 【服务调用开始】DeviceService.getWaitCalibrationCountNow，参数：[]
2026-01-11 17:47:18 [http-nio-9091-exec-7] DEBUG c.b.dynamic.datasource.DynamicRoutingDataSource - dynamic-datasource switch to the primary datasource
2026-01-11 17:47:18 [http-nio-9091-exec-5] INFO  com.example.demo.aop.ServiceLogAspect - 【服务调用开始】AlertService.getTodayAlertCount，参数：[2026-01-11 17:47:18]
2026-01-11 17:47:18 [http-nio-9091-exec-2] INFO  com.example.demo.aop.ServiceLogAspect - 【服务调用开始】InspectDataService.getLatestInspectionsWithDeviceInfo，参数：[]
2026-01-11 17:47:18 [http-nio-9091-exec-9] DEBUG org.hibernate.SQL - 
    select
        count(d1_0.deviceid) 
    from
        devices d1_0 
    where
        d1_0.calibration_status='PENDING'
2026-01-11 17:47:18 [http-nio-9091-exec-9] DEBUG c.b.dynamic.datasource.DynamicRoutingDataSource - dynamic-datasource switch to the primary datasource
2026-01-11 17:47:18 [http-nio-9091-exec-7] DEBUG org.hibernate.SQL - 
    select
        d1_0.deviceid,
        d1_0.alert_status,
        d1_0.calibration_operator,
        d1_0.calibration_status,
        d1_0.created_at,
        d1_0.device_code,
        d1_0.device_name,
        d1_0.device_type,
        d1_0.last_calibration,
        d1_0.location,
        d1_0.monitor_status,
        d1_0.next_calibration,
        d1_0.operational_status,
        d1_0.self_calibration,
        d1_0.updated_at 
    from
        devices d1_0
2026-01-11 17:47:18 [http-nio-9091-exec-5] DEBUG org.hibernate.SQL - 
    select
        count(a1_0.id) 
    from
        alert a1_0 
    where
        date(a1_0.alert_time)=date(?)
2026-01-11 17:47:18 [http-nio-9091-exec-2] DEBUG org.hibernate.SQL - 
    select
        id1_0.data_id,
        id1_0.batch_no,
        id1_0.create_time,
        d1_0.deviceid,
        d1_0.alert_status,
        d1_0.calibration_operator,
        d1_0.calibration_status,
        d1_0.created_at,
        d1_0.device_code,
        d1_0.device_name,
        d1_0.device_type,
        d1_0.last_calibration,
        d1_0.location,
        d1_0.monitor_status,
        d1_0.next_calibration,
        d1_0.operational_status,
        d1_0.self_calibration,
        d1_0.updated_at,
        id1_0.diameter,
        id1_0.friability,
        id1_0.hardness,
        id1_0.inspect_time,
        id1_0.is_valid,
        id1_0.product_id,
        p1_0.product_id,
        p1_0.product_name,
        p1_0.specification,
        id1_0.thickness,
        id1_0.weight 
    from
        inspection_data id1_0 
    left join
        devices d1_0 
            on d1_0.deviceid=id1_0.device_id 
    join
        product p1_0 
            on p1_0.product_id=id1_0.product_id 
    where
        id1_0.inspect_time=(
            select
                max(id2_0.inspect_time) 
            from
                inspection_data id2_0 
            where
                id2_0.device_id=id1_0.device_id 
                and id2_0.is_valid=1
        )
2026-01-11 17:47:18 [http-nio-9091-exec-9] INFO  com.example.demo.aop.ServiceLogAspect - 【服务调用成功】DeviceService.getWaitCalibrationCountNow，结果：1
2026-01-11 17:47:18 [http-nio-9091-exec-5] DEBUG c.b.dynamic.datasource.DynamicRoutingDataSource - dynamic-datasource switch to the primary datasource
2026-01-11 17:47:18 [http-nio-9091-exec-7] INFO  com.example.demo.aop.ServiceLogAspect - 【服务调用成功】DeviceService.getAllDevices，结果：[com.example.demo.entity.Device@1443adb4, com.example.demo.entity.Device@5bebcf87, com.example.demo.entity.Device@747b448f, com.example.demo.entity.Device@688e4db6, com.example.demo.entity.Device@61a9731e]
2026-01-11 17:47:18 [http-nio-9091-exec-2] DEBUG c.b.dynamic.datasource.DynamicRoutingDataSource - dynamic-datasource switch to the primary datasource
2026-01-11 17:47:18 [http-nio-9091-exec-5] INFO  com.example.demo.aop.ServiceLogAspect - 【服务调用成功】AlertService.getTodayAlertCount，结果：0
2026-01-11 17:47:18 [http-nio-9091-exec-2] INFO  com.example.demo.aop.ServiceLogAspect - 【服务调用成功】InspectDataService.getLatestInspectionsWithDeviceInfo，结果：[com.example.demo.entity.InspectionData@7967ac92, com.example.demo.entity.InspectionData@50f9d122]
2026-01-11 17:47:18 [http-nio-9091-exec-8] INFO  com.example.demo.aop.ServiceLogAspect - 【服务调用开始】DeviceService.getCountAll，参数：[]
2026-01-11 17:47:18 [http-nio-9091-exec-8] DEBUG org.hibernate.SQL - 
    select
        count(d1_0.deviceid) 
    from
        devices d1_0
2026-01-11 17:47:18 [http-nio-9091-exec-8] DEBUG c.b.dynamic.datasource.DynamicRoutingDataSource - dynamic-datasource switch to the primary datasource
2026-01-11 17:47:18 [http-nio-9091-exec-8] INFO  com.example.demo.aop.ServiceLogAspect - 【服务调用成功】DeviceService.getCountAll，结果：5
2026-01-11 17:47:18 [http-nio-9091-exec-10] INFO  com.example.demo.aop.ServiceLogAspect - 【服务调用开始】AlertService.getDeviceAlertOverview，参数：[]
2026-01-11 17:47:18 [http-nio-9091-exec-6] INFO  com.example.demo.aop.ServiceLogAspect - 【服务调用开始】DeviceService.getWaitCalibrationCountNow，参数：[]
2026-01-11 17:47:18 [http-nio-9091-exec-10] DEBUG c.b.dynamic.datasource.DynamicRoutingDataSource - dynamic-datasource switch to the primary datasource
2026-01-11 17:47:18 [http-nio-9091-exec-3] INFO  com.example.demo.aop.ServiceLogAspect - 【服务调用开始】AlertService.getAlertDetailsByTimeRange，参数：[2026-01-04T01:47, 2026-01-11T01:47, null, 0, 50]
2026-01-11 17:47:18 [http-nio-9091-exec-4] INFO  com.example.demo.aop.ServiceLogAspect - 【服务调用开始】AlertService.getTodayAlertCount，参数：[2026-01-11 17:47:18]
2026-01-11 17:47:18 [http-nio-9091-exec-6] DEBUG org.hibernate.SQL - 
    select
        count(d1_0.deviceid) 
    from
        devices d1_0 
    where
        d1_0.calibration_status='PENDING'
2026-01-11 17:47:18 [http-nio-9091-exec-3] DEBUG org.hibernate.SQL - 
    select
        a1_0.alert_time,
        d1_0.device_code,
        d1_0.device_name,
        d1_0.device_type,
        d1_0.location,
        d1_0.monitor_status,
        a1_0.alert_type,
        a1_0.alert_level,
        a1_0.context 
    from
        alert a1_0 
    join
        devices d1_0 
            on d1_0.deviceid=a1_0.device_id 
    where
        (
            ? is null 
            or a1_0.alert_time>=?
        ) 
        and (
            ? is null 
            or a1_0.alert_time<=?
        ) 
        and (
            ? is null 
            or d1_0.device_code=?
        ) 
    order by
        a1_0.alert_time desc 
    limit
        ?
2026-01-11 17:47:18 [http-nio-9091-exec-6] DEBUG c.b.dynamic.datasource.DynamicRoutingDataSource - dynamic-datasource switch to the primary datasource
2026-01-11 17:47:18 [http-nio-9091-exec-10] DEBUG org.hibernate.SQL - 
    select
        d1_0.deviceid,
        d1_0.alert_status,
        d1_0.calibration_operator,
        d1_0.calibration_status,
        d1_0.created_at,
        d1_0.device_code,
        d1_0.device_name,
        d1_0.device_type,
        d1_0.last_calibration,
        d1_0.location,
        d1_0.monitor_status,
        d1_0.next_calibration,
        d1_0.operational_status,
        d1_0.self_calibration,
        d1_0.updated_at 
    from
        devices d1_0
2026-01-11 17:47:18 [http-nio-9091-exec-4] DEBUG org.hibernate.SQL - 
    select
        count(a1_0.id) 
    from
        alert a1_0 
    where
        date(a1_0.alert_time)=date(?)
2026-01-11 17:47:18 [http-nio-9091-exec-3] DEBUG c.b.dynamic.datasource.DynamicRoutingDataSource - dynamic-datasource switch to the primary datasource
2026-01-11 17:47:18 [http-nio-9091-exec-6] INFO  com.example.demo.aop.ServiceLogAspect - 【服务调用成功】DeviceService.getWaitCalibrationCountNow，结果：1
2026-01-11 17:47:18 [http-nio-9091-exec-4] DEBUG c.b.dynamic.datasource.DynamicRoutingDataSource - dynamic-datasource switch to the primary datasource
2026-01-11 17:47:18 [http-nio-9091-exec-4] INFO  com.example.demo.aop.ServiceLogAspect - 【服务调用成功】AlertService.getTodayAlertCount，结果：0
2026-01-11 17:47:18 [http-nio-9091-exec-3] INFO  com.example.demo.aop.ServiceLogAspect - 【服务调用成功】AlertService.getAlertDetailsByTimeRange，结果：{pageSize=50, currentPage=0, totalPages=0, totalElements=0, content=[]}
2026-01-11 17:47:18 [http-nio-9091-exec-10] DEBUG org.hibernate.SQL - 
    select
        a1_0.id,
        a1_0.alert_level,
        a1_0.alert_time,
        a1_0.alert_type,
        a1_0.context,
        a1_0.device_id 
    from
        alert a1_0 
    left join
        devices d1_0 
            on d1_0.deviceid=a1_0.device_id 
    where
        d1_0.deviceid=? 
    order by
        a1_0.alert_time desc 
    limit
        ?
2026-01-11 17:47:18 [http-nio-9091-exec-10] DEBUG org.hibernate.SQL - 
    select
        a1_0.id,
        a1_0.alert_level,
        a1_0.alert_time,
        a1_0.alert_type,
        a1_0.context,
        a1_0.device_id 
    from
        alert a1_0 
    left join
        devices d1_0 
            on d1_0.deviceid=a1_0.device_id 
    where
        d1_0.deviceid=? 
    order by
        a1_0.alert_time desc 
    limit
        ?
2026-01-11 17:47:18 [http-nio-9091-exec-10] DEBUG org.hibernate.SQL - 
    select
        a1_0.id,
        a1_0.alert_level,
        a1_0.alert_time,
        a1_0.alert_type,
        a1_0.context,
        a1_0.device_id 
    from
        alert a1_0 
    left join
        devices d1_0 
            on d1_0.deviceid=a1_0.device_id 
    where
        d1_0.deviceid=? 
    order by
        a1_0.alert_time desc 
    limit
        ?
2026-01-11 17:47:18 [http-nio-9091-exec-10] DEBUG org.hibernate.SQL - 
    select
        a1_0.id,
        a1_0.alert_level,
        a1_0.alert_time,
        a1_0.alert_type,
        a1_0.context,
        a1_0.device_id 
    from
        alert a1_0 
    left join
        devices d1_0 
            on d1_0.deviceid=a1_0.device_id 
    where
        d1_0.deviceid=? 
    order by
        a1_0.alert_time desc 
    limit
        ?
2026-01-11 17:47:18 [http-nio-9091-exec-10] DEBUG org.hibernate.SQL - 
    select
        a1_0.id,
        a1_0.alert_level,
        a1_0.alert_time,
        a1_0.alert_type,
        a1_0.context,
        a1_0.device_id 
    from
        alert a1_0 
    left join
        devices d1_0 
            on d1_0.deviceid=a1_0.device_id 
    where
        d1_0.deviceid=? 
    order by
        a1_0.alert_time desc 
    limit
        ?
2026-01-11 17:47:18 [http-nio-9091-exec-10] INFO  com.example.demo.aop.ServiceLogAspect - 【服务调用成功】AlertService.getDeviceAlertOverview，结果：[{deviceType=D4, operationalStatus=RUNNING, alertStatus=ON, latestAlertLevel=YELLOW, latestAlertTime=2025-07-13T10:05:04, location=loc1, deviceCode=001, deviceId=1, deviceName=Inoue Rin, monitorStatus=MONITORON, latestAlertContext=002}, {deviceType=DB, operationalStatus=RUNNING, alertStatus=OFF, latestAlertLevel=null, latestAlertTime=null, location=loc2, deviceCode=002, deviceId=2, deviceName=Kong Lan, monitorStatus=MONITORON, latestAlertContext=null}, {deviceType=DB, operationalStatus=OFFLINE, alertStatus=OFF, latestAlertLevel=null, latestAlertTime=null, location=loc3, deviceCode=003, deviceId=3, deviceName=Chic Kwok Yin, monitorStatus=MONITORINTERRUPT, latestAlertContext=null}, {deviceType=D4, operationalStatus=OFFLINE, alertStatus=OFF, latestAlertLevel=null, latestAlertTime=null, location=loc4, deviceCode=004, deviceId=4, deviceName=Lo Wai Lam, monitorStatus=MONITORON, latestAlertContext=null}, {deviceType=DB, operationalStatus=OFFLINE, alertStatus=OFF, latestAlertLevel=null, latestAlertTime=null, location=loc5, deviceCode=005, deviceId=5, deviceName=Saito Ayano, monitorStatus=MONITOROFF, latestAlertContext=null}]
2026-01-11 17:47:19 [http-nio-9091-exec-1] INFO  com.example.demo.aop.ServiceLogAspect - 【服务调用开始】AlertService.getAlertDetails，参数：[0, 10]
2026-01-11 17:47:19 [http-nio-9091-exec-1] DEBUG org.hibernate.SQL - 
    select
        a1_0.alert_time,
        d1_0.device_code,
        d1_0.device_name,
        d1_0.device_type,
        d1_0.location,
        d1_0.monitor_status,
        a1_0.alert_type,
        a1_0.alert_level,
        a1_0.context 
    from
        alert a1_0 
    join
        devices d1_0 
            on d1_0.deviceid=a1_0.device_id 
    order by
        a1_0.alert_time desc 
    limit
        ?
2026-01-11 17:47:19 [http-nio-9091-exec-1] DEBUG c.b.dynamic.datasource.DynamicRoutingDataSource - dynamic-datasource switch to the primary datasource
2026-01-11 17:47:19 [http-nio-9091-exec-1] INFO  com.example.demo.aop.ServiceLogAspect - 【服务调用成功】AlertService.getAlertDetails，结果：{pageSize=10, currentPage=0, totalPages=1, totalElements=3, content=[{deviceType=D4, alertType=DRUG, location=loc1, context=002, monitorStatus=MONITORON, deviceCode=001, alertTime=2025-07-13T10:05:04, alertLevel=YELLOW, deviceName=Inoue Rin}, {deviceType=D4, alertType=DRUG, location=loc1, context=001, monitorStatus=MONITORON, deviceCode=001, alertTime=2025-07-13T10:05:01, alertLevel=RED, deviceName=Inoue Rin}, {deviceType=D4, alertType=MECHINE, location=loc1, context=000, monitorStatus=MONITORON, deviceCode=001, alertTime=2025-07-11T10:04:58, alertLevel=YELLOW, deviceName=Inoue Rin}]}
2026-01-11 17:47:19 [http-nio-9091-exec-5] INFO  com.example.demo.aop.ServiceLogAspect - 【服务调用开始】DeviceService.getDeviceByStaffCode，参数：[admin]
2026-01-11 17:47:19 [http-nio-9091-exec-9] INFO  com.example.demo.aop.ServiceLogAspect - 【服务调用开始】AlertService.getWeekAlertSummary，参数：[2026-01-11 09:47:19]
2026-01-11 17:47:19 [http-nio-9091-exec-2] INFO  com.example.demo.aop.ServiceLogAspect - 【服务调用开始】DeviceService.getMonitorOnCountNow，参数：[]
2026-01-11 17:47:19 [http-nio-9091-exec-5] DEBUG org.hibernate.SQL - 
    select
        d1_0.deviceid,
        d1_0.alert_status,
        d1_0.calibration_operator,
        d1_0.calibration_status,
        d1_0.created_at,
        d1_0.device_code,
        d1_0.device_name,
        d1_0.device_type,
        d1_0.last_calibration,
        d1_0.location,
        d1_0.monitor_status,
        d1_0.next_calibration,
        d1_0.operational_status,
        d1_0.self_calibration,
        d1_0.updated_at 
    from
        staffdevice sd1_0 
    join
        devices d1_0 
            on d1_0.device_code=sd1_0.device_code 
    where
        sd1_0.staffcode=?
2026-01-11 17:47:19 [http-nio-9091-exec-2] DEBUG org.hibernate.SQL - 
    select
        count(d1_0.deviceid) 
    from
        devices d1_0 
    where
        d1_0.monitor_status='MONITORON'
2026-01-11 17:47:19 [http-nio-9091-exec-9] DEBUG org.hibernate.SQL - 
    select
        count(a1_0.id) 
    from
        alert a1_0 
    where
        yearweek(a1_0.alert_time, 1)=yearweek(?, 1) 
        and a1_0.alert_level='YELLOW'
2026-01-11 17:47:19 [http-nio-9091-exec-5] DEBUG c.b.dynamic.datasource.DynamicRoutingDataSource - dynamic-datasource switch to the primary datasource
2026-01-11 17:47:19 [http-nio-9091-exec-2] DEBUG c.b.dynamic.datasource.DynamicRoutingDataSource - dynamic-datasource switch to the primary datasource
2026-01-11 17:47:19 [http-nio-9091-exec-9] DEBUG c.b.dynamic.datasource.DynamicRoutingDataSource - dynamic-datasource switch to the primary datasource
2026-01-11 17:47:19 [http-nio-9091-exec-2] INFO  com.example.demo.aop.ServiceLogAspect - 【服务调用成功】DeviceService.getMonitorOnCountNow，结果：3
2026-01-11 17:47:19 [http-nio-9091-exec-5] INFO  com.example.demo.aop.ServiceLogAspect - 【服务调用成功】DeviceService.getDeviceByStaffCode，结果：[]
2026-01-11 17:47:19 [http-nio-9091-exec-2] INFO  com.example.demo.aop.ServiceLogAspect - 【服务调用开始】DeviceService.getAlertOnCountNow，参数：[]
2026-01-11 17:47:19 [http-nio-9091-exec-9] DEBUG org.hibernate.SQL - 
    select
        count(a1_0.id) 
    from
        alert a1_0 
    where
        yearweek(a1_0.alert_time, 1)=yearweek(?, 1) 
        and a1_0.alert_level='RED'
2026-01-11 17:47:19 [http-nio-9091-exec-2] DEBUG org.hibernate.SQL - 
    select
        count(d1_0.deviceid) 
    from
        devices d1_0 
    where
        d1_0.alert_status='ON'
2026-01-11 17:47:19 [http-nio-9091-exec-2] INFO  com.example.demo.aop.ServiceLogAspect - 【服务调用成功】DeviceService.getAlertOnCountNow，结果：1
2026-01-11 17:47:19 [http-nio-9091-exec-2] INFO  com.example.demo.aop.ServiceLogAspect - 【服务调用开始】DeviceService.getOperationalOnCountNow，参数：[]
2026-01-11 17:47:19 [http-nio-9091-exec-9] DEBUG org.hibernate.SQL - 
    select
        count(a1_0.id) 
    from
        alert a1_0 
    where
        yearweek(a1_0.alert_time, 1)=yearweek(?, 1) 
        and a1_0.alert_type='MECHINE'
2026-01-11 17:47:19 [http-nio-9091-exec-2] DEBUG org.hibernate.SQL - 
    select
        count(d1_0.deviceid) 
    from
        devices d1_0 
    where
        d1_0.operational_status='RUNNING'
2026-01-11 17:47:19 [http-nio-9091-exec-2] INFO  com.example.demo.aop.ServiceLogAspect - 【服务调用成功】DeviceService.getOperationalOnCountNow，结果：2
2026-01-11 17:47:19 [http-nio-9091-exec-9] INFO  com.example.demo.aop.ServiceLogAspect - 【服务调用成功】AlertService.getWeekAlertSummary，结果：{redAlert=0, yellowAlert=0, machineFailure=0}
2026-01-11 17:47:19 [http-nio-9091-exec-2] INFO  com.example.demo.aop.ServiceLogAspect - 【服务调用开始】DeviceService.getOperationalOfflineCountNow，参数：[]
2026-01-11 17:47:19 [http-nio-9091-exec-2] DEBUG org.hibernate.SQL - 
    select
        count(d1_0.deviceid) 
    from
        devices d1_0 
    where
        d1_0.operational_status='OFFLINE'
2026-01-11 17:47:19 [http-nio-9091-exec-2] INFO  com.example.demo.aop.ServiceLogAspect - 【服务调用成功】DeviceService.getOperationalOfflineCountNow，结果：3
2026-01-11 17:52:20 [http-nio-9091-exec-8] INFO  com.example.demo.aop.ServiceLogAspect - 【服务调用开始】AlertService.getAlertDetails，参数：[0, 10]
2026-01-11 17:52:20 [http-nio-9091-exec-7] INFO  com.example.demo.aop.ServiceLogAspect - 【服务调用开始】AlertService.getWeekAlertSummary，参数：[2026-01-11 09:52:20]
2026-01-11 17:52:20 [http-nio-9091-exec-4] INFO  com.example.demo.aop.ServiceLogAspect - 【服务调用开始】DeviceService.getDeviceByStaffCode，参数：[admin]
2026-01-11 17:52:20 [http-nio-9091-exec-6] INFO  com.example.demo.aop.ServiceLogAspect - 【服务调用开始】DeviceService.getMonitorOnCountNow，参数：[]
2026-01-11 17:52:20 [http-nio-9091-exec-8] DEBUG org.hibernate.SQL - 
    select
        a1_0.alert_time,
        d1_0.device_code,
        d1_0.device_name,
        d1_0.device_type,
        d1_0.location,
        d1_0.monitor_status,
        a1_0.alert_type,
        a1_0.alert_level,
        a1_0.context 
    from
        alert a1_0 
    join
        devices d1_0 
            on d1_0.deviceid=a1_0.device_id 
    order by
        a1_0.alert_time desc 
    limit
        ?
2026-01-11 17:52:20 [http-nio-9091-exec-7] DEBUG org.hibernate.SQL - 
    select
        count(a1_0.id) 
    from
        alert a1_0 
    where
        yearweek(a1_0.alert_time, 1)=yearweek(?, 1) 
        and a1_0.alert_level='YELLOW'
2026-01-11 17:52:20 [http-nio-9091-exec-4] DEBUG org.hibernate.SQL - 
    select
        d1_0.deviceid,
        d1_0.alert_status,
        d1_0.calibration_operator,
        d1_0.calibration_status,
        d1_0.created_at,
        d1_0.device_code,
        d1_0.device_name,
        d1_0.device_type,
        d1_0.last_calibration,
        d1_0.location,
        d1_0.monitor_status,
        d1_0.next_calibration,
        d1_0.operational_status,
        d1_0.self_calibration,
        d1_0.updated_at 
    from
        staffdevice sd1_0 
    join
        devices d1_0 
            on d1_0.device_code=sd1_0.device_code 
    where
        sd1_0.staffcode=?
2026-01-11 17:52:20 [http-nio-9091-exec-6] DEBUG org.hibernate.SQL - 
    select
        count(d1_0.deviceid) 
    from
        devices d1_0 
    where
        d1_0.monitor_status='MONITORON'
2026-01-11 17:52:20 [http-nio-9091-exec-8] DEBUG c.b.dynamic.datasource.DynamicRoutingDataSource - dynamic-datasource switch to the primary datasource
2026-01-11 17:52:20 [http-nio-9091-exec-7] DEBUG c.b.dynamic.datasource.DynamicRoutingDataSource - dynamic-datasource switch to the primary datasource
2026-01-11 17:52:20 [http-nio-9091-exec-4] DEBUG c.b.dynamic.datasource.DynamicRoutingDataSource - dynamic-datasource switch to the primary datasource
2026-01-11 17:52:20 [http-nio-9091-exec-6] DEBUG c.b.dynamic.datasource.DynamicRoutingDataSource - dynamic-datasource switch to the primary datasource
2026-01-11 17:52:20 [http-nio-9091-exec-4] INFO  com.example.demo.aop.ServiceLogAspect - 【服务调用成功】DeviceService.getDeviceByStaffCode，结果：[]
2026-01-11 17:52:20 [http-nio-9091-exec-6] INFO  com.example.demo.aop.ServiceLogAspect - 【服务调用成功】DeviceService.getMonitorOnCountNow，结果：3
2026-01-11 17:52:20 [http-nio-9091-exec-8] INFO  com.example.demo.aop.ServiceLogAspect - 【服务调用成功】AlertService.getAlertDetails，结果：{pageSize=10, currentPage=0, totalPages=1, totalElements=3, content=[{deviceType=D4, alertType=DRUG, location=loc1, context=002, monitorStatus=MONITORON, deviceCode=001, alertTime=2025-07-13T10:05:04, alertLevel=YELLOW, deviceName=Inoue Rin}, {deviceType=D4, alertType=DRUG, location=loc1, context=001, monitorStatus=MONITORON, deviceCode=001, alertTime=2025-07-13T10:05:01, alertLevel=RED, deviceName=Inoue Rin}, {deviceType=D4, alertType=MECHINE, location=loc1, context=000, monitorStatus=MONITORON, deviceCode=001, alertTime=2025-07-11T10:04:58, alertLevel=YELLOW, deviceName=Inoue Rin}]}
2026-01-11 17:52:20 [http-nio-9091-exec-7] DEBUG org.hibernate.SQL - 
    select
        count(a1_0.id) 
    from
        alert a1_0 
    where
        yearweek(a1_0.alert_time, 1)=yearweek(?, 1) 
        and a1_0.alert_level='RED'
2026-01-11 17:52:20 [http-nio-9091-exec-6] INFO  com.example.demo.aop.ServiceLogAspect - 【服务调用开始】DeviceService.getAlertOnCountNow，参数：[]
2026-01-11 17:52:20 [http-nio-9091-exec-6] DEBUG org.hibernate.SQL - 
    select
        count(d1_0.deviceid) 
    from
        devices d1_0 
    where
        d1_0.alert_status='ON'
2026-01-11 17:52:20 [http-nio-9091-exec-6] INFO  com.example.demo.aop.ServiceLogAspect - 【服务调用成功】DeviceService.getAlertOnCountNow，结果：1
2026-01-11 17:52:20 [http-nio-9091-exec-6] INFO  com.example.demo.aop.ServiceLogAspect - 【服务调用开始】DeviceService.getOperationalOnCountNow，参数：[]
2026-01-11 17:52:20 [http-nio-9091-exec-7] DEBUG org.hibernate.SQL - 
    select
        count(a1_0.id) 
    from
        alert a1_0 
    where
        yearweek(a1_0.alert_time, 1)=yearweek(?, 1) 
        and a1_0.alert_type='MECHINE'
2026-01-11 17:52:20 [http-nio-9091-exec-6] DEBUG org.hibernate.SQL - 
    select
        count(d1_0.deviceid) 
    from
        devices d1_0 
    where
        d1_0.operational_status='RUNNING'
2026-01-11 17:52:20 [http-nio-9091-exec-6] INFO  com.example.demo.aop.ServiceLogAspect - 【服务调用成功】DeviceService.getOperationalOnCountNow，结果：2
2026-01-11 17:52:20 [http-nio-9091-exec-7] INFO  com.example.demo.aop.ServiceLogAspect - 【服务调用成功】AlertService.getWeekAlertSummary，结果：{redAlert=0, yellowAlert=0, machineFailure=0}
2026-01-11 17:52:20 [http-nio-9091-exec-6] INFO  com.example.demo.aop.ServiceLogAspect - 【服务调用开始】DeviceService.getOperationalOfflineCountNow，参数：[]
2026-01-11 17:52:20 [http-nio-9091-exec-6] DEBUG org.hibernate.SQL - 
    select
        count(d1_0.deviceid) 
    from
        devices d1_0 
    where
        d1_0.operational_status='OFFLINE'
2026-01-11 17:52:20 [http-nio-9091-exec-6] INFO  com.example.demo.aop.ServiceLogAspect - 【服务调用成功】DeviceService.getOperationalOfflineCountNow，结果：3
2026-01-11 17:57:20 [http-nio-9091-exec-3] INFO  com.example.demo.aop.ServiceLogAspect - 【服务调用开始】AlertService.getWeekAlertSummary，参数：[2026-01-11 09:57:20]
2026-01-11 17:57:20 [http-nio-9091-exec-5] INFO  com.example.demo.aop.ServiceLogAspect - 【服务调用开始】DeviceService.getMonitorOnCountNow，参数：[]
2026-01-11 17:57:20 [http-nio-9091-exec-10] INFO  com.example.demo.aop.ServiceLogAspect - 【服务调用开始】DeviceService.getDeviceByStaffCode，参数：[admin]
2026-01-11 17:57:20 [http-nio-9091-exec-1] INFO  com.example.demo.aop.ServiceLogAspect - 【服务调用开始】AlertService.getAlertDetails，参数：[0, 10]
2026-01-11 17:57:20 [http-nio-9091-exec-3] DEBUG org.hibernate.SQL - 
    select
        count(a1_0.id) 
    from
        alert a1_0 
    where
        yearweek(a1_0.alert_time, 1)=yearweek(?, 1) 
        and a1_0.alert_level='YELLOW'
2026-01-11 17:57:20 [http-nio-9091-exec-1] DEBUG org.hibernate.SQL - 
    select
        a1_0.alert_time,
        d1_0.device_code,
        d1_0.device_name,
        d1_0.device_type,
        d1_0.location,
        d1_0.monitor_status,
        a1_0.alert_type,
        a1_0.alert_level,
        a1_0.context 
    from
        alert a1_0 
    join
        devices d1_0 
            on d1_0.deviceid=a1_0.device_id 
    order by
        a1_0.alert_time desc 
    limit
        ?
2026-01-11 17:57:20 [http-nio-9091-exec-5] DEBUG org.hibernate.SQL - 
    select
        count(d1_0.deviceid) 
    from
        devices d1_0 
    where
        d1_0.monitor_status='MONITORON'
2026-01-11 17:57:20 [http-nio-9091-exec-10] DEBUG org.hibernate.SQL - 
    select
        d1_0.deviceid,
        d1_0.alert_status,
        d1_0.calibration_operator,
        d1_0.calibration_status,
        d1_0.created_at,
        d1_0.device_code,
        d1_0.device_name,
        d1_0.device_type,
        d1_0.last_calibration,
        d1_0.location,
        d1_0.monitor_status,
        d1_0.next_calibration,
        d1_0.operational_status,
        d1_0.self_calibration,
        d1_0.updated_at 
    from
        staffdevice sd1_0 
    join
        devices d1_0 
            on d1_0.device_code=sd1_0.device_code 
    where
        sd1_0.staffcode=?
2026-01-11 17:57:20 [http-nio-9091-exec-1] DEBUG c.b.dynamic.datasource.DynamicRoutingDataSource - dynamic-datasource switch to the primary datasource
2026-01-11 17:57:20 [http-nio-9091-exec-3] DEBUG c.b.dynamic.datasource.DynamicRoutingDataSource - dynamic-datasource switch to the primary datasource
2026-01-11 17:57:20 [http-nio-9091-exec-5] DEBUG c.b.dynamic.datasource.DynamicRoutingDataSource - dynamic-datasource switch to the primary datasource
2026-01-11 17:57:20 [http-nio-9091-exec-10] DEBUG c.b.dynamic.datasource.DynamicRoutingDataSource - dynamic-datasource switch to the primary datasource
2026-01-11 17:57:20 [http-nio-9091-exec-5] INFO  com.example.demo.aop.ServiceLogAspect - 【服务调用成功】DeviceService.getMonitorOnCountNow，结果：3
2026-01-11 17:57:20 [http-nio-9091-exec-1] INFO  com.example.demo.aop.ServiceLogAspect - 【服务调用成功】AlertService.getAlertDetails，结果：{pageSize=10, currentPage=0, totalPages=1, totalElements=3, content=[{deviceType=D4, alertType=DRUG, location=loc1, context=002, monitorStatus=MONITORON, deviceCode=001, alertTime=2025-07-13T10:05:04, alertLevel=YELLOW, deviceName=Inoue Rin}, {deviceType=D4, alertType=DRUG, location=loc1, context=001, monitorStatus=MONITORON, deviceCode=001, alertTime=2025-07-13T10:05:01, alertLevel=RED, deviceName=Inoue Rin}, {deviceType=D4, alertType=MECHINE, location=loc1, context=000, monitorStatus=MONITORON, deviceCode=001, alertTime=2025-07-11T10:04:58, alertLevel=YELLOW, deviceName=Inoue Rin}]}
2026-01-11 17:57:20 [http-nio-9091-exec-5] INFO  com.example.demo.aop.ServiceLogAspect - 【服务调用开始】DeviceService.getAlertOnCountNow，参数：[]
2026-01-11 17:57:20 [http-nio-9091-exec-10] INFO  com.example.demo.aop.ServiceLogAspect - 【服务调用成功】DeviceService.getDeviceByStaffCode，结果：[]
2026-01-11 17:57:20 [http-nio-9091-exec-3] DEBUG org.hibernate.SQL - 
    select
        count(a1_0.id) 
    from
        alert a1_0 
    where
        yearweek(a1_0.alert_time, 1)=yearweek(?, 1) 
        and a1_0.alert_level='RED'
2026-01-11 17:57:20 [http-nio-9091-exec-5] DEBUG org.hibernate.SQL - 
    select
        count(d1_0.deviceid) 
    from
        devices d1_0 
    where
        d1_0.alert_status='ON'
2026-01-11 17:57:20 [http-nio-9091-exec-5] INFO  com.example.demo.aop.ServiceLogAspect - 【服务调用成功】DeviceService.getAlertOnCountNow，结果：1
2026-01-11 17:57:20 [http-nio-9091-exec-5] INFO  com.example.demo.aop.ServiceLogAspect - 【服务调用开始】DeviceService.getOperationalOnCountNow，参数：[]
2026-01-11 17:57:20 [http-nio-9091-exec-5] DEBUG org.hibernate.SQL - 
    select
        count(d1_0.deviceid) 
    from
        devices d1_0 
    where
        d1_0.operational_status='RUNNING'
2026-01-11 17:57:20 [http-nio-9091-exec-3] DEBUG org.hibernate.SQL - 
    select
        count(a1_0.id) 
    from
        alert a1_0 
    where
        yearweek(a1_0.alert_time, 1)=yearweek(?, 1) 
        and a1_0.alert_type='MECHINE'
2026-01-11 17:57:20 [http-nio-9091-exec-5] INFO  com.example.demo.aop.ServiceLogAspect - 【服务调用成功】DeviceService.getOperationalOnCountNow，结果：2
2026-01-11 17:57:20 [http-nio-9091-exec-3] INFO  com.example.demo.aop.ServiceLogAspect - 【服务调用成功】AlertService.getWeekAlertSummary，结果：{redAlert=0, yellowAlert=0, machineFailure=0}
2026-01-11 17:57:20 [http-nio-9091-exec-5] INFO  com.example.demo.aop.ServiceLogAspect - 【服务调用开始】DeviceService.getOperationalOfflineCountNow，参数：[]
2026-01-11 17:57:20 [http-nio-9091-exec-5] DEBUG org.hibernate.SQL - 
    select
        count(d1_0.deviceid) 
    from
        devices d1_0 
    where
        d1_0.operational_status='OFFLINE'
2026-01-11 17:57:20 [http-nio-9091-exec-5] INFO  com.example.demo.aop.ServiceLogAspect - 【服务调用成功】DeviceService.getOperationalOfflineCountNow，结果：3
2026-01-11 17:58:26 [http-nio-9091-exec-9] INFO  com.example.demo.aop.ServiceLogAspect - 【服务调用开始】DeviceService.getCountAll，参数：[]
2026-01-11 17:58:26 [http-nio-9091-exec-9] DEBUG org.hibernate.SQL - 
    select
        count(d1_0.deviceid) 
    from
        devices d1_0
2026-01-11 17:58:26 [http-nio-9091-exec-9] DEBUG c.b.dynamic.datasource.DynamicRoutingDataSource - dynamic-datasource switch to the primary datasource
2026-01-11 17:58:26 [http-nio-9091-exec-9] INFO  com.example.demo.aop.ServiceLogAspect - 【服务调用成功】DeviceService.getCountAll，结果：5
2026-01-11 17:58:26 [http-nio-9091-exec-4] INFO  com.example.demo.aop.ServiceLogAspect - 【服务调用开始】DeviceService.getAllDevices，参数：[]
2026-01-11 17:58:26 [http-nio-9091-exec-7] INFO  com.example.demo.aop.ServiceLogAspect - 【服务调用开始】InspectDataService.getLatestInspectionsWithDeviceInfo，参数：[]
2026-01-11 17:58:26 [http-nio-9091-exec-8] INFO  com.example.demo.aop.ServiceLogAspect - 【服务调用开始】DeviceService.getWaitCalibrationCountNow，参数：[]
2026-01-11 17:58:26 [http-nio-9091-exec-4] DEBUG c.b.dynamic.datasource.DynamicRoutingDataSource - dynamic-datasource switch to the primary datasource
2026-01-11 17:58:26 [http-nio-9091-exec-2] INFO  com.example.demo.aop.ServiceLogAspect - 【服务调用开始】AlertService.getTodayAlertCount，参数：[2026-01-11 17:58:25]
2026-01-11 17:58:26 [http-nio-9091-exec-8] DEBUG org.hibernate.SQL - 
    select
        count(d1_0.deviceid) 
    from
        devices d1_0 
    where
        d1_0.calibration_status='PENDING'
2026-01-11 17:58:26 [http-nio-9091-exec-7] DEBUG org.hibernate.SQL - 
    select
        id1_0.data_id,
        id1_0.batch_no,
        id1_0.create_time,
        d1_0.deviceid,
        d1_0.alert_status,
        d1_0.calibration_operator,
        d1_0.calibration_status,
        d1_0.created_at,
        d1_0.device_code,
        d1_0.device_name,
        d1_0.device_type,
        d1_0.last_calibration,
        d1_0.location,
        d1_0.monitor_status,
        d1_0.next_calibration,
        d1_0.operational_status,
        d1_0.self_calibration,
        d1_0.updated_at,
        id1_0.diameter,
        id1_0.friability,
        id1_0.hardness,
        id1_0.inspect_time,
        id1_0.is_valid,
        id1_0.product_id,
        p1_0.product_id,
        p1_0.product_name,
        p1_0.specification,
        id1_0.thickness,
        id1_0.weight 
    from
        inspection_data id1_0 
    left join
        devices d1_0 
            on d1_0.deviceid=id1_0.device_id 
    join
        product p1_0 
            on p1_0.product_id=id1_0.product_id 
    where
        id1_0.inspect_time=(
            select
                max(id2_0.inspect_time) 
            from
                inspection_data id2_0 
            where
                id2_0.device_id=id1_0.device_id 
                and id2_0.is_valid=1
        )
2026-01-11 17:58:26 [http-nio-9091-exec-2] DEBUG org.hibernate.SQL - 
    select
        count(a1_0.id) 
    from
        alert a1_0 
    where
        date(a1_0.alert_time)=date(?)
2026-01-11 17:58:26 [http-nio-9091-exec-4] DEBUG org.hibernate.SQL - 
    select
        d1_0.deviceid,
        d1_0.alert_status,
        d1_0.calibration_operator,
        d1_0.calibration_status,
        d1_0.created_at,
        d1_0.device_code,
        d1_0.device_name,
        d1_0.device_type,
        d1_0.last_calibration,
        d1_0.location,
        d1_0.monitor_status,
        d1_0.next_calibration,
        d1_0.operational_status,
        d1_0.self_calibration,
        d1_0.updated_at 
    from
        devices d1_0
2026-01-11 17:58:26 [http-nio-9091-exec-8] DEBUG c.b.dynamic.datasource.DynamicRoutingDataSource - dynamic-datasource switch to the primary datasource
2026-01-11 17:58:26 [http-nio-9091-exec-7] DEBUG c.b.dynamic.datasource.DynamicRoutingDataSource - dynamic-datasource switch to the primary datasource
2026-01-11 17:58:26 [http-nio-9091-exec-2] DEBUG c.b.dynamic.datasource.DynamicRoutingDataSource - dynamic-datasource switch to the primary datasource
2026-01-11 17:58:26 [http-nio-9091-exec-8] INFO  com.example.demo.aop.ServiceLogAspect - 【服务调用成功】DeviceService.getWaitCalibrationCountNow，结果：1
2026-01-11 17:58:26 [http-nio-9091-exec-2] INFO  com.example.demo.aop.ServiceLogAspect - 【服务调用成功】AlertService.getTodayAlertCount，结果：0
2026-01-11 17:58:26 [http-nio-9091-exec-7] INFO  com.example.demo.aop.ServiceLogAspect - 【服务调用成功】InspectDataService.getLatestInspectionsWithDeviceInfo，结果：[com.example.demo.entity.InspectionData@56e421fc, com.example.demo.entity.InspectionData@321f3d0a]
2026-01-11 17:58:26 [http-nio-9091-exec-4] INFO  com.example.demo.aop.ServiceLogAspect - 【服务调用成功】DeviceService.getAllDevices，结果：[com.example.demo.entity.Device@79a35196, com.example.demo.entity.Device@45b872cb, com.example.demo.entity.Device@719196a8, com.example.demo.entity.Device@18ef7afe, com.example.demo.entity.Device@7b23b794]
2026-01-11 17:58:27 [http-nio-9091-exec-6] INFO  com.example.demo.aop.ServiceLogAspect - 【服务调用开始】DeviceService.getCountAll，参数：[]
2026-01-11 17:58:27 [http-nio-9091-exec-6] DEBUG org.hibernate.SQL - 
    select
        count(d1_0.deviceid) 
    from
        devices d1_0
2026-01-11 17:58:27 [http-nio-9091-exec-6] DEBUG c.b.dynamic.datasource.DynamicRoutingDataSource - dynamic-datasource switch to the primary datasource
2026-01-11 17:58:27 [http-nio-9091-exec-6] INFO  com.example.demo.aop.ServiceLogAspect - 【服务调用成功】DeviceService.getCountAll，结果：5
2026-01-11 17:58:27 [http-nio-9091-exec-10] INFO  com.example.demo.aop.ServiceLogAspect - 【服务调用开始】AlertService.getDeviceAlertOverview，参数：[]
2026-01-11 17:58:27 [http-nio-9091-exec-3] INFO  com.example.demo.aop.ServiceLogAspect - 【服务调用开始】DeviceService.getWaitCalibrationCountNow，参数：[]
2026-01-11 17:58:27 [http-nio-9091-exec-10] DEBUG c.b.dynamic.datasource.DynamicRoutingDataSource - dynamic-datasource switch to the primary datasource
2026-01-11 17:58:27 [http-nio-9091-exec-5] INFO  com.example.demo.aop.ServiceLogAspect - 【服务调用开始】AlertService.getAlertDetailsByTimeRange，参数：[2026-01-04T01:58, 2026-01-11T01:58, null, 0, 50]
2026-01-11 17:58:27 [http-nio-9091-exec-3] DEBUG org.hibernate.SQL - 
    select
        count(d1_0.deviceid) 
    from
        devices d1_0 
    where
        d1_0.calibration_status='PENDING'
2026-01-11 17:58:27 [http-nio-9091-exec-1] INFO  com.example.demo.aop.ServiceLogAspect - 【服务调用开始】AlertService.getTodayAlertCount，参数：[2026-01-11 17:58:27]
2026-01-11 17:58:27 [http-nio-9091-exec-10] DEBUG org.hibernate.SQL - 
    select
        d1_0.deviceid,
        d1_0.alert_status,
        d1_0.calibration_operator,
        d1_0.calibration_status,
        d1_0.created_at,
        d1_0.device_code,
        d1_0.device_name,
        d1_0.device_type,
        d1_0.last_calibration,
        d1_0.location,
        d1_0.monitor_status,
        d1_0.next_calibration,
        d1_0.operational_status,
        d1_0.self_calibration,
        d1_0.updated_at 
    from
        devices d1_0
2026-01-11 17:58:27 [http-nio-9091-exec-5] DEBUG org.hibernate.SQL - 
    select
        a1_0.alert_time,
        d1_0.device_code,
        d1_0.device_name,
        d1_0.device_type,
        d1_0.location,
        d1_0.monitor_status,
        a1_0.alert_type,
        a1_0.alert_level,
        a1_0.context 
    from
        alert a1_0 
    join
        devices d1_0 
            on d1_0.deviceid=a1_0.device_id 
    where
        (
            ? is null 
            or a1_0.alert_time>=?
        ) 
        and (
            ? is null 
            or a1_0.alert_time<=?
        ) 
        and (
            ? is null 
            or d1_0.device_code=?
        ) 
    order by
        a1_0.alert_time desc 
    limit
        ?
2026-01-11 17:58:27 [http-nio-9091-exec-3] DEBUG c.b.dynamic.datasource.DynamicRoutingDataSource - dynamic-datasource switch to the primary datasource
2026-01-11 17:58:27 [http-nio-9091-exec-1] DEBUG org.hibernate.SQL - 
    select
        count(a1_0.id) 
    from
        alert a1_0 
    where
        date(a1_0.alert_time)=date(?)
2026-01-11 17:58:27 [http-nio-9091-exec-5] DEBUG c.b.dynamic.datasource.DynamicRoutingDataSource - dynamic-datasource switch to the primary datasource
2026-01-11 17:58:27 [http-nio-9091-exec-1] DEBUG c.b.dynamic.datasource.DynamicRoutingDataSource - dynamic-datasource switch to the primary datasource
2026-01-11 17:58:27 [http-nio-9091-exec-3] INFO  com.example.demo.aop.ServiceLogAspect - 【服务调用成功】DeviceService.getWaitCalibrationCountNow，结果：1
2026-01-11 17:58:27 [http-nio-9091-exec-5] INFO  com.example.demo.aop.ServiceLogAspect - 【服务调用成功】AlertService.getAlertDetailsByTimeRange，结果：{pageSize=50, currentPage=0, totalPages=0, totalElements=0, content=[]}
2026-01-11 17:58:27 [http-nio-9091-exec-1] INFO  com.example.demo.aop.ServiceLogAspect - 【服务调用成功】AlertService.getTodayAlertCount，结果：0
2026-01-11 17:58:27 [http-nio-9091-exec-10] DEBUG org.hibernate.SQL - 
    select
        a1_0.id,
        a1_0.alert_level,
        a1_0.alert_time,
        a1_0.alert_type,
        a1_0.context,
        a1_0.device_id 
    from
        alert a1_0 
    left join
        devices d1_0 
            on d1_0.deviceid=a1_0.device_id 
    where
        d1_0.deviceid=? 
    order by
        a1_0.alert_time desc 
    limit
        ?
2026-01-11 17:58:27 [http-nio-9091-exec-10] DEBUG org.hibernate.SQL - 
    select
        a1_0.id,
        a1_0.alert_level,
        a1_0.alert_time,
        a1_0.alert_type,
        a1_0.context,
        a1_0.device_id 
    from
        alert a1_0 
    left join
        devices d1_0 
            on d1_0.deviceid=a1_0.device_id 
    where
        d1_0.deviceid=? 
    order by
        a1_0.alert_time desc 
    limit
        ?
2026-01-11 17:58:27 [http-nio-9091-exec-10] DEBUG org.hibernate.SQL - 
    select
        a1_0.id,
        a1_0.alert_level,
        a1_0.alert_time,
        a1_0.alert_type,
        a1_0.context,
        a1_0.device_id 
    from
        alert a1_0 
    left join
        devices d1_0 
            on d1_0.deviceid=a1_0.device_id 
    where
        d1_0.deviceid=? 
    order by
        a1_0.alert_time desc 
    limit
        ?
2026-01-11 17:58:27 [http-nio-9091-exec-10] DEBUG org.hibernate.SQL - 
    select
        a1_0.id,
        a1_0.alert_level,
        a1_0.alert_time,
        a1_0.alert_type,
        a1_0.context,
        a1_0.device_id 
    from
        alert a1_0 
    left join
        devices d1_0 
            on d1_0.deviceid=a1_0.device_id 
    where
        d1_0.deviceid=? 
    order by
        a1_0.alert_time desc 
    limit
        ?
2026-01-11 17:58:27 [http-nio-9091-exec-10] DEBUG org.hibernate.SQL - 
    select
        a1_0.id,
        a1_0.alert_level,
        a1_0.alert_time,
        a1_0.alert_type,
        a1_0.context,
        a1_0.device_id 
    from
        alert a1_0 
    left join
        devices d1_0 
            on d1_0.deviceid=a1_0.device_id 
    where
        d1_0.deviceid=? 
    order by
        a1_0.alert_time desc 
    limit
        ?
2026-01-11 17:58:27 [http-nio-9091-exec-10] INFO  com.example.demo.aop.ServiceLogAspect - 【服务调用成功】AlertService.getDeviceAlertOverview，结果：[{deviceType=D4, operationalStatus=RUNNING, alertStatus=ON, latestAlertLevel=YELLOW, latestAlertTime=2025-07-13T10:05:04, location=loc1, deviceCode=001, deviceId=1, deviceName=Inoue Rin, monitorStatus=MONITORON, latestAlertContext=002}, {deviceType=DB, operationalStatus=RUNNING, alertStatus=OFF, latestAlertLevel=null, latestAlertTime=null, location=loc2, deviceCode=002, deviceId=2, deviceName=Kong Lan, monitorStatus=MONITORON, latestAlertContext=null}, {deviceType=DB, operationalStatus=OFFLINE, alertStatus=OFF, latestAlertLevel=null, latestAlertTime=null, location=loc3, deviceCode=003, deviceId=3, deviceName=Chic Kwok Yin, monitorStatus=MONITORINTERRUPT, latestAlertContext=null}, {deviceType=D4, operationalStatus=OFFLINE, alertStatus=OFF, latestAlertLevel=null, latestAlertTime=null, location=loc4, deviceCode=004, deviceId=4, deviceName=Lo Wai Lam, monitorStatus=MONITORON, latestAlertContext=null}, {deviceType=DB, operationalStatus=OFFLINE, alertStatus=OFF, latestAlertLevel=null, latestAlertTime=null, location=loc5, deviceCode=005, deviceId=5, deviceName=Saito Ayano, monitorStatus=MONITOROFF, latestAlertContext=null}]
2026-01-11 17:58:27 [http-nio-9091-exec-9] INFO  com.example.demo.aop.ServiceLogAspect - 【服务调用开始】DeviceService.getCountAll，参数：[]
2026-01-11 17:58:27 [http-nio-9091-exec-9] DEBUG org.hibernate.SQL - 
    select
        count(d1_0.deviceid) 
    from
        devices d1_0
2026-01-11 17:58:27 [http-nio-9091-exec-9] DEBUG c.b.dynamic.datasource.DynamicRoutingDataSource - dynamic-datasource switch to the primary datasource
2026-01-11 17:58:27 [http-nio-9091-exec-9] INFO  com.example.demo.aop.ServiceLogAspect - 【服务调用成功】DeviceService.getCountAll，结果：5
2026-01-11 17:58:27 [http-nio-9091-exec-2] INFO  com.example.demo.aop.ServiceLogAspect - 【服务调用开始】DeviceService.getWaitCalibrationCountNow，参数：[]
2026-01-11 17:58:27 [http-nio-9091-exec-7] INFO  com.example.demo.aop.ServiceLogAspect - 【服务调用开始】DeviceService.getAllDevices，参数：[]
2026-01-11 17:58:27 [http-nio-9091-exec-2] DEBUG org.hibernate.SQL - 
    select
        count(d1_0.deviceid) 
    from
        devices d1_0 
    where
        d1_0.calibration_status='PENDING'
2026-01-11 17:58:27 [http-nio-9091-exec-8] INFO  com.example.demo.aop.ServiceLogAspect - 【服务调用开始】AlertService.getTodayAlertCount，参数：[2026-01-11 17:58:27]
2026-01-11 17:58:27 [http-nio-9091-exec-7] DEBUG c.b.dynamic.datasource.DynamicRoutingDataSource - dynamic-datasource switch to the primary datasource
2026-01-11 17:58:27 [http-nio-9091-exec-2] DEBUG c.b.dynamic.datasource.DynamicRoutingDataSource - dynamic-datasource switch to the primary datasource
2026-01-11 17:58:27 [http-nio-9091-exec-8] DEBUG org.hibernate.SQL - 
    select
        count(a1_0.id) 
    from
        alert a1_0 
    where
        date(a1_0.alert_time)=date(?)
2026-01-11 17:58:27 [http-nio-9091-exec-2] INFO  com.example.demo.aop.ServiceLogAspect - 【服务调用成功】DeviceService.getWaitCalibrationCountNow，结果：1
2026-01-11 17:58:27 [http-nio-9091-exec-7] DEBUG org.hibernate.SQL - 
    select
        d1_0.deviceid,
        d1_0.alert_status,
        d1_0.calibration_operator,
        d1_0.calibration_status,
        d1_0.created_at,
        d1_0.device_code,
        d1_0.device_name,
        d1_0.device_type,
        d1_0.last_calibration,
        d1_0.location,
        d1_0.monitor_status,
        d1_0.next_calibration,
        d1_0.operational_status,
        d1_0.self_calibration,
        d1_0.updated_at 
    from
        devices d1_0
2026-01-11 17:58:27 [http-nio-9091-exec-8] DEBUG c.b.dynamic.datasource.DynamicRoutingDataSource - dynamic-datasource switch to the primary datasource
2026-01-11 17:58:27 [http-nio-9091-exec-4] INFO  com.example.demo.aop.ServiceLogAspect - 【服务调用开始】InspectDataService.getLatestInspectionsWithDeviceInfo，参数：[]
2026-01-11 17:58:27 [http-nio-9091-exec-8] INFO  com.example.demo.aop.ServiceLogAspect - 【服务调用成功】AlertService.getTodayAlertCount，结果：0
2026-01-11 17:58:27 [http-nio-9091-exec-7] INFO  com.example.demo.aop.ServiceLogAspect - 【服务调用成功】DeviceService.getAllDevices，结果：[com.example.demo.entity.Device@7c728e16, com.example.demo.entity.Device@481e9dd2, com.example.demo.entity.Device@7ef39452, com.example.demo.entity.Device@3b327a1, com.example.demo.entity.Device@6b590bff]
2026-01-11 17:58:27 [http-nio-9091-exec-4] DEBUG org.hibernate.SQL - 
    select
        id1_0.data_id,
        id1_0.batch_no,
        id1_0.create_time,
        d1_0.deviceid,
        d1_0.alert_status,
        d1_0.calibration_operator,
        d1_0.calibration_status,
        d1_0.created_at,
        d1_0.device_code,
        d1_0.device_name,
        d1_0.device_type,
        d1_0.last_calibration,
        d1_0.location,
        d1_0.monitor_status,
        d1_0.next_calibration,
        d1_0.operational_status,
        d1_0.self_calibration,
        d1_0.updated_at,
        id1_0.diameter,
        id1_0.friability,
        id1_0.hardness,
        id1_0.inspect_time,
        id1_0.is_valid,
        id1_0.product_id,
        p1_0.product_id,
        p1_0.product_name,
        p1_0.specification,
        id1_0.thickness,
        id1_0.weight 
    from
        inspection_data id1_0 
    left join
        devices d1_0 
            on d1_0.deviceid=id1_0.device_id 
    join
        product p1_0 
            on p1_0.product_id=id1_0.product_id 
    where
        id1_0.inspect_time=(
            select
                max(id2_0.inspect_time) 
            from
                inspection_data id2_0 
            where
                id2_0.device_id=id1_0.device_id 
                and id2_0.is_valid=1
        )
2026-01-11 17:58:27 [http-nio-9091-exec-4] DEBUG c.b.dynamic.datasource.DynamicRoutingDataSource - dynamic-datasource switch to the primary datasource
2026-01-11 17:58:27 [http-nio-9091-exec-4] INFO  com.example.demo.aop.ServiceLogAspect - 【服务调用成功】InspectDataService.getLatestInspectionsWithDeviceInfo，结果：[com.example.demo.entity.InspectionData@1b4d20ac, com.example.demo.entity.InspectionData@61001069]
2026-01-11 17:58:27 [http-nio-9091-exec-6] INFO  com.example.demo.aop.ServiceLogAspect - 【服务调用开始】AlertService.getAlertDetails，参数：[0, 10]
2026-01-11 17:58:27 [http-nio-9091-exec-6] DEBUG org.hibernate.SQL - 
    select
        a1_0.alert_time,
        d1_0.device_code,
        d1_0.device_name,
        d1_0.device_type,
        d1_0.location,
        d1_0.monitor_status,
        a1_0.alert_type,
        a1_0.alert_level,
        a1_0.context 
    from
        alert a1_0 
    join
        devices d1_0 
            on d1_0.deviceid=a1_0.device_id 
    order by
        a1_0.alert_time desc 
    limit
        ?
2026-01-11 17:58:27 [http-nio-9091-exec-6] DEBUG c.b.dynamic.datasource.DynamicRoutingDataSource - dynamic-datasource switch to the primary datasource
2026-01-11 17:58:27 [http-nio-9091-exec-6] INFO  com.example.demo.aop.ServiceLogAspect - 【服务调用成功】AlertService.getAlertDetails，结果：{pageSize=10, currentPage=0, totalPages=1, totalElements=3, content=[{deviceType=D4, alertType=DRUG, location=loc1, context=002, monitorStatus=MONITORON, deviceCode=001, alertTime=2025-07-13T10:05:04, alertLevel=YELLOW, deviceName=Inoue Rin}, {deviceType=D4, alertType=DRUG, location=loc1, context=001, monitorStatus=MONITORON, deviceCode=001, alertTime=2025-07-13T10:05:01, alertLevel=RED, deviceName=Inoue Rin}, {deviceType=D4, alertType=MECHINE, location=loc1, context=000, monitorStatus=MONITORON, deviceCode=001, alertTime=2025-07-11T10:04:58, alertLevel=YELLOW, deviceName=Inoue Rin}]}
2026-01-11 17:58:27 [http-nio-9091-exec-1] INFO  com.example.demo.aop.ServiceLogAspect - 【服务调用开始】DeviceService.getMonitorOnCountNow，参数：[]
2026-01-11 17:58:27 [http-nio-9091-exec-3] INFO  com.example.demo.aop.ServiceLogAspect - 【服务调用开始】DeviceService.getDeviceByStaffCode，参数：[admin]
2026-01-11 17:58:27 [http-nio-9091-exec-5] INFO  com.example.demo.aop.ServiceLogAspect - 【服务调用开始】AlertService.getWeekAlertSummary，参数：[2026-01-11 09:58:27]
2026-01-11 17:58:27 [http-nio-9091-exec-1] DEBUG org.hibernate.SQL - 
    select
        count(d1_0.deviceid) 
    from
        devices d1_0 
    where
        d1_0.monitor_status='MONITORON'
2026-01-11 17:58:27 [http-nio-9091-exec-3] DEBUG org.hibernate.SQL - 
    select
        d1_0.deviceid,
        d1_0.alert_status,
        d1_0.calibration_operator,
        d1_0.calibration_status,
        d1_0.created_at,
        d1_0.device_code,
        d1_0.device_name,
        d1_0.device_type,
        d1_0.last_calibration,
        d1_0.location,
        d1_0.monitor_status,
        d1_0.next_calibration,
        d1_0.operational_status,
        d1_0.self_calibration,
        d1_0.updated_at 
    from
        staffdevice sd1_0 
    join
        devices d1_0 
            on d1_0.device_code=sd1_0.device_code 
    where
        sd1_0.staffcode=?
2026-01-11 17:58:27 [http-nio-9091-exec-5] DEBUG org.hibernate.SQL - 
    select
        count(a1_0.id) 
    from
        alert a1_0 
    where
        yearweek(a1_0.alert_time, 1)=yearweek(?, 1) 
        and a1_0.alert_level='YELLOW'
2026-01-11 17:58:27 [http-nio-9091-exec-1] DEBUG c.b.dynamic.datasource.DynamicRoutingDataSource - dynamic-datasource switch to the primary datasource
2026-01-11 17:58:27 [http-nio-9091-exec-3] DEBUG c.b.dynamic.datasource.DynamicRoutingDataSource - dynamic-datasource switch to the primary datasource
2026-01-11 17:58:27 [http-nio-9091-exec-5] DEBUG c.b.dynamic.datasource.DynamicRoutingDataSource - dynamic-datasource switch to the primary datasource
2026-01-11 17:58:27 [http-nio-9091-exec-1] INFO  com.example.demo.aop.ServiceLogAspect - 【服务调用成功】DeviceService.getMonitorOnCountNow，结果：3
2026-01-11 17:58:27 [http-nio-9091-exec-3] INFO  com.example.demo.aop.ServiceLogAspect - 【服务调用成功】DeviceService.getDeviceByStaffCode，结果：[]
2026-01-11 17:58:27 [http-nio-9091-exec-1] INFO  com.example.demo.aop.ServiceLogAspect - 【服务调用开始】DeviceService.getAlertOnCountNow，参数：[]
2026-01-11 17:58:27 [http-nio-9091-exec-5] DEBUG org.hibernate.SQL - 
    select
        count(a1_0.id) 
    from
        alert a1_0 
    where
        yearweek(a1_0.alert_time, 1)=yearweek(?, 1) 
        and a1_0.alert_level='RED'
2026-01-11 17:58:27 [http-nio-9091-exec-1] DEBUG org.hibernate.SQL - 
    select
        count(d1_0.deviceid) 
    from
        devices d1_0 
    where
        d1_0.alert_status='ON'
2026-01-11 17:58:27 [http-nio-9091-exec-1] INFO  com.example.demo.aop.ServiceLogAspect - 【服务调用成功】DeviceService.getAlertOnCountNow，结果：1
2026-01-11 17:58:27 [http-nio-9091-exec-1] INFO  com.example.demo.aop.ServiceLogAspect - 【服务调用开始】DeviceService.getOperationalOnCountNow，参数：[]
2026-01-11 17:58:27 [http-nio-9091-exec-5] DEBUG org.hibernate.SQL - 
    select
        count(a1_0.id) 
    from
        alert a1_0 
    where
        yearweek(a1_0.alert_time, 1)=yearweek(?, 1) 
        and a1_0.alert_type='MECHINE'
2026-01-11 17:58:27 [http-nio-9091-exec-1] DEBUG org.hibernate.SQL - 
    select
        count(d1_0.deviceid) 
    from
        devices d1_0 
    where
        d1_0.operational_status='RUNNING'
2026-01-11 17:58:27 [http-nio-9091-exec-5] INFO  com.example.demo.aop.ServiceLogAspect - 【服务调用成功】AlertService.getWeekAlertSummary，结果：{redAlert=0, yellowAlert=0, machineFailure=0}
2026-01-11 17:58:27 [http-nio-9091-exec-1] INFO  com.example.demo.aop.ServiceLogAspect - 【服务调用成功】DeviceService.getOperationalOnCountNow，结果：2
2026-01-11 17:58:27 [http-nio-9091-exec-1] INFO  com.example.demo.aop.ServiceLogAspect - 【服务调用开始】DeviceService.getOperationalOfflineCountNow，参数：[]
2026-01-11 17:58:27 [http-nio-9091-exec-1] DEBUG org.hibernate.SQL - 
    select
        count(d1_0.deviceid) 
    from
        devices d1_0 
    where
        d1_0.operational_status='OFFLINE'
2026-01-11 17:58:27 [http-nio-9091-exec-1] INFO  com.example.demo.aop.ServiceLogAspect - 【服务调用成功】DeviceService.getOperationalOfflineCountNow，结果：3
2026-01-11 17:58:28 [http-nio-9091-exec-10] INFO  com.example.demo.aop.ServiceLogAspect - 【服务调用开始】DeviceService.getCountAll，参数：[]
2026-01-11 17:58:28 [http-nio-9091-exec-10] DEBUG org.hibernate.SQL - 
    select
        count(d1_0.deviceid) 
    from
        devices d1_0
2026-01-11 17:58:28 [http-nio-9091-exec-10] DEBUG c.b.dynamic.datasource.DynamicRoutingDataSource - dynamic-datasource switch to the primary datasource
2026-01-11 17:58:28 [http-nio-9091-exec-10] INFO  com.example.demo.aop.ServiceLogAspect - 【服务调用成功】DeviceService.getCountAll，结果：5
2026-01-11 17:58:28 [http-nio-9091-exec-8] INFO  com.example.demo.aop.ServiceLogAspect - 【服务调用开始】DeviceService.getAllDevices，参数：[]
2026-01-11 17:58:28 [http-nio-9091-exec-10] INFO  com.example.demo.aop.ServiceLogAspect - 【服务调用开始】AlertService.getTodayAlertCount，参数：[2026-01-11 17:58:28]
2026-01-11 17:58:28 [http-nio-9091-exec-2] INFO  com.example.demo.aop.ServiceLogAspect - 【服务调用开始】DeviceService.getWaitCalibrationCountNow，参数：[]
2026-01-11 17:58:28 [http-nio-9091-exec-8] DEBUG c.b.dynamic.datasource.DynamicRoutingDataSource - dynamic-datasource switch to the primary datasource
2026-01-11 17:58:28 [http-nio-9091-exec-2] DEBUG org.hibernate.SQL - 
    select
        count(d1_0.deviceid) 
    from
        devices d1_0 
    where
        d1_0.calibration_status='PENDING'
2026-01-11 17:58:28 [http-nio-9091-exec-10] DEBUG org.hibernate.SQL - 
    select
        count(a1_0.id) 
    from
        alert a1_0 
    where
        date(a1_0.alert_time)=date(?)
2026-01-11 17:58:28 [http-nio-9091-exec-2] DEBUG c.b.dynamic.datasource.DynamicRoutingDataSource - dynamic-datasource switch to the primary datasource
2026-01-11 17:58:28 [http-nio-9091-exec-8] DEBUG org.hibernate.SQL - 
    select
        d1_0.deviceid,
        d1_0.alert_status,
        d1_0.calibration_operator,
        d1_0.calibration_status,
        d1_0.created_at,
        d1_0.device_code,
        d1_0.device_name,
        d1_0.device_type,
        d1_0.last_calibration,
        d1_0.location,
        d1_0.monitor_status,
        d1_0.next_calibration,
        d1_0.operational_status,
        d1_0.self_calibration,
        d1_0.updated_at 
    from
        devices d1_0
2026-01-11 17:58:28 [http-nio-9091-exec-10] DEBUG c.b.dynamic.datasource.DynamicRoutingDataSource - dynamic-datasource switch to the primary datasource
2026-01-11 17:58:28 [http-nio-9091-exec-7] INFO  com.example.demo.aop.ServiceLogAspect - 【服务调用开始】InspectDataService.getLatestInspectionsWithDeviceInfo，参数：[]
2026-01-11 17:58:28 [http-nio-9091-exec-2] INFO  com.example.demo.aop.ServiceLogAspect - 【服务调用成功】DeviceService.getWaitCalibrationCountNow，结果：1
2026-01-11 17:58:28 [http-nio-9091-exec-10] INFO  com.example.demo.aop.ServiceLogAspect - 【服务调用成功】AlertService.getTodayAlertCount，结果：0
2026-01-11 17:58:28 [http-nio-9091-exec-8] INFO  com.example.demo.aop.ServiceLogAspect - 【服务调用成功】DeviceService.getAllDevices，结果：[com.example.demo.entity.Device@5aebc1aa, com.example.demo.entity.Device@4d55a32a, com.example.demo.entity.Device@34c20b2b, com.example.demo.entity.Device@5b59bc8e, com.example.demo.entity.Device@5fbbc0de]
2026-01-11 17:58:28 [http-nio-9091-exec-7] DEBUG org.hibernate.SQL - 
    select
        id1_0.data_id,
        id1_0.batch_no,
        id1_0.create_time,
        d1_0.deviceid,
        d1_0.alert_status,
        d1_0.calibration_operator,
        d1_0.calibration_status,
        d1_0.created_at,
        d1_0.device_code,
        d1_0.device_name,
        d1_0.device_type,
        d1_0.last_calibration,
        d1_0.location,
        d1_0.monitor_status,
        d1_0.next_calibration,
        d1_0.operational_status,
        d1_0.self_calibration,
        d1_0.updated_at,
        id1_0.diameter,
        id1_0.friability,
        id1_0.hardness,
        id1_0.inspect_time,
        id1_0.is_valid,
        id1_0.product_id,
        p1_0.product_id,
        p1_0.product_name,
        p1_0.specification,
        id1_0.thickness,
        id1_0.weight 
    from
        inspection_data id1_0 
    left join
        devices d1_0 
            on d1_0.deviceid=id1_0.device_id 
    join
        product p1_0 
            on p1_0.product_id=id1_0.product_id 
    where
        id1_0.inspect_time=(
            select
                max(id2_0.inspect_time) 
            from
                inspection_data id2_0 
            where
                id2_0.device_id=id1_0.device_id 
                and id2_0.is_valid=1
        )
2026-01-11 17:58:28 [http-nio-9091-exec-7] DEBUG c.b.dynamic.datasource.DynamicRoutingDataSource - dynamic-datasource switch to the primary datasource
2026-01-11 17:58:28 [http-nio-9091-exec-7] INFO  com.example.demo.aop.ServiceLogAspect - 【服务调用成功】InspectDataService.getLatestInspectionsWithDeviceInfo，结果：[com.example.demo.entity.InspectionData@4b32d418, com.example.demo.entity.InspectionData@c29a328]
2026-01-11 17:58:29 [http-nio-9091-exec-4] INFO  com.example.demo.aop.ServiceLogAspect - 【服务调用开始】DeviceService.getCountAll，参数：[]
2026-01-11 17:58:29 [http-nio-9091-exec-4] DEBUG org.hibernate.SQL - 
    select
        count(d1_0.deviceid) 
    from
        devices d1_0
2026-01-11 17:58:29 [http-nio-9091-exec-4] DEBUG c.b.dynamic.datasource.DynamicRoutingDataSource - dynamic-datasource switch to the primary datasource
2026-01-11 17:58:29 [http-nio-9091-exec-4] INFO  com.example.demo.aop.ServiceLogAspect - 【服务调用成功】DeviceService.getCountAll，结果：5
2026-01-11 17:58:29 [http-nio-9091-exec-5] INFO  com.example.demo.aop.ServiceLogAspect - 【服务调用开始】AlertService.getDeviceAlertOverview，参数：[]
2026-01-11 17:58:29 [http-nio-9091-exec-3] INFO  com.example.demo.aop.ServiceLogAspect - 【服务调用开始】DeviceService.getWaitCalibrationCountNow，参数：[]
2026-01-11 17:58:29 [http-nio-9091-exec-6] INFO  com.example.demo.aop.ServiceLogAspect - 【服务调用开始】AlertService.getTodayAlertCount，参数：[2026-01-11 17:58:29]
2026-01-11 17:58:29 [http-nio-9091-exec-1] INFO  com.example.demo.aop.ServiceLogAspect - 【服务调用开始】AlertService.getAlertDetailsByTimeRange，参数：[2026-01-04T01:58, 2026-01-11T01:58, null, 0, 50]
2026-01-11 17:58:29 [http-nio-9091-exec-5] DEBUG c.b.dynamic.datasource.DynamicRoutingDataSource - dynamic-datasource switch to the primary datasource
2026-01-11 17:58:29 [http-nio-9091-exec-3] DEBUG org.hibernate.SQL - 
    select
        count(d1_0.deviceid) 
    from
        devices d1_0 
    where
        d1_0.calibration_status='PENDING'
2026-01-11 17:58:29 [http-nio-9091-exec-1] DEBUG org.hibernate.SQL - 
    select
        a1_0.alert_time,
        d1_0.device_code,
        d1_0.device_name,
        d1_0.device_type,
        d1_0.location,
        d1_0.monitor_status,
        a1_0.alert_type,
        a1_0.alert_level,
        a1_0.context 
    from
        alert a1_0 
    join
        devices d1_0 
            on d1_0.deviceid=a1_0.device_id 
    where
        (
            ? is null 
            or a1_0.alert_time>=?
        ) 
        and (
            ? is null 
            or a1_0.alert_time<=?
        ) 
        and (
            ? is null 
            or d1_0.device_code=?
        ) 
    order by
        a1_0.alert_time desc 
    limit
        ?
2026-01-11 17:58:29 [http-nio-9091-exec-3] DEBUG c.b.dynamic.datasource.DynamicRoutingDataSource - dynamic-datasource switch to the primary datasource
2026-01-11 17:58:29 [http-nio-9091-exec-6] DEBUG org.hibernate.SQL - 
    select
        count(a1_0.id) 
    from
        alert a1_0 
    where
        date(a1_0.alert_time)=date(?)
2026-01-11 17:58:29 [http-nio-9091-exec-5] DEBUG org.hibernate.SQL - 
    select
        d1_0.deviceid,
        d1_0.alert_status,
        d1_0.calibration_operator,
        d1_0.calibration_status,
        d1_0.created_at,
        d1_0.device_code,
        d1_0.device_name,
        d1_0.device_type,
        d1_0.last_calibration,
        d1_0.location,
        d1_0.monitor_status,
        d1_0.next_calibration,
        d1_0.operational_status,
        d1_0.self_calibration,
        d1_0.updated_at 
    from
        devices d1_0
2026-01-11 17:58:29 [http-nio-9091-exec-1] DEBUG c.b.dynamic.datasource.DynamicRoutingDataSource - dynamic-datasource switch to the primary datasource
2026-01-11 17:58:29 [http-nio-9091-exec-3] INFO  com.example.demo.aop.ServiceLogAspect - 【服务调用成功】DeviceService.getWaitCalibrationCountNow，结果：1
2026-01-11 17:58:29 [http-nio-9091-exec-6] DEBUG c.b.dynamic.datasource.DynamicRoutingDataSource - dynamic-datasource switch to the primary datasource
2026-01-11 17:58:29 [http-nio-9091-exec-6] INFO  com.example.demo.aop.ServiceLogAspect - 【服务调用成功】AlertService.getTodayAlertCount，结果：0
2026-01-11 17:58:29 [http-nio-9091-exec-1] INFO  com.example.demo.aop.ServiceLogAspect - 【服务调用成功】AlertService.getAlertDetailsByTimeRange，结果：{pageSize=50, currentPage=0, totalPages=0, totalElements=0, content=[]}
2026-01-11 17:58:29 [http-nio-9091-exec-5] DEBUG org.hibernate.SQL - 
    select
        a1_0.id,
        a1_0.alert_level,
        a1_0.alert_time,
        a1_0.alert_type,
        a1_0.context,
        a1_0.device_id 
    from
        alert a1_0 
    left join
        devices d1_0 
            on d1_0.deviceid=a1_0.device_id 
    where
        d1_0.deviceid=? 
    order by
        a1_0.alert_time desc 
    limit
        ?
2026-01-11 17:58:29 [http-nio-9091-exec-5] DEBUG org.hibernate.SQL - 
    select
        a1_0.id,
        a1_0.alert_level,
        a1_0.alert_time,
        a1_0.alert_type,
        a1_0.context,
        a1_0.device_id 
    from
        alert a1_0 
    left join
        devices d1_0 
            on d1_0.deviceid=a1_0.device_id 
    where
        d1_0.deviceid=? 
    order by
        a1_0.alert_time desc 
    limit
        ?
2026-01-11 17:58:29 [http-nio-9091-exec-5] DEBUG org.hibernate.SQL - 
    select
        a1_0.id,
        a1_0.alert_level,
        a1_0.alert_time,
        a1_0.alert_type,
        a1_0.context,
        a1_0.device_id 
    from
        alert a1_0 
    left join
        devices d1_0 
            on d1_0.deviceid=a1_0.device_id 
    where
        d1_0.deviceid=? 
    order by
        a1_0.alert_time desc 
    limit
        ?
2026-01-11 17:58:29 [http-nio-9091-exec-5] DEBUG org.hibernate.SQL - 
    select
        a1_0.id,
        a1_0.alert_level,
        a1_0.alert_time,
        a1_0.alert_type,
        a1_0.context,
        a1_0.device_id 
    from
        alert a1_0 
    left join
        devices d1_0 
            on d1_0.deviceid=a1_0.device_id 
    where
        d1_0.deviceid=? 
    order by
        a1_0.alert_time desc 
    limit
        ?
2026-01-11 17:58:29 [http-nio-9091-exec-5] DEBUG org.hibernate.SQL - 
    select
        a1_0.id,
        a1_0.alert_level,
        a1_0.alert_time,
        a1_0.alert_type,
        a1_0.context,
        a1_0.device_id 
    from
        alert a1_0 
    left join
        devices d1_0 
            on d1_0.deviceid=a1_0.device_id 
    where
        d1_0.deviceid=? 
    order by
        a1_0.alert_time desc 
    limit
        ?
2026-01-11 17:58:29 [http-nio-9091-exec-5] INFO  com.example.demo.aop.ServiceLogAspect - 【服务调用成功】AlertService.getDeviceAlertOverview，结果：[{deviceType=D4, operationalStatus=RUNNING, alertStatus=ON, latestAlertLevel=YELLOW, latestAlertTime=2025-07-13T10:05:04, location=loc1, deviceCode=001, deviceId=1, deviceName=Inoue Rin, monitorStatus=MONITORON, latestAlertContext=002}, {deviceType=DB, operationalStatus=RUNNING, alertStatus=OFF, latestAlertLevel=null, latestAlertTime=null, location=loc2, deviceCode=002, deviceId=2, deviceName=Kong Lan, monitorStatus=MONITORON, latestAlertContext=null}, {deviceType=DB, operationalStatus=OFFLINE, alertStatus=OFF, latestAlertLevel=null, latestAlertTime=null, location=loc3, deviceCode=003, deviceId=3, deviceName=Chic Kwok Yin, monitorStatus=MONITORINTERRUPT, latestAlertContext=null}, {deviceType=D4, operationalStatus=OFFLINE, alertStatus=OFF, latestAlertLevel=null, latestAlertTime=null, location=loc4, deviceCode=004, deviceId=4, deviceName=Lo Wai Lam, monitorStatus=MONITORON, latestAlertContext=null}, {deviceType=DB, operationalStatus=OFFLINE, alertStatus=OFF, latestAlertLevel=null, latestAlertTime=null, location=loc5, deviceCode=005, deviceId=5, deviceName=Saito Ayano, monitorStatus=MONITOROFF, latestAlertContext=null}]
2026-01-11 17:58:29 [http-nio-9091-exec-9] INFO  com.example.demo.aop.ServiceLogAspect - 【服务调用开始】DeviceService.getCountAll，参数：[]
2026-01-11 17:58:29 [http-nio-9091-exec-9] DEBUG org.hibernate.SQL - 
    select
        count(d1_0.deviceid) 
    from
        devices d1_0
2026-01-11 17:58:29 [http-nio-9091-exec-9] DEBUG c.b.dynamic.datasource.DynamicRoutingDataSource - dynamic-datasource switch to the primary datasource
2026-01-11 17:58:29 [http-nio-9091-exec-9] INFO  com.example.demo.aop.ServiceLogAspect - 【服务调用成功】DeviceService.getCountAll，结果：5
2026-01-11 17:58:29 [http-nio-9091-exec-8] INFO  com.example.demo.aop.ServiceLogAspect - 【服务调用开始】DeviceService.getAllDevices，参数：[]
2026-01-11 17:58:29 [http-nio-9091-exec-10] INFO  com.example.demo.aop.ServiceLogAspect - 【服务调用开始】DeviceService.getWaitCalibrationCountNow，参数：[]
2026-01-11 17:58:29 [http-nio-9091-exec-8] DEBUG c.b.dynamic.datasource.DynamicRoutingDataSource - dynamic-datasource switch to the primary datasource
2026-01-11 17:58:29 [http-nio-9091-exec-2] INFO  com.example.demo.aop.ServiceLogAspect - 【服务调用开始】AlertService.getTodayAlertCount，参数：[2026-01-11 17:58:29]
2026-01-11 17:58:29 [http-nio-9091-exec-10] DEBUG org.hibernate.SQL - 
    select
        count(d1_0.deviceid) 
    from
        devices d1_0 
    where
        d1_0.calibration_status='PENDING'
2026-01-11 17:58:29 [http-nio-9091-exec-10] DEBUG c.b.dynamic.datasource.DynamicRoutingDataSource - dynamic-datasource switch to the primary datasource
2026-01-11 17:58:29 [http-nio-9091-exec-8] DEBUG org.hibernate.SQL - 
    select
        d1_0.deviceid,
        d1_0.alert_status,
        d1_0.calibration_operator,
        d1_0.calibration_status,
        d1_0.created_at,
        d1_0.device_code,
        d1_0.device_name,
        d1_0.device_type,
        d1_0.last_calibration,
        d1_0.location,
        d1_0.monitor_status,
        d1_0.next_calibration,
        d1_0.operational_status,
        d1_0.self_calibration,
        d1_0.updated_at 
    from
        devices d1_0
2026-01-11 17:58:29 [http-nio-9091-exec-2] DEBUG org.hibernate.SQL - 
    select
        count(a1_0.id) 
    from
        alert a1_0 
    where
        date(a1_0.alert_time)=date(?)
2026-01-11 17:58:29 [http-nio-9091-exec-10] INFO  com.example.demo.aop.ServiceLogAspect - 【服务调用成功】DeviceService.getWaitCalibrationCountNow，结果：1
2026-01-11 17:58:29 [http-nio-9091-exec-7] INFO  com.example.demo.aop.ServiceLogAspect - 【服务调用开始】InspectDataService.getLatestInspectionsWithDeviceInfo，参数：[]
2026-01-11 17:58:29 [http-nio-9091-exec-2] DEBUG c.b.dynamic.datasource.DynamicRoutingDataSource - dynamic-datasource switch to the primary datasource
2026-01-11 17:58:29 [http-nio-9091-exec-8] INFO  com.example.demo.aop.ServiceLogAspect - 【服务调用成功】DeviceService.getAllDevices，结果：[com.example.demo.entity.Device@674630ba, com.example.demo.entity.Device@14a4f5b, com.example.demo.entity.Device@2749d171, com.example.demo.entity.Device@7d44f3a0, com.example.demo.entity.Device@2bd1df52]
2026-01-11 17:58:29 [http-nio-9091-exec-2] INFO  com.example.demo.aop.ServiceLogAspect - 【服务调用成功】AlertService.getTodayAlertCount，结果：0
2026-01-11 17:58:29 [http-nio-9091-exec-7] DEBUG org.hibernate.SQL - 
    select
        id1_0.data_id,
        id1_0.batch_no,
        id1_0.create_time,
        d1_0.deviceid,
        d1_0.alert_status,
        d1_0.calibration_operator,
        d1_0.calibration_status,
        d1_0.created_at,
        d1_0.device_code,
        d1_0.device_name,
        d1_0.device_type,
        d1_0.last_calibration,
        d1_0.location,
        d1_0.monitor_status,
        d1_0.next_calibration,
        d1_0.operational_status,
        d1_0.self_calibration,
        d1_0.updated_at,
        id1_0.diameter,
        id1_0.friability,
        id1_0.hardness,
        id1_0.inspect_time,
        id1_0.is_valid,
        id1_0.product_id,
        p1_0.product_id,
        p1_0.product_name,
        p1_0.specification,
        id1_0.thickness,
        id1_0.weight 
    from
        inspection_data id1_0 
    left join
        devices d1_0 
            on d1_0.deviceid=id1_0.device_id 
    join
        product p1_0 
            on p1_0.product_id=id1_0.product_id 
    where
        id1_0.inspect_time=(
            select
                max(id2_0.inspect_time) 
            from
                inspection_data id2_0 
            where
                id2_0.device_id=id1_0.device_id 
                and id2_0.is_valid=1
        )
2026-01-11 17:58:29 [http-nio-9091-exec-7] DEBUG c.b.dynamic.datasource.DynamicRoutingDataSource - dynamic-datasource switch to the primary datasource
2026-01-11 17:58:29 [http-nio-9091-exec-7] INFO  com.example.demo.aop.ServiceLogAspect - 【服务调用成功】InspectDataService.getLatestInspectionsWithDeviceInfo，结果：[com.example.demo.entity.InspectionData@b50dfcb, com.example.demo.entity.InspectionData@41fd700f]
2026-01-11 17:58:29 [http-nio-9091-exec-4] INFO  com.example.demo.aop.ServiceLogAspect - 【服务调用开始】AlertService.getAlertDetails，参数：[0, 10]
2026-01-11 17:58:29 [http-nio-9091-exec-4] DEBUG org.hibernate.SQL - 
    select
        a1_0.alert_time,
        d1_0.device_code,
        d1_0.device_name,
        d1_0.device_type,
        d1_0.location,
        d1_0.monitor_status,
        a1_0.alert_type,
        a1_0.alert_level,
        a1_0.context 
    from
        alert a1_0 
    join
        devices d1_0 
            on d1_0.deviceid=a1_0.device_id 
    order by
        a1_0.alert_time desc 
    limit
        ?
2026-01-11 17:58:29 [http-nio-9091-exec-4] DEBUG c.b.dynamic.datasource.DynamicRoutingDataSource - dynamic-datasource switch to the primary datasource
2026-01-11 17:58:29 [http-nio-9091-exec-4] INFO  com.example.demo.aop.ServiceLogAspect - 【服务调用成功】AlertService.getAlertDetails，结果：{pageSize=10, currentPage=0, totalPages=1, totalElements=3, content=[{deviceType=D4, alertType=DRUG, location=loc1, context=002, monitorStatus=MONITORON, deviceCode=001, alertTime=2025-07-13T10:05:04, alertLevel=YELLOW, deviceName=Inoue Rin}, {deviceType=D4, alertType=DRUG, location=loc1, context=001, monitorStatus=MONITORON, deviceCode=001, alertTime=2025-07-13T10:05:01, alertLevel=RED, deviceName=Inoue Rin}, {deviceType=D4, alertType=MECHINE, location=loc1, context=000, monitorStatus=MONITORON, deviceCode=001, alertTime=2025-07-11T10:04:58, alertLevel=YELLOW, deviceName=Inoue Rin}]}
2026-01-11 17:58:29 [http-nio-9091-exec-1] INFO  com.example.demo.aop.ServiceLogAspect - 【服务调用开始】DeviceService.getMonitorOnCountNow，参数：[]
2026-01-11 17:58:29 [http-nio-9091-exec-6] INFO  com.example.demo.aop.ServiceLogAspect - 【服务调用开始】DeviceService.getDeviceByStaffCode，参数：[admin]
2026-01-11 17:58:29 [http-nio-9091-exec-3] INFO  com.example.demo.aop.ServiceLogAspect - 【服务调用开始】AlertService.getWeekAlertSummary，参数：[2026-01-11 09:58:29]
2026-01-11 17:58:29 [http-nio-9091-exec-1] DEBUG org.hibernate.SQL - 
    select
        count(d1_0.deviceid) 
    from
        devices d1_0 
    where
        d1_0.monitor_status='MONITORON'
2026-01-11 17:58:29 [http-nio-9091-exec-6] DEBUG org.hibernate.SQL - 
    select
        d1_0.deviceid,
        d1_0.alert_status,
        d1_0.calibration_operator,
        d1_0.calibration_status,
        d1_0.created_at,
        d1_0.device_code,
        d1_0.device_name,
        d1_0.device_type,
        d1_0.last_calibration,
        d1_0.location,
        d1_0.monitor_status,
        d1_0.next_calibration,
        d1_0.operational_status,
        d1_0.self_calibration,
        d1_0.updated_at 
    from
        staffdevice sd1_0 
    join
        devices d1_0 
            on d1_0.device_code=sd1_0.device_code 
    where
        sd1_0.staffcode=?
2026-01-11 17:58:29 [http-nio-9091-exec-3] DEBUG org.hibernate.SQL - 
    select
        count(a1_0.id) 
    from
        alert a1_0 
    where
        yearweek(a1_0.alert_time, 1)=yearweek(?, 1) 
        and a1_0.alert_level='YELLOW'
2026-01-11 17:58:29 [http-nio-9091-exec-6] DEBUG c.b.dynamic.datasource.DynamicRoutingDataSource - dynamic-datasource switch to the primary datasource
2026-01-11 17:58:29 [http-nio-9091-exec-1] DEBUG c.b.dynamic.datasource.DynamicRoutingDataSource - dynamic-datasource switch to the primary datasource
2026-01-11 17:58:29 [http-nio-9091-exec-3] DEBUG c.b.dynamic.datasource.DynamicRoutingDataSource - dynamic-datasource switch to the primary datasource
2026-01-11 17:58:29 [http-nio-9091-exec-6] INFO  com.example.demo.aop.ServiceLogAspect - 【服务调用成功】DeviceService.getDeviceByStaffCode，结果：[]
2026-01-11 17:58:29 [http-nio-9091-exec-1] INFO  com.example.demo.aop.ServiceLogAspect - 【服务调用成功】DeviceService.getMonitorOnCountNow，结果：3
2026-01-11 17:58:29 [http-nio-9091-exec-1] INFO  com.example.demo.aop.ServiceLogAspect - 【服务调用开始】DeviceService.getAlertOnCountNow，参数：[]
2026-01-11 17:58:29 [http-nio-9091-exec-1] DEBUG org.hibernate.SQL - 
    select
        count(d1_0.deviceid) 
    from
        devices d1_0 
    where
        d1_0.alert_status='ON'
2026-01-11 17:58:29 [http-nio-9091-exec-3] DEBUG org.hibernate.SQL - 
    select
        count(a1_0.id) 
    from
        alert a1_0 
    where
        yearweek(a1_0.alert_time, 1)=yearweek(?, 1) 
        and a1_0.alert_level='RED'
2026-01-11 17:58:29 [http-nio-9091-exec-1] INFO  com.example.demo.aop.ServiceLogAspect - 【服务调用成功】DeviceService.getAlertOnCountNow，结果：1
2026-01-11 17:58:29 [http-nio-9091-exec-1] INFO  com.example.demo.aop.ServiceLogAspect - 【服务调用开始】DeviceService.getOperationalOnCountNow，参数：[]
2026-01-11 17:58:29 [http-nio-9091-exec-1] DEBUG org.hibernate.SQL - 
    select
        count(d1_0.deviceid) 
    from
        devices d1_0 
    where
        d1_0.operational_status='RUNNING'
2026-01-11 17:58:29 [http-nio-9091-exec-3] DEBUG org.hibernate.SQL - 
    select
        count(a1_0.id) 
    from
        alert a1_0 
    where
        yearweek(a1_0.alert_time, 1)=yearweek(?, 1) 
        and a1_0.alert_type='MECHINE'
2026-01-11 17:58:29 [http-nio-9091-exec-1] INFO  com.example.demo.aop.ServiceLogAspect - 【服务调用成功】DeviceService.getOperationalOnCountNow，结果：2
2026-01-11 17:58:29 [http-nio-9091-exec-3] INFO  com.example.demo.aop.ServiceLogAspect - 【服务调用成功】AlertService.getWeekAlertSummary，结果：{redAlert=0, yellowAlert=0, machineFailure=0}
2026-01-11 17:58:29 [http-nio-9091-exec-1] INFO  com.example.demo.aop.ServiceLogAspect - 【服务调用开始】DeviceService.getOperationalOfflineCountNow，参数：[]
2026-01-11 17:58:29 [http-nio-9091-exec-1] DEBUG org.hibernate.SQL - 
    select
        count(d1_0.deviceid) 
    from
        devices d1_0 
    where
        d1_0.operational_status='OFFLINE'
2026-01-11 17:58:29 [http-nio-9091-exec-1] INFO  com.example.demo.aop.ServiceLogAspect - 【服务调用成功】DeviceService.getOperationalOfflineCountNow，结果：3
2026-01-11 17:58:30 [http-nio-9091-exec-5] INFO  com.example.demo.aop.ServiceLogAspect - 【服务调用开始】DeviceService.getCountAll，参数：[]
2026-01-11 17:58:30 [http-nio-9091-exec-5] DEBUG org.hibernate.SQL - 
    select
        count(d1_0.deviceid) 
    from
        devices d1_0
2026-01-11 17:58:30 [http-nio-9091-exec-5] DEBUG c.b.dynamic.datasource.DynamicRoutingDataSource - dynamic-datasource switch to the primary datasource
2026-01-11 17:58:30 [http-nio-9091-exec-5] INFO  com.example.demo.aop.ServiceLogAspect - 【服务调用成功】DeviceService.getCountAll，结果：5
2026-01-11 17:58:30 [http-nio-9091-exec-10] INFO  com.example.demo.aop.ServiceLogAspect - 【服务调用开始】DeviceService.getWaitCalibrationCountNow，参数：[]
2026-01-11 17:58:30 [http-nio-9091-exec-8] INFO  com.example.demo.aop.ServiceLogAspect - 【服务调用开始】InspectDataService.getLatestInspectionsWithDeviceInfo，参数：[]
2026-01-11 17:58:30 [http-nio-9091-exec-10] DEBUG org.hibernate.SQL - 
    select
        count(d1_0.deviceid) 
    from
        devices d1_0 
    where
        d1_0.calibration_status='PENDING'
2026-01-11 17:58:30 [http-nio-9091-exec-9] INFO  com.example.demo.aop.ServiceLogAspect - 【服务调用开始】AlertService.getTodayAlertCount，参数：[2026-01-11 17:58:30]
2026-01-11 17:58:30 [http-nio-9091-exec-2] INFO  com.example.demo.aop.ServiceLogAspect - 【服务调用开始】DeviceService.getAllDevices，参数：[]
2026-01-11 17:58:30 [http-nio-9091-exec-10] DEBUG c.b.dynamic.datasource.DynamicRoutingDataSource - dynamic-datasource switch to the primary datasource
2026-01-11 17:58:30 [http-nio-9091-exec-2] DEBUG c.b.dynamic.datasource.DynamicRoutingDataSource - dynamic-datasource switch to the primary datasource
2026-01-11 17:58:30 [http-nio-9091-exec-9] DEBUG org.hibernate.SQL - 
    select
        count(a1_0.id) 
    from
        alert a1_0 
    where
        date(a1_0.alert_time)=date(?)
2026-01-11 17:58:30 [http-nio-9091-exec-9] DEBUG c.b.dynamic.datasource.DynamicRoutingDataSource - dynamic-datasource switch to the primary datasource
2026-01-11 17:58:30 [http-nio-9091-exec-10] INFO  com.example.demo.aop.ServiceLogAspect - 【服务调用成功】DeviceService.getWaitCalibrationCountNow，结果：1
2026-01-11 17:58:30 [http-nio-9091-exec-8] DEBUG org.hibernate.SQL - 
    select
        id1_0.data_id,
        id1_0.batch_no,
        id1_0.create_time,
        d1_0.deviceid,
        d1_0.alert_status,
        d1_0.calibration_operator,
        d1_0.calibration_status,
        d1_0.created_at,
        d1_0.device_code,
        d1_0.device_name,
        d1_0.device_type,
        d1_0.last_calibration,
        d1_0.location,
        d1_0.monitor_status,
        d1_0.next_calibration,
        d1_0.operational_status,
        d1_0.self_calibration,
        d1_0.updated_at,
        id1_0.diameter,
        id1_0.friability,
        id1_0.hardness,
        id1_0.inspect_time,
        id1_0.is_valid,
        id1_0.product_id,
        p1_0.product_id,
        p1_0.product_name,
        p1_0.specification,
        id1_0.thickness,
        id1_0.weight 
    from
        inspection_data id1_0 
    left join
        devices d1_0 
            on d1_0.deviceid=id1_0.device_id 
    join
        product p1_0 
            on p1_0.product_id=id1_0.product_id 
    where
        id1_0.inspect_time=(
            select
                max(id2_0.inspect_time) 
            from
                inspection_data id2_0 
            where
                id2_0.device_id=id1_0.device_id 
                and id2_0.is_valid=1
        )
2026-01-11 17:58:30 [http-nio-9091-exec-2] DEBUG org.hibernate.SQL - 
    select
        d1_0.deviceid,
        d1_0.alert_status,
        d1_0.calibration_operator,
        d1_0.calibration_status,
        d1_0.created_at,
        d1_0.device_code,
        d1_0.device_name,
        d1_0.device_type,
        d1_0.last_calibration,
        d1_0.location,
        d1_0.monitor_status,
        d1_0.next_calibration,
        d1_0.operational_status,
        d1_0.self_calibration,
        d1_0.updated_at 
    from
        devices d1_0
2026-01-11 17:58:30 [http-nio-9091-exec-9] INFO  com.example.demo.aop.ServiceLogAspect - 【服务调用成功】AlertService.getTodayAlertCount，结果：0
2026-01-11 17:58:30 [http-nio-9091-exec-8] DEBUG c.b.dynamic.datasource.DynamicRoutingDataSource - dynamic-datasource switch to the primary datasource
2026-01-11 17:58:30 [http-nio-9091-exec-8] INFO  com.example.demo.aop.ServiceLogAspect - 【服务调用成功】InspectDataService.getLatestInspectionsWithDeviceInfo，结果：[com.example.demo.entity.InspectionData@1fc01d62, com.example.demo.entity.InspectionData@319c6bad]
2026-01-11 17:58:30 [http-nio-9091-exec-2] INFO  com.example.demo.aop.ServiceLogAspect - 【服务调用成功】DeviceService.getAllDevices，结果：[com.example.demo.entity.Device@367e6c4d, com.example.demo.entity.Device@36345054, com.example.demo.entity.Device@5628c31d, com.example.demo.entity.Device@5b63764, com.example.demo.entity.Device@40ef3f9b]
2026-01-11 17:58:30 [http-nio-9091-exec-7] INFO  com.example.demo.aop.ServiceLogAspect - 【服务调用开始】DeviceService.getCountAll，参数：[]
2026-01-11 17:58:30 [http-nio-9091-exec-7] DEBUG org.hibernate.SQL - 
    select
        count(d1_0.deviceid) 
    from
        devices d1_0
2026-01-11 17:58:30 [http-nio-9091-exec-7] DEBUG c.b.dynamic.datasource.DynamicRoutingDataSource - dynamic-datasource switch to the primary datasource
2026-01-11 17:58:30 [http-nio-9091-exec-7] INFO  com.example.demo.aop.ServiceLogAspect - 【服务调用成功】DeviceService.getCountAll，结果：5
2026-01-11 17:58:30 [http-nio-9091-exec-6] INFO  com.example.demo.aop.ServiceLogAspect - 【服务调用开始】AlertService.getDeviceAlertOverview，参数：[]
2026-01-11 17:58:30 [http-nio-9091-exec-3] INFO  com.example.demo.aop.ServiceLogAspect - 【服务调用开始】DeviceService.getWaitCalibrationCountNow，参数：[]
2026-01-11 17:58:30 [http-nio-9091-exec-6] DEBUG c.b.dynamic.datasource.DynamicRoutingDataSource - dynamic-datasource switch to the primary datasource
2026-01-11 17:58:30 [http-nio-9091-exec-4] INFO  com.example.demo.aop.ServiceLogAspect - 【服务调用开始】AlertService.getTodayAlertCount，参数：[2026-01-11 17:58:30]
2026-01-11 17:58:30 [http-nio-9091-exec-1] INFO  com.example.demo.aop.ServiceLogAspect - 【服务调用开始】AlertService.getAlertDetailsByTimeRange，参数：[2026-01-04T01:58, 2026-01-11T01:58, null, 0, 50]
2026-01-11 17:58:30 [http-nio-9091-exec-3] DEBUG org.hibernate.SQL - 
    select
        count(d1_0.deviceid) 
    from
        devices d1_0 
    where
        d1_0.calibration_status='PENDING'
2026-01-11 17:58:30 [http-nio-9091-exec-1] DEBUG org.hibernate.SQL - 
    select
        a1_0.alert_time,
        d1_0.device_code,
        d1_0.device_name,
        d1_0.device_type,
        d1_0.location,
        d1_0.monitor_status,
        a1_0.alert_type,
        a1_0.alert_level,
        a1_0.context 
    from
        alert a1_0 
    join
        devices d1_0 
            on d1_0.deviceid=a1_0.device_id 
    where
        (
            ? is null 
            or a1_0.alert_time>=?
        ) 
        and (
            ? is null 
            or a1_0.alert_time<=?
        ) 
        and (
            ? is null 
            or d1_0.device_code=?
        ) 
    order by
        a1_0.alert_time desc 
    limit
        ?
2026-01-11 17:58:30 [http-nio-9091-exec-6] DEBUG org.hibernate.SQL - 
    select
        d1_0.deviceid,
        d1_0.alert_status,
        d1_0.calibration_operator,
        d1_0.calibration_status,
        d1_0.created_at,
        d1_0.device_code,
        d1_0.device_name,
        d1_0.device_type,
        d1_0.last_calibration,
        d1_0.location,
        d1_0.monitor_status,
        d1_0.next_calibration,
        d1_0.operational_status,
        d1_0.self_calibration,
        d1_0.updated_at 
    from
        devices d1_0
2026-01-11 17:58:30 [http-nio-9091-exec-4] DEBUG org.hibernate.SQL - 
    select
        count(a1_0.id) 
    from
        alert a1_0 
    where
        date(a1_0.alert_time)=date(?)
2026-01-11 17:58:30 [http-nio-9091-exec-3] DEBUG c.b.dynamic.datasource.DynamicRoutingDataSource - dynamic-datasource switch to the primary datasource
2026-01-11 17:58:30 [http-nio-9091-exec-4] DEBUG c.b.dynamic.datasource.DynamicRoutingDataSource - dynamic-datasource switch to the primary datasource
2026-01-11 17:58:30 [http-nio-9091-exec-1] DEBUG c.b.dynamic.datasource.DynamicRoutingDataSource - dynamic-datasource switch to the primary datasource
2026-01-11 17:58:30 [http-nio-9091-exec-3] INFO  com.example.demo.aop.ServiceLogAspect - 【服务调用成功】DeviceService.getWaitCalibrationCountNow，结果：1
2026-01-11 17:58:30 [http-nio-9091-exec-6] DEBUG org.hibernate.SQL - 
    select
        a1_0.id,
        a1_0.alert_level,
        a1_0.alert_time,
        a1_0.alert_type,
        a1_0.context,
        a1_0.device_id 
    from
        alert a1_0 
    left join
        devices d1_0 
            on d1_0.deviceid=a1_0.device_id 
    where
        d1_0.deviceid=? 
    order by
        a1_0.alert_time desc 
    limit
        ?
2026-01-11 17:58:30 [http-nio-9091-exec-4] INFO  com.example.demo.aop.ServiceLogAspect - 【服务调用成功】AlertService.getTodayAlertCount，结果：0
2026-01-11 17:58:30 [http-nio-9091-exec-1] INFO  com.example.demo.aop.ServiceLogAspect - 【服务调用成功】AlertService.getAlertDetailsByTimeRange，结果：{pageSize=50, currentPage=0, totalPages=0, totalElements=0, content=[]}
2026-01-11 17:58:30 [http-nio-9091-exec-6] DEBUG org.hibernate.SQL - 
    select
        a1_0.id,
        a1_0.alert_level,
        a1_0.alert_time,
        a1_0.alert_type,
        a1_0.context,
        a1_0.device_id 
    from
        alert a1_0 
    left join
        devices d1_0 
            on d1_0.deviceid=a1_0.device_id 
    where
        d1_0.deviceid=? 
    order by
        a1_0.alert_time desc 
    limit
        ?
2026-01-11 17:58:30 [http-nio-9091-exec-6] DEBUG org.hibernate.SQL - 
    select
        a1_0.id,
        a1_0.alert_level,
        a1_0.alert_time,
        a1_0.alert_type,
        a1_0.context,
        a1_0.device_id 
    from
        alert a1_0 
    left join
        devices d1_0 
            on d1_0.deviceid=a1_0.device_id 
    where
        d1_0.deviceid=? 
    order by
        a1_0.alert_time desc 
    limit
        ?
2026-01-11 17:58:30 [http-nio-9091-exec-6] DEBUG org.hibernate.SQL - 
    select
        a1_0.id,
        a1_0.alert_level,
        a1_0.alert_time,
        a1_0.alert_type,
        a1_0.context,
        a1_0.device_id 
    from
        alert a1_0 
    left join
        devices d1_0 
            on d1_0.deviceid=a1_0.device_id 
    where
        d1_0.deviceid=? 
    order by
        a1_0.alert_time desc 
    limit
        ?
2026-01-11 17:58:30 [http-nio-9091-exec-6] DEBUG org.hibernate.SQL - 
    select
        a1_0.id,
        a1_0.alert_level,
        a1_0.alert_time,
        a1_0.alert_type,
        a1_0.context,
        a1_0.device_id 
    from
        alert a1_0 
    left join
        devices d1_0 
            on d1_0.deviceid=a1_0.device_id 
    where
        d1_0.deviceid=? 
    order by
        a1_0.alert_time desc 
    limit
        ?
2026-01-11 17:58:30 [http-nio-9091-exec-6] INFO  com.example.demo.aop.ServiceLogAspect - 【服务调用成功】AlertService.getDeviceAlertOverview，结果：[{deviceType=D4, operationalStatus=RUNNING, alertStatus=ON, latestAlertLevel=YELLOW, latestAlertTime=2025-07-13T10:05:04, location=loc1, deviceCode=001, deviceId=1, deviceName=Inoue Rin, monitorStatus=MONITORON, latestAlertContext=002}, {deviceType=DB, operationalStatus=RUNNING, alertStatus=OFF, latestAlertLevel=null, latestAlertTime=null, location=loc2, deviceCode=002, deviceId=2, deviceName=Kong Lan, monitorStatus=MONITORON, latestAlertContext=null}, {deviceType=DB, operationalStatus=OFFLINE, alertStatus=OFF, latestAlertLevel=null, latestAlertTime=null, location=loc3, deviceCode=003, deviceId=3, deviceName=Chic Kwok Yin, monitorStatus=MONITORINTERRUPT, latestAlertContext=null}, {deviceType=D4, operationalStatus=OFFLINE, alertStatus=OFF, latestAlertLevel=null, latestAlertTime=null, location=loc4, deviceCode=004, deviceId=4, deviceName=Lo Wai Lam, monitorStatus=MONITORON, latestAlertContext=null}, {deviceType=DB, operationalStatus=OFFLINE, alertStatus=OFF, latestAlertLevel=null, latestAlertTime=null, location=loc5, deviceCode=005, deviceId=5, deviceName=Saito Ayano, monitorStatus=MONITOROFF, latestAlertContext=null}]
2026-01-11 17:58:31 [http-nio-9091-exec-5] INFO  com.example.demo.aop.ServiceLogAspect - 【服务调用开始】DeviceService.getCountAll，参数：[]
2026-01-11 17:58:31 [http-nio-9091-exec-5] DEBUG org.hibernate.SQL - 
    select
        count(d1_0.deviceid) 
    from
        devices d1_0
2026-01-11 17:58:31 [http-nio-9091-exec-5] DEBUG c.b.dynamic.datasource.DynamicRoutingDataSource - dynamic-datasource switch to the primary datasource
2026-01-11 17:58:31 [http-nio-9091-exec-5] INFO  com.example.demo.aop.ServiceLogAspect - 【服务调用成功】DeviceService.getCountAll，结果：5
2026-01-11 17:58:31 [http-nio-9091-exec-9] INFO  com.example.demo.aop.ServiceLogAspect - 【服务调用开始】DeviceService.getWaitCalibrationCountNow，参数：[]
2026-01-11 17:58:31 [http-nio-9091-exec-2] INFO  com.example.demo.aop.ServiceLogAspect - 【服务调用开始】DeviceService.getAllDevices，参数：[]
2026-01-11 17:58:31 [http-nio-9091-exec-2] DEBUG c.b.dynamic.datasource.DynamicRoutingDataSource - dynamic-datasource switch to the primary datasource
2026-01-11 17:58:31 [http-nio-9091-exec-10] INFO  com.example.demo.aop.ServiceLogAspect - 【服务调用开始】AlertService.getTodayAlertCount，参数：[2026-01-11 17:58:31]
2026-01-11 17:58:31 [http-nio-9091-exec-9] DEBUG org.hibernate.SQL - 
    select
        count(d1_0.deviceid) 
    from
        devices d1_0 
    where
        d1_0.calibration_status='PENDING'
2026-01-11 17:58:31 [http-nio-9091-exec-9] DEBUG c.b.dynamic.datasource.DynamicRoutingDataSource - dynamic-datasource switch to the primary datasource
2026-01-11 17:58:31 [http-nio-9091-exec-10] DEBUG org.hibernate.SQL - 
    select
        count(a1_0.id) 
    from
        alert a1_0 
    where
        date(a1_0.alert_time)=date(?)
2026-01-11 17:58:31 [http-nio-9091-exec-10] DEBUG c.b.dynamic.datasource.DynamicRoutingDataSource - dynamic-datasource switch to the primary datasource
2026-01-11 17:58:31 [http-nio-9091-exec-2] DEBUG org.hibernate.SQL - 
    select
        d1_0.deviceid,
        d1_0.alert_status,
        d1_0.calibration_operator,
        d1_0.calibration_status,
        d1_0.created_at,
        d1_0.device_code,
        d1_0.device_name,
        d1_0.device_type,
        d1_0.last_calibration,
        d1_0.location,
        d1_0.monitor_status,
        d1_0.next_calibration,
        d1_0.operational_status,
        d1_0.self_calibration,
        d1_0.updated_at 
    from
        devices d1_0
2026-01-11 17:58:31 [http-nio-9091-exec-9] INFO  com.example.demo.aop.ServiceLogAspect - 【服务调用成功】DeviceService.getWaitCalibrationCountNow，结果：1
2026-01-11 17:58:31 [http-nio-9091-exec-10] INFO  com.example.demo.aop.ServiceLogAspect - 【服务调用成功】AlertService.getTodayAlertCount，结果：0
2026-01-11 17:58:31 [http-nio-9091-exec-2] INFO  com.example.demo.aop.ServiceLogAspect - 【服务调用成功】DeviceService.getAllDevices，结果：[com.example.demo.entity.Device@2a29901a, com.example.demo.entity.Device@7f37e8da, com.example.demo.entity.Device@17ea489a, com.example.demo.entity.Device@ee79e6e, com.example.demo.entity.Device@682866e8]
2026-01-11 17:58:31 [http-nio-9091-exec-1] INFO  com.example.demo.aop.ServiceLogAspect - 【服务调用开始】DeviceService.getAllDevices，参数：[]
2026-01-11 17:58:31 [http-nio-9091-exec-8] INFO  com.example.demo.aop.ServiceLogAspect - 【服务调用开始】DeviceService.getCountAll，参数：[]
2026-01-11 17:58:31 [http-nio-9091-exec-7] INFO  com.example.demo.aop.ServiceLogAspect - 【服务调用开始】AlertService.getTodayAlertCount，参数：[2026-01-11 17:58:31]
2026-01-11 17:58:31 [http-nio-9091-exec-3] INFO  com.example.demo.aop.ServiceLogAspect - 【服务调用开始】DeviceService.getWaitCalibrationCountNow，参数：[]
2026-01-11 17:58:31 [http-nio-9091-exec-1] DEBUG c.b.dynamic.datasource.DynamicRoutingDataSource - dynamic-datasource switch to the primary datasource
2026-01-11 17:58:31 [http-nio-9091-exec-8] DEBUG org.hibernate.SQL - 
    select
        count(d1_0.deviceid) 
    from
        devices d1_0
2026-01-11 17:58:31 [http-nio-9091-exec-3] DEBUG org.hibernate.SQL - 
    select
        count(d1_0.deviceid) 
    from
        devices d1_0 
    where
        d1_0.calibration_status='PENDING'
2026-01-11 17:58:31 [http-nio-9091-exec-8] DEBUG c.b.dynamic.datasource.DynamicRoutingDataSource - dynamic-datasource switch to the primary datasource
2026-01-11 17:58:31 [http-nio-9091-exec-3] DEBUG c.b.dynamic.datasource.DynamicRoutingDataSource - dynamic-datasource switch to the primary datasource
2026-01-11 17:58:31 [http-nio-9091-exec-7] DEBUG org.hibernate.SQL - 
    select
        count(a1_0.id) 
    from
        alert a1_0 
    where
        date(a1_0.alert_time)=date(?)
2026-01-11 17:58:31 [http-nio-9091-exec-1] DEBUG org.hibernate.SQL - 
    select
        d1_0.deviceid,
        d1_0.alert_status,
        d1_0.calibration_operator,
        d1_0.calibration_status,
        d1_0.created_at,
        d1_0.device_code,
        d1_0.device_name,
        d1_0.device_type,
        d1_0.last_calibration,
        d1_0.location,
        d1_0.monitor_status,
        d1_0.next_calibration,
        d1_0.operational_status,
        d1_0.self_calibration,
        d1_0.updated_at 
    from
        devices d1_0
2026-01-11 17:58:31 [http-nio-9091-exec-8] INFO  com.example.demo.aop.ServiceLogAspect - 【服务调用成功】DeviceService.getCountAll，结果：5
2026-01-11 17:58:31 [http-nio-9091-exec-7] DEBUG c.b.dynamic.datasource.DynamicRoutingDataSource - dynamic-datasource switch to the primary datasource
2026-01-11 17:58:31 [http-nio-9091-exec-3] INFO  com.example.demo.aop.ServiceLogAspect - 【服务调用成功】DeviceService.getWaitCalibrationCountNow，结果：1
2026-01-11 17:58:31 [http-nio-9091-exec-7] INFO  com.example.demo.aop.ServiceLogAspect - 【服务调用成功】AlertService.getTodayAlertCount，结果：0
2026-01-11 17:58:31 [http-nio-9091-exec-1] INFO  com.example.demo.aop.ServiceLogAspect - 【服务调用成功】DeviceService.getAllDevices，结果：[com.example.demo.entity.Device@6ce16d4c, com.example.demo.entity.Device@25238663, com.example.demo.entity.Device@5d7818c, com.example.demo.entity.Device@5fb09d5f, com.example.demo.entity.Device@38dc10e8]
2026-01-11 17:58:31 [http-nio-9091-exec-4] INFO  com.example.demo.aop.ServiceLogAspect - 【服务调用开始】DeviceService.getCountAll，参数：[]
2026-01-11 17:58:31 [http-nio-9091-exec-5] INFO  com.example.demo.aop.ServiceLogAspect - 【服务调用开始】DeviceService.getWaitCalibrationCountNow，参数：[]
2026-01-11 17:58:31 [http-nio-9091-exec-10] INFO  com.example.demo.aop.ServiceLogAspect - 【服务调用开始】InspectDataService.getLatestInspectionsWithDeviceInfo，参数：[]
2026-01-11 17:58:31 [http-nio-9091-exec-5] DEBUG org.hibernate.SQL - 
    select
        count(d1_0.deviceid) 
    from
        devices d1_0 
    where
        d1_0.calibration_status='PENDING'
2026-01-11 17:58:31 [http-nio-9091-exec-6] INFO  com.example.demo.aop.ServiceLogAspect - 【服务调用开始】AlertService.getTodayAlertCount，参数：[2026-01-11 17:58:31]
2026-01-11 17:58:31 [http-nio-9091-exec-4] DEBUG org.hibernate.SQL - 
    select
        count(d1_0.deviceid) 
    from
        devices d1_0
2026-01-11 17:58:31 [http-nio-9091-exec-9] INFO  com.example.demo.aop.ServiceLogAspect - 【服务调用开始】DeviceService.getAllDevices，参数：[]
2026-01-11 17:58:31 [http-nio-9091-exec-5] DEBUG c.b.dynamic.datasource.DynamicRoutingDataSource - dynamic-datasource switch to the primary datasource
2026-01-11 17:58:31 [http-nio-9091-exec-10] DEBUG org.hibernate.SQL - 
    select
        id1_0.data_id,
        id1_0.batch_no,
        id1_0.create_time,
        d1_0.deviceid,
        d1_0.alert_status,
        d1_0.calibration_operator,
        d1_0.calibration_status,
        d1_0.created_at,
        d1_0.device_code,
        d1_0.device_name,
        d1_0.device_type,
        d1_0.last_calibration,
        d1_0.location,
        d1_0.monitor_status,
        d1_0.next_calibration,
        d1_0.operational_status,
        d1_0.self_calibration,
        d1_0.updated_at,
        id1_0.diameter,
        id1_0.friability,
        id1_0.hardness,
        id1_0.inspect_time,
        id1_0.is_valid,
        id1_0.product_id,
        p1_0.product_id,
        p1_0.product_name,
        p1_0.specification,
        id1_0.thickness,
        id1_0.weight 
    from
        inspection_data id1_0 
    left join
        devices d1_0 
            on d1_0.deviceid=id1_0.device_id 
    join
        product p1_0 
            on p1_0.product_id=id1_0.product_id 
    where
        id1_0.inspect_time=(
            select
                max(id2_0.inspect_time) 
            from
                inspection_data id2_0 
            where
                id2_0.device_id=id1_0.device_id 
                and id2_0.is_valid=1
        )
2026-01-11 17:58:31 [http-nio-9091-exec-9] DEBUG c.b.dynamic.datasource.DynamicRoutingDataSource - dynamic-datasource switch to the primary datasource
2026-01-11 17:58:31 [http-nio-9091-exec-4] DEBUG c.b.dynamic.datasource.DynamicRoutingDataSource - dynamic-datasource switch to the primary datasource
2026-01-11 17:58:31 [http-nio-9091-exec-6] DEBUG org.hibernate.SQL - 
    select
        count(a1_0.id) 
    from
        alert a1_0 
    where
        date(a1_0.alert_time)=date(?)
2026-01-11 17:58:31 [http-nio-9091-exec-10] DEBUG c.b.dynamic.datasource.DynamicRoutingDataSource - dynamic-datasource switch to the primary datasource
2026-01-11 17:58:31 [http-nio-9091-exec-5] INFO  com.example.demo.aop.ServiceLogAspect - 【服务调用成功】DeviceService.getWaitCalibrationCountNow，结果：1
2026-01-11 17:58:31 [http-nio-9091-exec-4] INFO  com.example.demo.aop.ServiceLogAspect - 【服务调用成功】DeviceService.getCountAll，结果：5
2026-01-11 17:58:31 [http-nio-9091-exec-6] DEBUG c.b.dynamic.datasource.DynamicRoutingDataSource - dynamic-datasource switch to the primary datasource
2026-01-11 17:58:31 [http-nio-9091-exec-9] DEBUG org.hibernate.SQL - 
    select
        d1_0.deviceid,
        d1_0.alert_status,
        d1_0.calibration_operator,
        d1_0.calibration_status,
        d1_0.created_at,
        d1_0.device_code,
        d1_0.device_name,
        d1_0.device_type,
        d1_0.last_calibration,
        d1_0.location,
        d1_0.monitor_status,
        d1_0.next_calibration,
        d1_0.operational_status,
        d1_0.self_calibration,
        d1_0.updated_at 
    from
        devices d1_0
2026-01-11 17:58:31 [http-nio-9091-exec-6] INFO  com.example.demo.aop.ServiceLogAspect - 【服务调用成功】AlertService.getTodayAlertCount，结果：0
2026-01-11 17:58:31 [http-nio-9091-exec-10] INFO  com.example.demo.aop.ServiceLogAspect - 【服务调用成功】InspectDataService.getLatestInspectionsWithDeviceInfo，结果：[com.example.demo.entity.InspectionData@4621a8dc, com.example.demo.entity.InspectionData@7c6777a2]
2026-01-11 17:58:31 [http-nio-9091-exec-9] INFO  com.example.demo.aop.ServiceLogAspect - 【服务调用成功】DeviceService.getAllDevices，结果：[com.example.demo.entity.Device@1e54f468, com.example.demo.entity.Device@1eb14555, com.example.demo.entity.Device@62bbb209, com.example.demo.entity.Device@7dd1ff21, com.example.demo.entity.Device@441fb347]
2026-01-11 17:58:32 [http-nio-9091-exec-2] INFO  com.example.demo.aop.ServiceLogAspect - 【服务调用开始】PermissionAdminService.getAllStaff，参数：[]
2026-01-11 17:58:32 [http-nio-9091-exec-2] DEBUG c.b.dynamic.datasource.DynamicRoutingDataSource - dynamic-datasource switch to the primary datasource
2026-01-11 17:58:32 [http-nio-9091-exec-2] DEBUG org.hibernate.SQL - 
    select
        s1_0.staffid,
        s1_0.department,
        s1_0.password,
        s1_0.staffcode,
        s1_0.staffname 
    from
        staffinfo s1_0
2026-01-11 17:58:32 [http-nio-9091-exec-2] DEBUG org.hibernate.SQL - 
    select
        sr1_0.id,
        r1_0.roleid,
        r1_0.roledescription,
        r1_0.rolename,
        s1_0.staffid,
        s1_0.department,
        s1_0.password,
        s1_0.staffcode,
        s1_0.staffname 
    from
        staffrole sr1_0 
    left join
        roleinfo r1_0 
            on r1_0.roleid=sr1_0.roleid 
    left join
        staffinfo s1_0 
            on s1_0.staffid=sr1_0.staffid 
    where
        sr1_0.staffid=?
2026-01-11 17:58:32 [http-nio-9091-exec-2] DEBUG org.hibernate.SQL - 
    select
        sr1_0.id,
        r1_0.roleid,
        r1_0.roledescription,
        r1_0.rolename,
        s1_0.staffid,
        s1_0.department,
        s1_0.password,
        s1_0.staffcode,
        s1_0.staffname 
    from
        staffrole sr1_0 
    left join
        roleinfo r1_0 
            on r1_0.roleid=sr1_0.roleid 
    left join
        staffinfo s1_0 
            on s1_0.staffid=sr1_0.staffid 
    where
        sr1_0.staffid=?
2026-01-11 17:58:32 [http-nio-9091-exec-2] DEBUG org.hibernate.SQL - 
    select
        sr1_0.id,
        r1_0.roleid,
        r1_0.roledescription,
        r1_0.rolename,
        s1_0.staffid,
        s1_0.department,
        s1_0.password,
        s1_0.staffcode,
        s1_0.staffname 
    from
        staffrole sr1_0 
    left join
        roleinfo r1_0 
            on r1_0.roleid=sr1_0.roleid 
    left join
        staffinfo s1_0 
            on s1_0.staffid=sr1_0.staffid 
    where
        sr1_0.staffid=?
2026-01-11 17:58:32 [http-nio-9091-exec-2] DEBUG org.hibernate.SQL - 
    select
        sr1_0.id,
        r1_0.roleid,
        r1_0.roledescription,
        r1_0.rolename,
        s1_0.staffid,
        s1_0.department,
        s1_0.password,
        s1_0.staffcode,
        s1_0.staffname 
    from
        staffrole sr1_0 
    left join
        roleinfo r1_0 
            on r1_0.roleid=sr1_0.roleid 
    left join
        staffinfo s1_0 
            on s1_0.staffid=sr1_0.staffid 
    where
        sr1_0.staffid=?
2026-01-11 17:58:32 [http-nio-9091-exec-2] INFO  com.example.demo.aop.ServiceLogAspect - 【服务调用成功】PermissionAdminService.getAllStaff，结果：[com.example.demo.entity.Staff@5b5c5cf4, com.example.demo.entity.Staff@116ca50a, com.example.demo.entity.Staff@46fce650, com.example.demo.entity.Staff@7af52807]
2026-01-11 17:58:32 [http-nio-9091-exec-3] INFO  com.example.demo.aop.ServiceLogAspect - 【服务调用开始】RoleService.getAllRoles，参数：[]
2026-01-11 17:58:32 [http-nio-9091-exec-3] DEBUG c.b.dynamic.datasource.DynamicRoutingDataSource - dynamic-datasource switch to the primary datasource
2026-01-11 17:58:32 [http-nio-9091-exec-3] DEBUG org.hibernate.SQL - 
    select
        r1_0.roleid,
        r1_0.roledescription,
        r1_0.rolename 
    from
        roleinfo r1_0
2026-01-11 17:58:32 [http-nio-9091-exec-3] INFO  com.example.demo.aop.ServiceLogAspect - 【服务调用成功】RoleService.getAllRoles，结果：[com.example.demo.entity.Role@1114d2a, com.example.demo.entity.Role@7fcac314, com.example.demo.entity.Role@1dd62c9b, com.example.demo.entity.Role@2e57ec69, com.example.demo.entity.Role@4f8b9352]
2026-01-11 17:58:32 [http-nio-9091-exec-8] INFO  com.example.demo.aop.ServiceLogAspect - 【服务调用开始】DeviceService.getCountAll，参数：[]
2026-01-11 17:58:32 [http-nio-9091-exec-8] DEBUG org.hibernate.SQL - 
    select
        count(d1_0.deviceid) 
    from
        devices d1_0
2026-01-11 17:58:32 [http-nio-9091-exec-8] DEBUG c.b.dynamic.datasource.DynamicRoutingDataSource - dynamic-datasource switch to the primary datasource
2026-01-11 17:58:32 [http-nio-9091-exec-8] INFO  com.example.demo.aop.ServiceLogAspect - 【服务调用成功】DeviceService.getCountAll，结果：5
2026-01-11 17:58:32 [http-nio-9091-exec-7] INFO  com.example.demo.aop.ServiceLogAspect - 【服务调用开始】DeviceService.getAllDevices，参数：[]
2026-01-11 17:58:32 [http-nio-9091-exec-5] INFO  com.example.demo.aop.ServiceLogAspect - 【服务调用开始】DeviceService.getWaitCalibrationCountNow，参数：[]
2026-01-11 17:58:32 [http-nio-9091-exec-7] DEBUG c.b.dynamic.datasource.DynamicRoutingDataSource - dynamic-datasource switch to the primary datasource
2026-01-11 17:58:32 [http-nio-9091-exec-1] INFO  com.example.demo.aop.ServiceLogAspect - 【服务调用开始】AlertService.getTodayAlertCount，参数：[2026-01-11 17:58:32]
2026-01-11 17:58:32 [http-nio-9091-exec-5] DEBUG org.hibernate.SQL - 
    select
        count(d1_0.deviceid) 
    from
        devices d1_0 
    where
        d1_0.calibration_status='PENDING'
2026-01-11 17:58:32 [http-nio-9091-exec-4] INFO  com.example.demo.aop.ServiceLogAspect - 【服务调用开始】InspectDataService.getLatestInspectionsWithDeviceInfo，参数：[]
2026-01-11 17:58:32 [http-nio-9091-exec-7] DEBUG org.hibernate.SQL - 
    select
        d1_0.deviceid,
        d1_0.alert_status,
        d1_0.calibration_operator,
        d1_0.calibration_status,
        d1_0.created_at,
        d1_0.device_code,
        d1_0.device_name,
        d1_0.device_type,
        d1_0.last_calibration,
        d1_0.location,
        d1_0.monitor_status,
        d1_0.next_calibration,
        d1_0.operational_status,
        d1_0.self_calibration,
        d1_0.updated_at 
    from
        devices d1_0
2026-01-11 17:58:32 [http-nio-9091-exec-1] DEBUG org.hibernate.SQL - 
    select
        count(a1_0.id) 
    from
        alert a1_0 
    where
        date(a1_0.alert_time)=date(?)
2026-01-11 17:58:32 [http-nio-9091-exec-5] DEBUG c.b.dynamic.datasource.DynamicRoutingDataSource - dynamic-datasource switch to the primary datasource
2026-01-11 17:58:32 [http-nio-9091-exec-4] DEBUG org.hibernate.SQL - 
    select
        id1_0.data_id,
        id1_0.batch_no,
        id1_0.create_time,
        d1_0.deviceid,
        d1_0.alert_status,
        d1_0.calibration_operator,
        d1_0.calibration_status,
        d1_0.created_at,
        d1_0.device_code,
        d1_0.device_name,
        d1_0.device_type,
        d1_0.last_calibration,
        d1_0.location,
        d1_0.monitor_status,
        d1_0.next_calibration,
        d1_0.operational_status,
        d1_0.self_calibration,
        d1_0.updated_at,
        id1_0.diameter,
        id1_0.friability,
        id1_0.hardness,
        id1_0.inspect_time,
        id1_0.is_valid,
        id1_0.product_id,
        p1_0.product_id,
        p1_0.product_name,
        p1_0.specification,
        id1_0.thickness,
        id1_0.weight 
    from
        inspection_data id1_0 
    left join
        devices d1_0 
            on d1_0.deviceid=id1_0.device_id 
    join
        product p1_0 
            on p1_0.product_id=id1_0.product_id 
    where
        id1_0.inspect_time=(
            select
                max(id2_0.inspect_time) 
            from
                inspection_data id2_0 
            where
                id2_0.device_id=id1_0.device_id 
                and id2_0.is_valid=1
        )
2026-01-11 17:58:32 [http-nio-9091-exec-1] DEBUG c.b.dynamic.datasource.DynamicRoutingDataSource - dynamic-datasource switch to the primary datasource
2026-01-11 17:58:32 [http-nio-9091-exec-5] INFO  com.example.demo.aop.ServiceLogAspect - 【服务调用成功】DeviceService.getWaitCalibrationCountNow，结果：1
2026-01-11 17:58:32 [http-nio-9091-exec-1] INFO  com.example.demo.aop.ServiceLogAspect - 【服务调用成功】AlertService.getTodayAlertCount，结果：0
2026-01-11 17:58:32 [http-nio-9091-exec-7] INFO  com.example.demo.aop.ServiceLogAspect - 【服务调用成功】DeviceService.getAllDevices，结果：[com.example.demo.entity.Device@7c4cdb95, com.example.demo.entity.Device@742be2a0, com.example.demo.entity.Device@55557f72, com.example.demo.entity.Device@4398a4f8, com.example.demo.entity.Device@59924f6d]
2026-01-11 17:58:32 [http-nio-9091-exec-4] DEBUG c.b.dynamic.datasource.DynamicRoutingDataSource - dynamic-datasource switch to the primary datasource
2026-01-11 17:58:32 [http-nio-9091-exec-4] INFO  com.example.demo.aop.ServiceLogAspect - 【服务调用成功】InspectDataService.getLatestInspectionsWithDeviceInfo，结果：[com.example.demo.entity.InspectionData@2af701c4, com.example.demo.entity.InspectionData@199d956a]
2026-01-11 17:58:32 [http-nio-9091-exec-6] INFO  com.example.demo.aop.ServiceLogAspect - 【服务调用开始】DeviceService.getCountAll，参数：[]
2026-01-11 17:58:32 [http-nio-9091-exec-6] DEBUG org.hibernate.SQL - 
    select
        count(d1_0.deviceid) 
    from
        devices d1_0
2026-01-11 17:58:32 [http-nio-9091-exec-6] DEBUG c.b.dynamic.datasource.DynamicRoutingDataSource - dynamic-datasource switch to the primary datasource
2026-01-11 17:58:32 [http-nio-9091-exec-6] INFO  com.example.demo.aop.ServiceLogAspect - 【服务调用成功】DeviceService.getCountAll，结果：5
2026-01-11 17:58:32 [http-nio-9091-exec-9] INFO  com.example.demo.aop.ServiceLogAspect - 【服务调用开始】DeviceService.getWaitCalibrationCountNow，参数：[]
2026-01-11 17:58:32 [http-nio-9091-exec-2] INFO  com.example.demo.aop.ServiceLogAspect - 【服务调用开始】DeviceService.getAllDevices，参数：[]
2026-01-11 17:58:32 [http-nio-9091-exec-10] INFO  com.example.demo.aop.ServiceLogAspect - 【服务调用开始】AlertService.getTodayAlertCount，参数：[2026-01-11 17:58:32]
2026-01-11 17:58:32 [http-nio-9091-exec-9] DEBUG org.hibernate.SQL - 
    select
        count(d1_0.deviceid) 
    from
        devices d1_0 
    where
        d1_0.calibration_status='PENDING'
2026-01-11 17:58:32 [http-nio-9091-exec-2] DEBUG c.b.dynamic.datasource.DynamicRoutingDataSource - dynamic-datasource switch to the primary datasource
2026-01-11 17:58:32 [http-nio-9091-exec-9] DEBUG c.b.dynamic.datasource.DynamicRoutingDataSource - dynamic-datasource switch to the primary datasource
2026-01-11 17:58:32 [http-nio-9091-exec-10] DEBUG org.hibernate.SQL - 
    select
        count(a1_0.id) 
    from
        alert a1_0 
    where
        date(a1_0.alert_time)=date(?)
2026-01-11 17:58:32 [http-nio-9091-exec-10] DEBUG c.b.dynamic.datasource.DynamicRoutingDataSource - dynamic-datasource switch to the primary datasource
2026-01-11 17:58:32 [http-nio-9091-exec-9] INFO  com.example.demo.aop.ServiceLogAspect - 【服务调用成功】DeviceService.getWaitCalibrationCountNow，结果：1
2026-01-11 17:58:32 [http-nio-9091-exec-2] DEBUG org.hibernate.SQL - 
    select
        d1_0.deviceid,
        d1_0.alert_status,
        d1_0.calibration_operator,
        d1_0.calibration_status,
        d1_0.created_at,
        d1_0.device_code,
        d1_0.device_name,
        d1_0.device_type,
        d1_0.last_calibration,
        d1_0.location,
        d1_0.monitor_status,
        d1_0.next_calibration,
        d1_0.operational_status,
        d1_0.self_calibration,
        d1_0.updated_at 
    from
        devices d1_0
2026-01-11 17:58:32 [http-nio-9091-exec-10] INFO  com.example.demo.aop.ServiceLogAspect - 【服务调用成功】AlertService.getTodayAlertCount，结果：0
2026-01-11 17:58:32 [http-nio-9091-exec-2] INFO  com.example.demo.aop.ServiceLogAspect - 【服务调用成功】DeviceService.getAllDevices，结果：[com.example.demo.entity.Device@6bff4264, com.example.demo.entity.Device@551d6e81, com.example.demo.entity.Device@c77a31a, com.example.demo.entity.Device@2b65c305, com.example.demo.entity.Device@3a18586f]
2026-01-11 17:58:33 [http-nio-9091-exec-3] INFO  com.example.demo.aop.ServiceLogAspect - 【服务调用开始】DeviceService.getCountAll，参数：[]
2026-01-11 17:58:33 [http-nio-9091-exec-3] DEBUG org.hibernate.SQL - 
    select
        count(d1_0.deviceid) 
    from
        devices d1_0
2026-01-11 17:58:33 [http-nio-9091-exec-3] DEBUG c.b.dynamic.datasource.DynamicRoutingDataSource - dynamic-datasource switch to the primary datasource
2026-01-11 17:58:33 [http-nio-9091-exec-8] INFO  com.example.demo.aop.ServiceLogAspect - 【服务调用开始】AlertService.getTodayAlertCount，参数：[2026-01-11 17:58:33]
2026-01-11 17:58:33 [http-nio-9091-exec-5] INFO  com.example.demo.aop.ServiceLogAspect - 【服务调用开始】DeviceService.getWaitCalibrationCountNow，参数：[]
2026-01-11 17:58:33 [http-nio-9091-exec-5] DEBUG org.hibernate.SQL - 
    select
        count(d1_0.deviceid) 
    from
        devices d1_0 
    where
        d1_0.calibration_status='PENDING'
2026-01-11 17:58:33 [http-nio-9091-exec-8] DEBUG org.hibernate.SQL - 
    select
        count(a1_0.id) 
    from
        alert a1_0 
    where
        date(a1_0.alert_time)=date(?)
2026-01-11 17:58:33 [http-nio-9091-exec-3] INFO  com.example.demo.aop.ServiceLogAspect - 【服务调用成功】DeviceService.getCountAll，结果：5
2026-01-11 17:58:33 [http-nio-9091-exec-5] DEBUG c.b.dynamic.datasource.DynamicRoutingDataSource - dynamic-datasource switch to the primary datasource
2026-01-11 17:58:33 [http-nio-9091-exec-8] DEBUG c.b.dynamic.datasource.DynamicRoutingDataSource - dynamic-datasource switch to the primary datasource
2026-01-11 17:58:33 [http-nio-9091-exec-5] INFO  com.example.demo.aop.ServiceLogAspect - 【服务调用成功】DeviceService.getWaitCalibrationCountNow，结果：1
2026-01-11 17:58:33 [http-nio-9091-exec-8] INFO  com.example.demo.aop.ServiceLogAspect - 【服务调用成功】AlertService.getTodayAlertCount，结果：0
2026-01-11 17:58:33 [http-nio-9091-exec-1] INFO  com.example.demo.aop.ServiceLogAspect - 【服务调用开始】DeviceService.getAllDevices，参数：[]
2026-01-11 17:58:33 [http-nio-9091-exec-1] DEBUG c.b.dynamic.datasource.DynamicRoutingDataSource - dynamic-datasource switch to the primary datasource
2026-01-11 17:58:33 [http-nio-9091-exec-1] DEBUG org.hibernate.SQL - 
    select
        d1_0.deviceid,
        d1_0.alert_status,
        d1_0.calibration_operator,
        d1_0.calibration_status,
        d1_0.created_at,
        d1_0.device_code,
        d1_0.device_name,
        d1_0.device_type,
        d1_0.last_calibration,
        d1_0.location,
        d1_0.monitor_status,
        d1_0.next_calibration,
        d1_0.operational_status,
        d1_0.self_calibration,
        d1_0.updated_at 
    from
        devices d1_0
2026-01-11 17:58:33 [http-nio-9091-exec-1] INFO  com.example.demo.aop.ServiceLogAspect - 【服务调用成功】DeviceService.getAllDevices，结果：[com.example.demo.entity.Device@2dab53ef, com.example.demo.entity.Device@3b40f55b, com.example.demo.entity.Device@3b9137f8, com.example.demo.entity.Device@1bd284e7, com.example.demo.entity.Device@6c119859]
2026-01-11 17:58:33 [http-nio-9091-exec-7] INFO  com.example.demo.aop.ServiceLogAspect - 【服务调用开始】DeviceService.getCountAll，参数：[]
2026-01-11 17:58:33 [http-nio-9091-exec-7] DEBUG org.hibernate.SQL - 
    select
        count(d1_0.deviceid) 
    from
        devices d1_0
2026-01-11 17:58:33 [http-nio-9091-exec-7] DEBUG c.b.dynamic.datasource.DynamicRoutingDataSource - dynamic-datasource switch to the primary datasource
2026-01-11 17:58:33 [http-nio-9091-exec-7] INFO  com.example.demo.aop.ServiceLogAspect - 【服务调用成功】DeviceService.getCountAll，结果：5
2026-01-11 17:58:33 [http-nio-9091-exec-6] INFO  com.example.demo.aop.ServiceLogAspect - 【服务调用开始】DeviceService.getWaitCalibrationCountNow，参数：[]
2026-01-11 17:58:33 [http-nio-9091-exec-9] INFO  com.example.demo.aop.ServiceLogAspect - 【服务调用开始】AlertService.getDeviceAlertOverview，参数：[]
2026-01-11 17:58:33 [http-nio-9091-exec-9] DEBUG c.b.dynamic.datasource.DynamicRoutingDataSource - dynamic-datasource switch to the primary datasource
2026-01-11 17:58:33 [http-nio-9091-exec-4] INFO  com.example.demo.aop.ServiceLogAspect - 【服务调用开始】AlertService.getTodayAlertCount，参数：[2026-01-11 17:58:33]
2026-01-11 17:58:33 [http-nio-9091-exec-6] DEBUG org.hibernate.SQL - 
    select
        count(d1_0.deviceid) 
    from
        devices d1_0 
    where
        d1_0.calibration_status='PENDING'
2026-01-11 17:58:33 [http-nio-9091-exec-6] DEBUG c.b.dynamic.datasource.DynamicRoutingDataSource - dynamic-datasource switch to the primary datasource
2026-01-11 17:58:33 [http-nio-9091-exec-9] DEBUG org.hibernate.SQL - 
    select
        d1_0.deviceid,
        d1_0.alert_status,
        d1_0.calibration_operator,
        d1_0.calibration_status,
        d1_0.created_at,
        d1_0.device_code,
        d1_0.device_name,
        d1_0.device_type,
        d1_0.last_calibration,
        d1_0.location,
        d1_0.monitor_status,
        d1_0.next_calibration,
        d1_0.operational_status,
        d1_0.self_calibration,
        d1_0.updated_at 
    from
        devices d1_0
2026-01-11 17:58:33 [http-nio-9091-exec-10] INFO  com.example.demo.aop.ServiceLogAspect - 【服务调用开始】AlertService.getAlertDetailsByTimeRange，参数：[2026-01-04T01:58, 2026-01-11T01:58, null, 0, 50]
2026-01-11 17:58:33 [http-nio-9091-exec-4] DEBUG org.hibernate.SQL - 
    select
        count(a1_0.id) 
    from
        alert a1_0 
    where
        date(a1_0.alert_time)=date(?)
2026-01-11 17:58:33 [http-nio-9091-exec-6] INFO  com.example.demo.aop.ServiceLogAspect - 【服务调用成功】DeviceService.getWaitCalibrationCountNow，结果：1
2026-01-11 17:58:33 [http-nio-9091-exec-10] DEBUG org.hibernate.SQL - 
    select
        a1_0.alert_time,
        d1_0.device_code,
        d1_0.device_name,
        d1_0.device_type,
        d1_0.location,
        d1_0.monitor_status,
        a1_0.alert_type,
        a1_0.alert_level,
        a1_0.context 
    from
        alert a1_0 
    join
        devices d1_0 
            on d1_0.deviceid=a1_0.device_id 
    where
        (
            ? is null 
            or a1_0.alert_time>=?
        ) 
        and (
            ? is null 
            or a1_0.alert_time<=?
        ) 
        and (
            ? is null 
            or d1_0.device_code=?
        ) 
    order by
        a1_0.alert_time desc 
    limit
        ?
2026-01-11 17:58:33 [http-nio-9091-exec-4] DEBUG c.b.dynamic.datasource.DynamicRoutingDataSource - dynamic-datasource switch to the primary datasource
2026-01-11 17:58:33 [http-nio-9091-exec-10] DEBUG c.b.dynamic.datasource.DynamicRoutingDataSource - dynamic-datasource switch to the primary datasource
2026-01-11 17:58:33 [http-nio-9091-exec-4] INFO  com.example.demo.aop.ServiceLogAspect - 【服务调用成功】AlertService.getTodayAlertCount，结果：0
2026-01-11 17:58:33 [http-nio-9091-exec-9] DEBUG org.hibernate.SQL - 
    select
        a1_0.id,
        a1_0.alert_level,
        a1_0.alert_time,
        a1_0.alert_type,
        a1_0.context,
        a1_0.device_id 
    from
        alert a1_0 
    left join
        devices d1_0 
            on d1_0.deviceid=a1_0.device_id 
    where
        d1_0.deviceid=? 
    order by
        a1_0.alert_time desc 
    limit
        ?
2026-01-11 17:58:33 [http-nio-9091-exec-10] INFO  com.example.demo.aop.ServiceLogAspect - 【服务调用成功】AlertService.getAlertDetailsByTimeRange，结果：{pageSize=50, currentPage=0, totalPages=0, totalElements=0, content=[]}
2026-01-11 17:58:33 [http-nio-9091-exec-9] DEBUG org.hibernate.SQL - 
    select
        a1_0.id,
        a1_0.alert_level,
        a1_0.alert_time,
        a1_0.alert_type,
        a1_0.context,
        a1_0.device_id 
    from
        alert a1_0 
    left join
        devices d1_0 
            on d1_0.deviceid=a1_0.device_id 
    where
        d1_0.deviceid=? 
    order by
        a1_0.alert_time desc 
    limit
        ?
2026-01-11 17:58:33 [http-nio-9091-exec-9] DEBUG org.hibernate.SQL - 
    select
        a1_0.id,
        a1_0.alert_level,
        a1_0.alert_time,
        a1_0.alert_type,
        a1_0.context,
        a1_0.device_id 
    from
        alert a1_0 
    left join
        devices d1_0 
            on d1_0.deviceid=a1_0.device_id 
    where
        d1_0.deviceid=? 
    order by
        a1_0.alert_time desc 
    limit
        ?
2026-01-11 17:58:33 [http-nio-9091-exec-9] DEBUG org.hibernate.SQL - 
    select
        a1_0.id,
        a1_0.alert_level,
        a1_0.alert_time,
        a1_0.alert_type,
        a1_0.context,
        a1_0.device_id 
    from
        alert a1_0 
    left join
        devices d1_0 
            on d1_0.deviceid=a1_0.device_id 
    where
        d1_0.deviceid=? 
    order by
        a1_0.alert_time desc 
    limit
        ?
2026-01-11 17:58:33 [http-nio-9091-exec-9] DEBUG org.hibernate.SQL - 
    select
        a1_0.id,
        a1_0.alert_level,
        a1_0.alert_time,
        a1_0.alert_type,
        a1_0.context,
        a1_0.device_id 
    from
        alert a1_0 
    left join
        devices d1_0 
            on d1_0.deviceid=a1_0.device_id 
    where
        d1_0.deviceid=? 
    order by
        a1_0.alert_time desc 
    limit
        ?
2026-01-11 17:58:33 [http-nio-9091-exec-9] INFO  com.example.demo.aop.ServiceLogAspect - 【服务调用成功】AlertService.getDeviceAlertOverview，结果：[{deviceType=D4, operationalStatus=RUNNING, alertStatus=ON, latestAlertLevel=YELLOW, latestAlertTime=2025-07-13T10:05:04, location=loc1, deviceCode=001, deviceId=1, deviceName=Inoue Rin, monitorStatus=MONITORON, latestAlertContext=002}, {deviceType=DB, operationalStatus=RUNNING, alertStatus=OFF, latestAlertLevel=null, latestAlertTime=null, location=loc2, deviceCode=002, deviceId=2, deviceName=Kong Lan, monitorStatus=MONITORON, latestAlertContext=null}, {deviceType=DB, operationalStatus=OFFLINE, alertStatus=OFF, latestAlertLevel=null, latestAlertTime=null, location=loc3, deviceCode=003, deviceId=3, deviceName=Chic Kwok Yin, monitorStatus=MONITORINTERRUPT, latestAlertContext=null}, {deviceType=D4, operationalStatus=OFFLINE, alertStatus=OFF, latestAlertLevel=null, latestAlertTime=null, location=loc4, deviceCode=004, deviceId=4, deviceName=Lo Wai Lam, monitorStatus=MONITORON, latestAlertContext=null}, {deviceType=DB, operationalStatus=OFFLINE, alertStatus=OFF, latestAlertLevel=null, latestAlertTime=null, location=loc5, deviceCode=005, deviceId=5, deviceName=Saito Ayano, monitorStatus=MONITOROFF, latestAlertContext=null}]
2026-01-11 17:58:34 [http-nio-9091-exec-2] INFO  com.example.demo.aop.ServiceLogAspect - 【服务调用开始】DeviceService.getCountAll，参数：[]
2026-01-11 17:58:34 [http-nio-9091-exec-2] DEBUG org.hibernate.SQL - 
    select
        count(d1_0.deviceid) 
    from
        devices d1_0
2026-01-11 17:58:34 [http-nio-9091-exec-2] DEBUG c.b.dynamic.datasource.DynamicRoutingDataSource - dynamic-datasource switch to the primary datasource
2026-01-11 17:58:34 [http-nio-9091-exec-2] INFO  com.example.demo.aop.ServiceLogAspect - 【服务调用成功】DeviceService.getCountAll，结果：5
2026-01-11 17:58:34 [http-nio-9091-exec-3] INFO  com.example.demo.aop.ServiceLogAspect - 【服务调用开始】AlertService.getTodayAlertCount，参数：[2026-01-11 17:58:33]
2026-01-11 17:58:34 [http-nio-9091-exec-8] INFO  com.example.demo.aop.ServiceLogAspect - 【服务调用开始】DeviceService.getWaitCalibrationCountNow，参数：[]
2026-01-11 17:58:34 [http-nio-9091-exec-5] INFO  com.example.demo.aop.ServiceLogAspect - 【服务调用开始】DeviceService.getAllDevices，参数：[]
2026-01-11 17:58:34 [http-nio-9091-exec-8] DEBUG org.hibernate.SQL - 
    select
        count(d1_0.deviceid) 
    from
        devices d1_0 
    where
        d1_0.calibration_status='PENDING'
2026-01-11 17:58:34 [http-nio-9091-exec-5] DEBUG c.b.dynamic.datasource.DynamicRoutingDataSource - dynamic-datasource switch to the primary datasource
2026-01-11 17:58:34 [http-nio-9091-exec-3] DEBUG org.hibernate.SQL - 
    select
        count(a1_0.id) 
    from
        alert a1_0 
    where
        date(a1_0.alert_time)=date(?)
2026-01-11 17:58:34 [http-nio-9091-exec-1] INFO  com.example.demo.aop.ServiceLogAspect - 【服务调用开始】InspectDataService.getLatestInspectionsWithDeviceInfo，参数：[]
2026-01-11 17:58:34 [http-nio-9091-exec-8] DEBUG c.b.dynamic.datasource.DynamicRoutingDataSource - dynamic-datasource switch to the primary datasource
2026-01-11 17:58:34 [http-nio-9091-exec-3] DEBUG c.b.dynamic.datasource.DynamicRoutingDataSource - dynamic-datasource switch to the primary datasource
2026-01-11 17:58:34 [http-nio-9091-exec-5] DEBUG org.hibernate.SQL - 
    select
        d1_0.deviceid,
        d1_0.alert_status,
        d1_0.calibration_operator,
        d1_0.calibration_status,
        d1_0.created_at,
        d1_0.device_code,
        d1_0.device_name,
        d1_0.device_type,
        d1_0.last_calibration,
        d1_0.location,
        d1_0.monitor_status,
        d1_0.next_calibration,
        d1_0.operational_status,
        d1_0.self_calibration,
        d1_0.updated_at 
    from
        devices d1_0
2026-01-11 17:58:34 [http-nio-9091-exec-8] INFO  com.example.demo.aop.ServiceLogAspect - 【服务调用成功】DeviceService.getWaitCalibrationCountNow，结果：1
2026-01-11 17:58:34 [http-nio-9091-exec-3] INFO  com.example.demo.aop.ServiceLogAspect - 【服务调用成功】AlertService.getTodayAlertCount，结果：0
2026-01-11 17:58:34 [http-nio-9091-exec-1] DEBUG org.hibernate.SQL - 
    select
        id1_0.data_id,
        id1_0.batch_no,
        id1_0.create_time,
        d1_0.deviceid,
        d1_0.alert_status,
        d1_0.calibration_operator,
        d1_0.calibration_status,
        d1_0.created_at,
        d1_0.device_code,
        d1_0.device_name,
        d1_0.device_type,
        d1_0.last_calibration,
        d1_0.location,
        d1_0.monitor_status,
        d1_0.next_calibration,
        d1_0.operational_status,
        d1_0.self_calibration,
        d1_0.updated_at,
        id1_0.diameter,
        id1_0.friability,
        id1_0.hardness,
        id1_0.inspect_time,
        id1_0.is_valid,
        id1_0.product_id,
        p1_0.product_id,
        p1_0.product_name,
        p1_0.specification,
        id1_0.thickness,
        id1_0.weight 
    from
        inspection_data id1_0 
    left join
        devices d1_0 
            on d1_0.deviceid=id1_0.device_id 
    join
        product p1_0 
            on p1_0.product_id=id1_0.product_id 
    where
        id1_0.inspect_time=(
            select
                max(id2_0.inspect_time) 
            from
                inspection_data id2_0 
            where
                id2_0.device_id=id1_0.device_id 
                and id2_0.is_valid=1
        )
2026-01-11 17:58:34 [http-nio-9091-exec-5] INFO  com.example.demo.aop.ServiceLogAspect - 【服务调用成功】DeviceService.getAllDevices，结果：[com.example.demo.entity.Device@14ee6c53, com.example.demo.entity.Device@2ead0abf, com.example.demo.entity.Device@44a3cf82, com.example.demo.entity.Device@31b76ac4, com.example.demo.entity.Device@56dc0455]
2026-01-11 17:58:34 [http-nio-9091-exec-1] DEBUG c.b.dynamic.datasource.DynamicRoutingDataSource - dynamic-datasource switch to the primary datasource
2026-01-11 17:58:34 [http-nio-9091-exec-1] INFO  com.example.demo.aop.ServiceLogAspect - 【服务调用成功】InspectDataService.getLatestInspectionsWithDeviceInfo，结果：[com.example.demo.entity.InspectionData@3aa5a33a, com.example.demo.entity.InspectionData@137d1035]
2026-01-11 17:58:34 [http-nio-9091-exec-7] INFO  com.example.demo.aop.ServiceLogAspect - 【服务调用开始】AlertService.getAlertDetails，参数：[0, 10]
2026-01-11 17:58:34 [http-nio-9091-exec-7] DEBUG org.hibernate.SQL - 
    select
        a1_0.alert_time,
        d1_0.device_code,
        d1_0.device_name,
        d1_0.device_type,
        d1_0.location,
        d1_0.monitor_status,
        a1_0.alert_type,
        a1_0.alert_level,
        a1_0.context 
    from
        alert a1_0 
    join
        devices d1_0 
            on d1_0.deviceid=a1_0.device_id 
    order by
        a1_0.alert_time desc 
    limit
        ?
2026-01-11 17:58:34 [http-nio-9091-exec-7] DEBUG c.b.dynamic.datasource.DynamicRoutingDataSource - dynamic-datasource switch to the primary datasource
2026-01-11 17:58:34 [http-nio-9091-exec-7] INFO  com.example.demo.aop.ServiceLogAspect - 【服务调用成功】AlertService.getAlertDetails，结果：{pageSize=10, currentPage=0, totalPages=1, totalElements=3, content=[{deviceType=D4, alertType=DRUG, location=loc1, context=002, monitorStatus=MONITORON, deviceCode=001, alertTime=2025-07-13T10:05:04, alertLevel=YELLOW, deviceName=Inoue Rin}, {deviceType=D4, alertType=DRUG, location=loc1, context=001, monitorStatus=MONITORON, deviceCode=001, alertTime=2025-07-13T10:05:01, alertLevel=RED, deviceName=Inoue Rin}, {deviceType=D4, alertType=MECHINE, location=loc1, context=000, monitorStatus=MONITORON, deviceCode=001, alertTime=2025-07-11T10:04:58, alertLevel=YELLOW, deviceName=Inoue Rin}]}
2026-01-11 17:58:34 [http-nio-9091-exec-10] INFO  com.example.demo.aop.ServiceLogAspect - 【服务调用开始】DeviceService.getMonitorOnCountNow，参数：[]
2026-01-11 17:58:34 [http-nio-9091-exec-4] INFO  com.example.demo.aop.ServiceLogAspect - 【服务调用开始】DeviceService.getDeviceByStaffCode，参数：[admin]
2026-01-11 17:58:34 [http-nio-9091-exec-6] INFO  com.example.demo.aop.ServiceLogAspect - 【服务调用开始】AlertService.getWeekAlertSummary，参数：[2026-01-11 09:58:34]
2026-01-11 17:58:34 [http-nio-9091-exec-10] DEBUG org.hibernate.SQL - 
    select
        count(d1_0.deviceid) 
    from
        devices d1_0 
    where
        d1_0.monitor_status='MONITORON'
2026-01-11 17:58:34 [http-nio-9091-exec-4] DEBUG org.hibernate.SQL - 
    select
        d1_0.deviceid,
        d1_0.alert_status,
        d1_0.calibration_operator,
        d1_0.calibration_status,
        d1_0.created_at,
        d1_0.device_code,
        d1_0.device_name,
        d1_0.device_type,
        d1_0.last_calibration,
        d1_0.location,
        d1_0.monitor_status,
        d1_0.next_calibration,
        d1_0.operational_status,
        d1_0.self_calibration,
        d1_0.updated_at 
    from
        staffdevice sd1_0 
    join
        devices d1_0 
            on d1_0.device_code=sd1_0.device_code 
    where
        sd1_0.staffcode=?
2026-01-11 17:58:34 [http-nio-9091-exec-6] DEBUG org.hibernate.SQL - 
    select
        count(a1_0.id) 
    from
        alert a1_0 
    where
        yearweek(a1_0.alert_time, 1)=yearweek(?, 1) 
        and a1_0.alert_level='YELLOW'
2026-01-11 17:58:34 [http-nio-9091-exec-10] DEBUG c.b.dynamic.datasource.DynamicRoutingDataSource - dynamic-datasource switch to the primary datasource
2026-01-11 17:58:34 [http-nio-9091-exec-4] DEBUG c.b.dynamic.datasource.DynamicRoutingDataSource - dynamic-datasource switch to the primary datasource
2026-01-11 17:58:34 [http-nio-9091-exec-6] DEBUG c.b.dynamic.datasource.DynamicRoutingDataSource - dynamic-datasource switch to the primary datasource
2026-01-11 17:58:34 [http-nio-9091-exec-10] INFO  com.example.demo.aop.ServiceLogAspect - 【服务调用成功】DeviceService.getMonitorOnCountNow，结果：3
2026-01-11 17:58:34 [http-nio-9091-exec-10] INFO  com.example.demo.aop.ServiceLogAspect - 【服务调用开始】DeviceService.getAlertOnCountNow，参数：[]
2026-01-11 17:58:34 [http-nio-9091-exec-10] DEBUG org.hibernate.SQL - 
    select
        count(d1_0.deviceid) 
    from
        devices d1_0 
    where
        d1_0.alert_status='ON'
2026-01-11 17:58:34 [http-nio-9091-exec-4] INFO  com.example.demo.aop.ServiceLogAspect - 【服务调用成功】DeviceService.getDeviceByStaffCode，结果：[]
2026-01-11 17:58:34 [http-nio-9091-exec-6] DEBUG org.hibernate.SQL - 
    select
        count(a1_0.id) 
    from
        alert a1_0 
    where
        yearweek(a1_0.alert_time, 1)=yearweek(?, 1) 
        and a1_0.alert_level='RED'
2026-01-11 17:58:34 [http-nio-9091-exec-10] INFO  com.example.demo.aop.ServiceLogAspect - 【服务调用成功】DeviceService.getAlertOnCountNow，结果：1
2026-01-11 17:58:34 [http-nio-9091-exec-10] INFO  com.example.demo.aop.ServiceLogAspect - 【服务调用开始】DeviceService.getOperationalOnCountNow，参数：[]
2026-01-11 17:58:34 [http-nio-9091-exec-10] DEBUG org.hibernate.SQL - 
    select
        count(d1_0.deviceid) 
    from
        devices d1_0 
    where
        d1_0.operational_status='RUNNING'
2026-01-11 17:58:34 [http-nio-9091-exec-6] DEBUG org.hibernate.SQL - 
    select
        count(a1_0.id) 
    from
        alert a1_0 
    where
        yearweek(a1_0.alert_time, 1)=yearweek(?, 1) 
        and a1_0.alert_type='MECHINE'
2026-01-11 17:58:34 [http-nio-9091-exec-10] INFO  com.example.demo.aop.ServiceLogAspect - 【服务调用成功】DeviceService.getOperationalOnCountNow，结果：2
2026-01-11 17:58:34 [http-nio-9091-exec-10] INFO  com.example.demo.aop.ServiceLogAspect - 【服务调用开始】DeviceService.getOperationalOfflineCountNow，参数：[]
2026-01-11 17:58:34 [http-nio-9091-exec-10] DEBUG org.hibernate.SQL - 
    select
        count(d1_0.deviceid) 
    from
        devices d1_0 
    where
        d1_0.operational_status='OFFLINE'
2026-01-11 17:58:34 [http-nio-9091-exec-6] INFO  com.example.demo.aop.ServiceLogAspect - 【服务调用成功】AlertService.getWeekAlertSummary，结果：{redAlert=0, yellowAlert=0, machineFailure=0}
2026-01-11 17:58:34 [http-nio-9091-exec-10] INFO  com.example.demo.aop.ServiceLogAspect - 【服务调用成功】DeviceService.getOperationalOfflineCountNow，结果：3
2026-01-11 18:00:07 [http-nio-9091-exec-3] INFO  com.example.demo.aop.ServiceLogAspect - 【服务调用开始】DeviceService.getWaitCalibrationCountNow，参数：[]
2026-01-11 18:00:07 [http-nio-9091-exec-8] INFO  com.example.demo.aop.ServiceLogAspect - 【服务调用开始】DeviceService.getAllDevices，参数：[]
2026-01-11 18:00:07 [http-nio-9091-exec-2] INFO  com.example.demo.aop.ServiceLogAspect - 【服务调用开始】AlertService.getTodayAlertCount，参数：[2026-01-11 18:00:07]
2026-01-11 18:00:07 [http-nio-9091-exec-9] INFO  com.example.demo.aop.ServiceLogAspect - 【服务调用开始】DeviceService.getCountAll，参数：[]
2026-01-11 18:00:07 [http-nio-9091-exec-3] DEBUG org.hibernate.SQL - 
    select
        count(d1_0.deviceid) 
    from
        devices d1_0 
    where
        d1_0.calibration_status='PENDING'
2026-01-11 18:00:07 [http-nio-9091-exec-8] DEBUG c.b.dynamic.datasource.DynamicRoutingDataSource - dynamic-datasource switch to the primary datasource
2026-01-11 18:00:07 [http-nio-9091-exec-9] DEBUG org.hibernate.SQL - 
    select
        count(d1_0.deviceid) 
    from
        devices d1_0
2026-01-11 18:00:07 [http-nio-9091-exec-2] DEBUG org.hibernate.SQL - 
    select
        count(a1_0.id) 
    from
        alert a1_0 
    where
        date(a1_0.alert_time)=date(?)
2026-01-11 18:00:07 [http-nio-9091-exec-3] DEBUG c.b.dynamic.datasource.DynamicRoutingDataSource - dynamic-datasource switch to the primary datasource
2026-01-11 18:00:07 [http-nio-9091-exec-5] INFO  com.example.demo.aop.ServiceLogAspect - 【服务调用开始】InspectDataService.getLatestInspectionsWithDeviceInfo，参数：[]
2026-01-11 18:00:07 [http-nio-9091-exec-9] DEBUG c.b.dynamic.datasource.DynamicRoutingDataSource - dynamic-datasource switch to the primary datasource
2026-01-11 18:00:07 [http-nio-9091-exec-2] DEBUG c.b.dynamic.datasource.DynamicRoutingDataSource - dynamic-datasource switch to the primary datasource
2026-01-11 18:00:07 [http-nio-9091-exec-8] DEBUG org.hibernate.SQL - 
    select
        d1_0.deviceid,
        d1_0.alert_status,
        d1_0.calibration_operator,
        d1_0.calibration_status,
        d1_0.created_at,
        d1_0.device_code,
        d1_0.device_name,
        d1_0.device_type,
        d1_0.last_calibration,
        d1_0.location,
        d1_0.monitor_status,
        d1_0.next_calibration,
        d1_0.operational_status,
        d1_0.self_calibration,
        d1_0.updated_at 
    from
        devices d1_0
2026-01-11 18:00:07 [http-nio-9091-exec-3] INFO  com.example.demo.aop.ServiceLogAspect - 【服务调用成功】DeviceService.getWaitCalibrationCountNow，结果：1
2026-01-11 18:00:07 [http-nio-9091-exec-9] INFO  com.example.demo.aop.ServiceLogAspect - 【服务调用成功】DeviceService.getCountAll，结果：5
2026-01-11 18:00:07 [http-nio-9091-exec-2] INFO  com.example.demo.aop.ServiceLogAspect - 【服务调用成功】AlertService.getTodayAlertCount，结果：0
2026-01-11 18:00:07 [http-nio-9091-exec-5] DEBUG org.hibernate.SQL - 
    select
        id1_0.data_id,
        id1_0.batch_no,
        id1_0.create_time,
        d1_0.deviceid,
        d1_0.alert_status,
        d1_0.calibration_operator,
        d1_0.calibration_status,
        d1_0.created_at,
        d1_0.device_code,
        d1_0.device_name,
        d1_0.device_type,
        d1_0.last_calibration,
        d1_0.location,
        d1_0.monitor_status,
        d1_0.next_calibration,
        d1_0.operational_status,
        d1_0.self_calibration,
        d1_0.updated_at,
        id1_0.diameter,
        id1_0.friability,
        id1_0.hardness,
        id1_0.inspect_time,
        id1_0.is_valid,
        id1_0.product_id,
        p1_0.product_id,
        p1_0.product_name,
        p1_0.specification,
        id1_0.thickness,
        id1_0.weight 
    from
        inspection_data id1_0 
    left join
        devices d1_0 
            on d1_0.deviceid=id1_0.device_id 
    join
        product p1_0 
            on p1_0.product_id=id1_0.product_id 
    where
        id1_0.inspect_time=(
            select
                max(id2_0.inspect_time) 
            from
                inspection_data id2_0 
            where
                id2_0.device_id=id1_0.device_id 
                and id2_0.is_valid=1
        )
2026-01-11 18:00:07 [http-nio-9091-exec-8] INFO  com.example.demo.aop.ServiceLogAspect - 【服务调用成功】DeviceService.getAllDevices，结果：[com.example.demo.entity.Device@6952a127, com.example.demo.entity.Device@491abf71, com.example.demo.entity.Device@417151c4, com.example.demo.entity.Device@6ea54307, com.example.demo.entity.Device@12029c6d]
2026-01-11 18:00:07 [http-nio-9091-exec-5] DEBUG c.b.dynamic.datasource.DynamicRoutingDataSource - dynamic-datasource switch to the primary datasource
2026-01-11 18:00:07 [http-nio-9091-exec-5] INFO  com.example.demo.aop.ServiceLogAspect - 【服务调用成功】InspectDataService.getLatestInspectionsWithDeviceInfo，结果：[com.example.demo.entity.InspectionData@21aaf98b, com.example.demo.entity.InspectionData@7f8e95e]
2026-01-11 18:00:21 [http-nio-9091-exec-4] INFO  com.example.demo.aop.ServiceLogAspect - 【服务调用开始】DeviceService.getDeviceByStaffCode，参数：[admin]
2026-01-11 18:00:21 [http-nio-9091-exec-1] INFO  com.example.demo.aop.ServiceLogAspect - 【服务调用开始】AlertService.getWeekAlertSummary，参数：[2026-01-11 10:00:21]
2026-01-11 18:00:21 [http-nio-9091-exec-7] INFO  com.example.demo.aop.ServiceLogAspect - 【服务调用开始】AlertService.getAlertDetails，参数：[0, 10]
2026-01-11 18:00:21 [http-nio-9091-exec-4] DEBUG org.hibernate.SQL - 
    select
        d1_0.deviceid,
        d1_0.alert_status,
        d1_0.calibration_operator,
        d1_0.calibration_status,
        d1_0.created_at,
        d1_0.device_code,
        d1_0.device_name,
        d1_0.device_type,
        d1_0.last_calibration,
        d1_0.location,
        d1_0.monitor_status,
        d1_0.next_calibration,
        d1_0.operational_status,
        d1_0.self_calibration,
        d1_0.updated_at 
    from
        staffdevice sd1_0 
    join
        devices d1_0 
            on d1_0.device_code=sd1_0.device_code 
    where
        sd1_0.staffcode=?
2026-01-11 18:00:21 [http-nio-9091-exec-7] DEBUG org.hibernate.SQL - 
    select
        a1_0.alert_time,
        d1_0.device_code,
        d1_0.device_name,
        d1_0.device_type,
        d1_0.location,
        d1_0.monitor_status,
        a1_0.alert_type,
        a1_0.alert_level,
        a1_0.context 
    from
        alert a1_0 
    join
        devices d1_0 
            on d1_0.deviceid=a1_0.device_id 
    order by
        a1_0.alert_time desc 
    limit
        ?
2026-01-11 18:00:21 [http-nio-9091-exec-1] DEBUG org.hibernate.SQL - 
    select
        count(a1_0.id) 
    from
        alert a1_0 
    where
        yearweek(a1_0.alert_time, 1)=yearweek(?, 1) 
        and a1_0.alert_level='YELLOW'
2026-01-11 18:00:21 [http-nio-9091-exec-4] DEBUG c.b.dynamic.datasource.DynamicRoutingDataSource - dynamic-datasource switch to the primary datasource
2026-01-11 18:00:21 [http-nio-9091-exec-7] DEBUG c.b.dynamic.datasource.DynamicRoutingDataSource - dynamic-datasource switch to the primary datasource
2026-01-11 18:00:21 [http-nio-9091-exec-1] DEBUG c.b.dynamic.datasource.DynamicRoutingDataSource - dynamic-datasource switch to the primary datasource
2026-01-11 18:00:21 [http-nio-9091-exec-6] INFO  com.example.demo.aop.ServiceLogAspect - 【服务调用开始】DeviceService.getMonitorOnCountNow，参数：[]
2026-01-11 18:00:21 [http-nio-9091-exec-6] DEBUG org.hibernate.SQL - 
    select
        count(d1_0.deviceid) 
    from
        devices d1_0 
    where
        d1_0.monitor_status='MONITORON'
2026-01-11 18:00:21 [http-nio-9091-exec-4] INFO  com.example.demo.aop.ServiceLogAspect - 【服务调用成功】DeviceService.getDeviceByStaffCode，结果：[]
2026-01-11 18:00:21 [http-nio-9091-exec-7] INFO  com.example.demo.aop.ServiceLogAspect - 【服务调用成功】AlertService.getAlertDetails，结果：{pageSize=10, currentPage=0, totalPages=1, totalElements=3, content=[{deviceType=D4, alertType=DRUG, location=loc1, context=002, monitorStatus=MONITORON, deviceCode=001, alertTime=2025-07-13T10:05:04, alertLevel=YELLOW, deviceName=Inoue Rin}, {deviceType=D4, alertType=DRUG, location=loc1, context=001, monitorStatus=MONITORON, deviceCode=001, alertTime=2025-07-13T10:05:01, alertLevel=RED, deviceName=Inoue Rin}, {deviceType=D4, alertType=MECHINE, location=loc1, context=000, monitorStatus=MONITORON, deviceCode=001, alertTime=2025-07-11T10:04:58, alertLevel=YELLOW, deviceName=Inoue Rin}]}
2026-01-11 18:00:21 [http-nio-9091-exec-1] DEBUG org.hibernate.SQL - 
    select
        count(a1_0.id) 
    from
        alert a1_0 
    where
        yearweek(a1_0.alert_time, 1)=yearweek(?, 1) 
        and a1_0.alert_level='RED'
2026-01-11 18:00:21 [http-nio-9091-exec-6] DEBUG c.b.dynamic.datasource.DynamicRoutingDataSource - dynamic-datasource switch to the primary datasource
2026-01-11 18:00:21 [http-nio-9091-exec-6] INFO  com.example.demo.aop.ServiceLogAspect - 【服务调用成功】DeviceService.getMonitorOnCountNow，结果：3
2026-01-11 18:00:21 [http-nio-9091-exec-6] INFO  com.example.demo.aop.ServiceLogAspect - 【服务调用开始】DeviceService.getAlertOnCountNow，参数：[]
2026-01-11 18:00:21 [http-nio-9091-exec-1] DEBUG org.hibernate.SQL - 
    select
        count(a1_0.id) 
    from
        alert a1_0 
    where
        yearweek(a1_0.alert_time, 1)=yearweek(?, 1) 
        and a1_0.alert_type='MECHINE'
2026-01-11 18:00:21 [http-nio-9091-exec-6] DEBUG org.hibernate.SQL - 
    select
        count(d1_0.deviceid) 
    from
        devices d1_0 
    where
        d1_0.alert_status='ON'
2026-01-11 18:00:21 [http-nio-9091-exec-1] INFO  com.example.demo.aop.ServiceLogAspect - 【服务调用成功】AlertService.getWeekAlertSummary，结果：{redAlert=0, yellowAlert=0, machineFailure=0}
2026-01-11 18:00:21 [http-nio-9091-exec-6] INFO  com.example.demo.aop.ServiceLogAspect - 【服务调用成功】DeviceService.getAlertOnCountNow，结果：1
2026-01-11 18:00:21 [http-nio-9091-exec-6] INFO  com.example.demo.aop.ServiceLogAspect - 【服务调用开始】DeviceService.getOperationalOnCountNow，参数：[]
2026-01-11 18:00:21 [http-nio-9091-exec-6] DEBUG org.hibernate.SQL - 
    select
        count(d1_0.deviceid) 
    from
        devices d1_0 
    where
        d1_0.operational_status='RUNNING'
2026-01-11 18:00:21 [http-nio-9091-exec-6] INFO  com.example.demo.aop.ServiceLogAspect - 【服务调用成功】DeviceService.getOperationalOnCountNow，结果：2
2026-01-11 18:00:21 [http-nio-9091-exec-6] INFO  com.example.demo.aop.ServiceLogAspect - 【服务调用开始】DeviceService.getOperationalOfflineCountNow，参数：[]
2026-01-11 18:00:21 [http-nio-9091-exec-6] DEBUG org.hibernate.SQL - 
    select
        count(d1_0.deviceid) 
    from
        devices d1_0 
    where
        d1_0.operational_status='OFFLINE'
2026-01-11 18:00:21 [http-nio-9091-exec-6] INFO  com.example.demo.aop.ServiceLogAspect - 【服务调用成功】DeviceService.getOperationalOfflineCountNow，结果：3
2026-01-11 18:00:22 [http-nio-9091-exec-10] INFO  com.example.demo.aop.ServiceLogAspect - 【服务调用开始】DeviceService.getCountAll，参数：[]
2026-01-11 18:00:22 [http-nio-9091-exec-10] DEBUG org.hibernate.SQL - 
    select
        count(d1_0.deviceid) 
    from
        devices d1_0
2026-01-11 18:00:22 [http-nio-9091-exec-10] DEBUG c.b.dynamic.datasource.DynamicRoutingDataSource - dynamic-datasource switch to the primary datasource
2026-01-11 18:00:22 [http-nio-9091-exec-10] INFO  com.example.demo.aop.ServiceLogAspect - 【服务调用成功】DeviceService.getCountAll，结果：5
2026-01-11 18:00:22 [http-nio-9091-exec-2] INFO  com.example.demo.aop.ServiceLogAspect - 【服务调用开始】DeviceService.getAllDevices，参数：[]
2026-01-11 18:00:22 [http-nio-9091-exec-8] INFO  com.example.demo.aop.ServiceLogAspect - 【服务调用开始】InspectDataService.getLatestInspectionsWithDeviceInfo，参数：[]
2026-01-11 18:00:22 [http-nio-9091-exec-2] DEBUG c.b.dynamic.datasource.DynamicRoutingDataSource - dynamic-datasource switch to the primary datasource
2026-01-11 18:00:22 [http-nio-9091-exec-3] INFO  com.example.demo.aop.ServiceLogAspect - 【服务调用开始】DeviceService.getWaitCalibrationCountNow，参数：[]
2026-01-11 18:00:22 [http-nio-9091-exec-9] INFO  com.example.demo.aop.ServiceLogAspect - 【服务调用开始】AlertService.getTodayAlertCount，参数：[2026-01-11 18:00:22]
2026-01-11 18:00:22 [http-nio-9091-exec-3] DEBUG org.hibernate.SQL - 
    select
        count(d1_0.deviceid) 
    from
        devices d1_0 
    where
        d1_0.calibration_status='PENDING'
2026-01-11 18:00:22 [http-nio-9091-exec-9] DEBUG org.hibernate.SQL - 
    select
        count(a1_0.id) 
    from
        alert a1_0 
    where
        date(a1_0.alert_time)=date(?)
2026-01-11 18:00:22 [http-nio-9091-exec-2] DEBUG org.hibernate.SQL - 
    select
        d1_0.deviceid,
        d1_0.alert_status,
        d1_0.calibration_operator,
        d1_0.calibration_status,
        d1_0.created_at,
        d1_0.device_code,
        d1_0.device_name,
        d1_0.device_type,
        d1_0.last_calibration,
        d1_0.location,
        d1_0.monitor_status,
        d1_0.next_calibration,
        d1_0.operational_status,
        d1_0.self_calibration,
        d1_0.updated_at 
    from
        devices d1_0
2026-01-11 18:00:22 [http-nio-9091-exec-3] DEBUG c.b.dynamic.datasource.DynamicRoutingDataSource - dynamic-datasource switch to the primary datasource
2026-01-11 18:00:22 [http-nio-9091-exec-8] DEBUG org.hibernate.SQL - 
    select
        id1_0.data_id,
        id1_0.batch_no,
        id1_0.create_time,
        d1_0.deviceid,
        d1_0.alert_status,
        d1_0.calibration_operator,
        d1_0.calibration_status,
        d1_0.created_at,
        d1_0.device_code,
        d1_0.device_name,
        d1_0.device_type,
        d1_0.last_calibration,
        d1_0.location,
        d1_0.monitor_status,
        d1_0.next_calibration,
        d1_0.operational_status,
        d1_0.self_calibration,
        d1_0.updated_at,
        id1_0.diameter,
        id1_0.friability,
        id1_0.hardness,
        id1_0.inspect_time,
        id1_0.is_valid,
        id1_0.product_id,
        p1_0.product_id,
        p1_0.product_name,
        p1_0.specification,
        id1_0.thickness,
        id1_0.weight 
    from
        inspection_data id1_0 
    left join
        devices d1_0 
            on d1_0.deviceid=id1_0.device_id 
    join
        product p1_0 
            on p1_0.product_id=id1_0.product_id 
    where
        id1_0.inspect_time=(
            select
                max(id2_0.inspect_time) 
            from
                inspection_data id2_0 
            where
                id2_0.device_id=id1_0.device_id 
                and id2_0.is_valid=1
        )
2026-01-11 18:00:22 [http-nio-9091-exec-9] DEBUG c.b.dynamic.datasource.DynamicRoutingDataSource - dynamic-datasource switch to the primary datasource
2026-01-11 18:00:22 [http-nio-9091-exec-3] INFO  com.example.demo.aop.ServiceLogAspect - 【服务调用成功】DeviceService.getWaitCalibrationCountNow，结果：1
2026-01-11 18:00:22 [http-nio-9091-exec-8] DEBUG c.b.dynamic.datasource.DynamicRoutingDataSource - dynamic-datasource switch to the primary datasource
2026-01-11 18:00:22 [http-nio-9091-exec-9] INFO  com.example.demo.aop.ServiceLogAspect - 【服务调用成功】AlertService.getTodayAlertCount，结果：0
2026-01-11 18:00:22 [http-nio-9091-exec-2] INFO  com.example.demo.aop.ServiceLogAspect - 【服务调用成功】DeviceService.getAllDevices，结果：[com.example.demo.entity.Device@6ffc7562, com.example.demo.entity.Device@636dbd5c, com.example.demo.entity.Device@475e4a63, com.example.demo.entity.Device@33c6451b, com.example.demo.entity.Device@3f1d6164]
2026-01-11 18:00:22 [http-nio-9091-exec-8] INFO  com.example.demo.aop.ServiceLogAspect - 【服务调用成功】InspectDataService.getLatestInspectionsWithDeviceInfo，结果：[com.example.demo.entity.InspectionData@79984a34, com.example.demo.entity.InspectionData@4c01d762]
2026-01-11 18:00:23 [http-nio-9091-exec-5] INFO  com.example.demo.aop.ServiceLogAspect - 【服务调用开始】AlertService.getAlertDetails，参数：[0, 10]
2026-01-11 18:00:23 [http-nio-9091-exec-5] DEBUG org.hibernate.SQL - 
    select
        a1_0.alert_time,
        d1_0.device_code,
        d1_0.device_name,
        d1_0.device_type,
        d1_0.location,
        d1_0.monitor_status,
        a1_0.alert_type,
        a1_0.alert_level,
        a1_0.context 
    from
        alert a1_0 
    join
        devices d1_0 
            on d1_0.deviceid=a1_0.device_id 
    order by
        a1_0.alert_time desc 
    limit
        ?
2026-01-11 18:00:23 [http-nio-9091-exec-5] DEBUG c.b.dynamic.datasource.DynamicRoutingDataSource - dynamic-datasource switch to the primary datasource
2026-01-11 18:00:23 [http-nio-9091-exec-5] INFO  com.example.demo.aop.ServiceLogAspect - 【服务调用成功】AlertService.getAlertDetails，结果：{pageSize=10, currentPage=0, totalPages=1, totalElements=3, content=[{deviceType=D4, alertType=DRUG, location=loc1, context=002, monitorStatus=MONITORON, deviceCode=001, alertTime=2025-07-13T10:05:04, alertLevel=YELLOW, deviceName=Inoue Rin}, {deviceType=D4, alertType=DRUG, location=loc1, context=001, monitorStatus=MONITORON, deviceCode=001, alertTime=2025-07-13T10:05:01, alertLevel=RED, deviceName=Inoue Rin}, {deviceType=D4, alertType=MECHINE, location=loc1, context=000, monitorStatus=MONITORON, deviceCode=001, alertTime=2025-07-11T10:04:58, alertLevel=YELLOW, deviceName=Inoue Rin}]}
2026-01-11 18:00:23 [http-nio-9091-exec-4] INFO  com.example.demo.aop.ServiceLogAspect - 【服务调用开始】DeviceService.getDeviceByStaffCode，参数：[admin]
2026-01-11 18:00:23 [http-nio-9091-exec-1] INFO  com.example.demo.aop.ServiceLogAspect - 【服务调用开始】DeviceService.getMonitorOnCountNow，参数：[]
2026-01-11 18:00:23 [http-nio-9091-exec-7] INFO  com.example.demo.aop.ServiceLogAspect - 【服务调用开始】AlertService.getWeekAlertSummary，参数：[2026-01-11 10:00:23]
2026-01-11 18:00:23 [http-nio-9091-exec-1] DEBUG org.hibernate.SQL - 
    select
        count(d1_0.deviceid) 
    from
        devices d1_0 
    where
        d1_0.monitor_status='MONITORON'
2026-01-11 18:00:23 [http-nio-9091-exec-7] DEBUG org.hibernate.SQL - 
    select
        count(a1_0.id) 
    from
        alert a1_0 
    where
        yearweek(a1_0.alert_time, 1)=yearweek(?, 1) 
        and a1_0.alert_level='YELLOW'
2026-01-11 18:00:23 [http-nio-9091-exec-4] DEBUG org.hibernate.SQL - 
    select
        d1_0.deviceid,
        d1_0.alert_status,
        d1_0.calibration_operator,
        d1_0.calibration_status,
        d1_0.created_at,
        d1_0.device_code,
        d1_0.device_name,
        d1_0.device_type,
        d1_0.last_calibration,
        d1_0.location,
        d1_0.monitor_status,
        d1_0.next_calibration,
        d1_0.operational_status,
        d1_0.self_calibration,
        d1_0.updated_at 
    from
        staffdevice sd1_0 
    join
        devices d1_0 
            on d1_0.device_code=sd1_0.device_code 
    where
        sd1_0.staffcode=?
2026-01-11 18:00:23 [http-nio-9091-exec-1] DEBUG c.b.dynamic.datasource.DynamicRoutingDataSource - dynamic-datasource switch to the primary datasource
2026-01-11 18:00:23 [http-nio-9091-exec-7] DEBUG c.b.dynamic.datasource.DynamicRoutingDataSource - dynamic-datasource switch to the primary datasource
2026-01-11 18:00:23 [http-nio-9091-exec-4] DEBUG c.b.dynamic.datasource.DynamicRoutingDataSource - dynamic-datasource switch to the primary datasource
2026-01-11 18:00:23 [http-nio-9091-exec-1] INFO  com.example.demo.aop.ServiceLogAspect - 【服务调用成功】DeviceService.getMonitorOnCountNow，结果：3
2026-01-11 18:00:23 [http-nio-9091-exec-4] INFO  com.example.demo.aop.ServiceLogAspect - 【服务调用成功】DeviceService.getDeviceByStaffCode，结果：[]
2026-01-11 18:00:23 [http-nio-9091-exec-1] INFO  com.example.demo.aop.ServiceLogAspect - 【服务调用开始】DeviceService.getAlertOnCountNow，参数：[]
2026-01-11 18:00:23 [http-nio-9091-exec-7] DEBUG org.hibernate.SQL - 
    select
        count(a1_0.id) 
    from
        alert a1_0 
    where
        yearweek(a1_0.alert_time, 1)=yearweek(?, 1) 
        and a1_0.alert_level='RED'
2026-01-11 18:00:23 [http-nio-9091-exec-1] DEBUG org.hibernate.SQL - 
    select
        count(d1_0.deviceid) 
    from
        devices d1_0 
    where
        d1_0.alert_status='ON'
2026-01-11 18:00:23 [http-nio-9091-exec-7] DEBUG org.hibernate.SQL - 
    select
        count(a1_0.id) 
    from
        alert a1_0 
    where
        yearweek(a1_0.alert_time, 1)=yearweek(?, 1) 
        and a1_0.alert_type='MECHINE'
2026-01-11 18:00:23 [http-nio-9091-exec-1] INFO  com.example.demo.aop.ServiceLogAspect - 【服务调用成功】DeviceService.getAlertOnCountNow，结果：1
2026-01-11 18:00:23 [http-nio-9091-exec-7] INFO  com.example.demo.aop.ServiceLogAspect - 【服务调用成功】AlertService.getWeekAlertSummary，结果：{redAlert=0, yellowAlert=0, machineFailure=0}
2026-01-11 18:00:23 [http-nio-9091-exec-1] INFO  com.example.demo.aop.ServiceLogAspect - 【服务调用开始】DeviceService.getOperationalOnCountNow，参数：[]
2026-01-11 18:00:23 [http-nio-9091-exec-1] DEBUG org.hibernate.SQL - 
    select
        count(d1_0.deviceid) 
    from
        devices d1_0 
    where
        d1_0.operational_status='RUNNING'
2026-01-11 18:00:23 [http-nio-9091-exec-1] INFO  com.example.demo.aop.ServiceLogAspect - 【服务调用成功】DeviceService.getOperationalOnCountNow，结果：2
2026-01-11 18:00:23 [http-nio-9091-exec-1] INFO  com.example.demo.aop.ServiceLogAspect - 【服务调用开始】DeviceService.getOperationalOfflineCountNow，参数：[]
2026-01-11 18:00:23 [http-nio-9091-exec-1] DEBUG org.hibernate.SQL - 
    select
        count(d1_0.deviceid) 
    from
        devices d1_0 
    where
        d1_0.operational_status='OFFLINE'
2026-01-11 18:00:23 [http-nio-9091-exec-1] INFO  com.example.demo.aop.ServiceLogAspect - 【服务调用成功】DeviceService.getOperationalOfflineCountNow，结果：3
2026-01-11 18:01:02 [http-nio-9091-exec-6] INFO  com.example.demo.aop.ServiceLogAspect - 【服务调用开始】DeviceService.getCountAll，参数：[]
2026-01-11 18:01:02 [http-nio-9091-exec-6] DEBUG org.hibernate.SQL - 
    select
        count(d1_0.deviceid) 
    from
        devices d1_0
2026-01-11 18:01:02 [http-nio-9091-exec-6] DEBUG c.b.dynamic.datasource.DynamicRoutingDataSource - dynamic-datasource switch to the primary datasource
2026-01-11 18:01:02 [http-nio-9091-exec-6] INFO  com.example.demo.aop.ServiceLogAspect - 【服务调用成功】DeviceService.getCountAll，结果：5
2026-01-11 18:01:02 [http-nio-9091-exec-9] INFO  com.example.demo.aop.ServiceLogAspect - 【服务调用开始】DeviceService.getWaitCalibrationCountNow，参数：[]
2026-01-11 18:01:02 [http-nio-9091-exec-3] INFO  com.example.demo.aop.ServiceLogAspect - 【服务调用开始】DeviceService.getAllDevices，参数：[]
2026-01-11 18:01:02 [http-nio-9091-exec-2] INFO  com.example.demo.aop.ServiceLogAspect - 【服务调用开始】InspectDataService.getLatestInspectionsWithDeviceInfo，参数：[]
2026-01-11 18:01:02 [http-nio-9091-exec-3] DEBUG c.b.dynamic.datasource.DynamicRoutingDataSource - dynamic-datasource switch to the primary datasource
2026-01-11 18:01:02 [http-nio-9091-exec-10] INFO  com.example.demo.aop.ServiceLogAspect - 【服务调用开始】AlertService.getTodayAlertCount，参数：[2026-01-11 18:01:02]
2026-01-11 18:01:02 [http-nio-9091-exec-9] DEBUG org.hibernate.SQL - 
    select
        count(d1_0.deviceid) 
    from
        devices d1_0 
    where
        d1_0.calibration_status='PENDING'
2026-01-11 18:01:02 [http-nio-9091-exec-10] DEBUG org.hibernate.SQL - 
    select
        count(a1_0.id) 
    from
        alert a1_0 
    where
        date(a1_0.alert_time)=date(?)
2026-01-11 18:01:02 [http-nio-9091-exec-3] DEBUG org.hibernate.SQL - 
    select
        d1_0.deviceid,
        d1_0.alert_status,
        d1_0.calibration_operator,
        d1_0.calibration_status,
        d1_0.created_at,
        d1_0.device_code,
        d1_0.device_name,
        d1_0.device_type,
        d1_0.last_calibration,
        d1_0.location,
        d1_0.monitor_status,
        d1_0.next_calibration,
        d1_0.operational_status,
        d1_0.self_calibration,
        d1_0.updated_at 
    from
        devices d1_0
2026-01-11 18:01:02 [http-nio-9091-exec-2] DEBUG org.hibernate.SQL - 
    select
        id1_0.data_id,
        id1_0.batch_no,
        id1_0.create_time,
        d1_0.deviceid,
        d1_0.alert_status,
        d1_0.calibration_operator,
        d1_0.calibration_status,
        d1_0.created_at,
        d1_0.device_code,
        d1_0.device_name,
        d1_0.device_type,
        d1_0.last_calibration,
        d1_0.location,
        d1_0.monitor_status,
        d1_0.next_calibration,
        d1_0.operational_status,
        d1_0.self_calibration,
        d1_0.updated_at,
        id1_0.diameter,
        id1_0.friability,
        id1_0.hardness,
        id1_0.inspect_time,
        id1_0.is_valid,
        id1_0.product_id,
        p1_0.product_id,
        p1_0.product_name,
        p1_0.specification,
        id1_0.thickness,
        id1_0.weight 
    from
        inspection_data id1_0 
    left join
        devices d1_0 
            on d1_0.deviceid=id1_0.device_id 
    join
        product p1_0 
            on p1_0.product_id=id1_0.product_id 
    where
        id1_0.inspect_time=(
            select
                max(id2_0.inspect_time) 
            from
                inspection_data id2_0 
            where
                id2_0.device_id=id1_0.device_id 
                and id2_0.is_valid=1
        )
2026-01-11 18:01:02 [http-nio-9091-exec-9] DEBUG c.b.dynamic.datasource.DynamicRoutingDataSource - dynamic-datasource switch to the primary datasource
2026-01-11 18:01:02 [http-nio-9091-exec-10] DEBUG c.b.dynamic.datasource.DynamicRoutingDataSource - dynamic-datasource switch to the primary datasource
2026-01-11 18:01:02 [http-nio-9091-exec-10] INFO  com.example.demo.aop.ServiceLogAspect - 【服务调用成功】AlertService.getTodayAlertCount，结果：0
2026-01-11 18:01:02 [http-nio-9091-exec-3] INFO  com.example.demo.aop.ServiceLogAspect - 【服务调用成功】DeviceService.getAllDevices，结果：[com.example.demo.entity.Device@7be6220b, com.example.demo.entity.Device@138d1493, com.example.demo.entity.Device@302ec0ec, com.example.demo.entity.Device@15badd0b, com.example.demo.entity.Device@5f8653cd]
2026-01-11 18:01:02 [http-nio-9091-exec-9] INFO  com.example.demo.aop.ServiceLogAspect - 【服务调用成功】DeviceService.getWaitCalibrationCountNow，结果：1
2026-01-11 18:01:02 [http-nio-9091-exec-2] DEBUG c.b.dynamic.datasource.DynamicRoutingDataSource - dynamic-datasource switch to the primary datasource
2026-01-11 18:01:02 [http-nio-9091-exec-2] INFO  com.example.demo.aop.ServiceLogAspect - 【服务调用成功】InspectDataService.getLatestInspectionsWithDeviceInfo，结果：[com.example.demo.entity.InspectionData@3fe837a5, com.example.demo.entity.InspectionData@c0ecfd3]
2026-01-11 18:01:16 [http-nio-9091-exec-8] INFO  com.example.demo.aop.ServiceLogAspect - 【服务调用开始】DeviceService.getCountAll，参数：[]
2026-01-11 18:01:16 [http-nio-9091-exec-6] INFO  com.example.demo.aop.ServiceLogAspect - 【服务调用开始】UserService.getStaffByStaffcode，参数：[admin]
2026-01-11 18:01:16 [http-nio-9091-exec-1] INFO  com.example.demo.aop.ServiceLogAspect - 【服务调用开始】InspectDataService.getLatestInspectionsWithDeviceInfo，参数：[]
2026-01-11 18:01:16 [http-nio-9091-exec-7] INFO  com.example.demo.aop.ServiceLogAspect - 【服务调用开始】DeviceService.getAllDevices，参数：[]
2026-01-11 18:01:16 [http-nio-9091-exec-4] INFO  com.example.demo.aop.ServiceLogAspect - 【服务调用开始】DeviceService.getWaitCalibrationCountNow，参数：[]
2026-01-11 18:01:16 [http-nio-9091-exec-5] INFO  com.example.demo.aop.ServiceLogAspect - 【服务调用开始】AlertService.getTodayAlertCount，参数：[2026-01-11 18:01:16]
2026-01-11 18:01:16 [http-nio-9091-exec-8] DEBUG org.hibernate.SQL - 
    select
        count(d1_0.deviceid) 
    from
        devices d1_0
2026-01-11 18:01:16 [http-nio-9091-exec-6] DEBUG org.hibernate.SQL - 
    select
        s1_0.staffid,
        s1_0.department,
        s1_0.password,
        s1_0.staffcode,
        s1_0.staffname 
    from
        staffinfo s1_0 
    where
        s1_0.staffcode=?
2026-01-11 18:01:16 [http-nio-9091-exec-7] DEBUG c.b.dynamic.datasource.DynamicRoutingDataSource - dynamic-datasource switch to the primary datasource
2026-01-11 18:01:16 [http-nio-9091-exec-4] DEBUG org.hibernate.SQL - 
    select
        count(d1_0.deviceid) 
    from
        devices d1_0 
    where
        d1_0.calibration_status='PENDING'
2026-01-11 18:01:16 [http-nio-9091-exec-5] DEBUG org.hibernate.SQL - 
    select
        count(a1_0.id) 
    from
        alert a1_0 
    where
        date(a1_0.alert_time)=date(?)
2026-01-11 18:01:16 [http-nio-9091-exec-8] DEBUG c.b.dynamic.datasource.DynamicRoutingDataSource - dynamic-datasource switch to the primary datasource
2026-01-11 18:01:16 [http-nio-9091-exec-6] DEBUG c.b.dynamic.datasource.DynamicRoutingDataSource - dynamic-datasource switch to the primary datasource
2026-01-11 18:01:16 [http-nio-9091-exec-7] DEBUG org.hibernate.SQL - 
    select
        d1_0.deviceid,
        d1_0.alert_status,
        d1_0.calibration_operator,
        d1_0.calibration_status,
        d1_0.created_at,
        d1_0.device_code,
        d1_0.device_name,
        d1_0.device_type,
        d1_0.last_calibration,
        d1_0.location,
        d1_0.monitor_status,
        d1_0.next_calibration,
        d1_0.operational_status,
        d1_0.self_calibration,
        d1_0.updated_at 
    from
        devices d1_0
2026-01-11 18:01:16 [http-nio-9091-exec-8] INFO  com.example.demo.aop.ServiceLogAspect - 【服务调用成功】DeviceService.getCountAll，结果：5
2026-01-11 18:01:16 [http-nio-9091-exec-4] DEBUG c.b.dynamic.datasource.DynamicRoutingDataSource - dynamic-datasource switch to the primary datasource
2026-01-11 18:01:16 [http-nio-9091-exec-1] DEBUG org.hibernate.SQL - 
    select
        id1_0.data_id,
        id1_0.batch_no,
        id1_0.create_time,
        d1_0.deviceid,
        d1_0.alert_status,
        d1_0.calibration_operator,
        d1_0.calibration_status,
        d1_0.created_at,
        d1_0.device_code,
        d1_0.device_name,
        d1_0.device_type,
        d1_0.last_calibration,
        d1_0.location,
        d1_0.monitor_status,
        d1_0.next_calibration,
        d1_0.operational_status,
        d1_0.self_calibration,
        d1_0.updated_at,
        id1_0.diameter,
        id1_0.friability,
        id1_0.hardness,
        id1_0.inspect_time,
        id1_0.is_valid,
        id1_0.product_id,
        p1_0.product_id,
        p1_0.product_name,
        p1_0.specification,
        id1_0.thickness,
        id1_0.weight 
    from
        inspection_data id1_0 
    left join
        devices d1_0 
            on d1_0.deviceid=id1_0.device_id 
    join
        product p1_0 
            on p1_0.product_id=id1_0.product_id 
    where
        id1_0.inspect_time=(
            select
                max(id2_0.inspect_time) 
            from
                inspection_data id2_0 
            where
                id2_0.device_id=id1_0.device_id 
                and id2_0.is_valid=1
        )
2026-01-11 18:01:16 [http-nio-9091-exec-5] DEBUG c.b.dynamic.datasource.DynamicRoutingDataSource - dynamic-datasource switch to the primary datasource
2026-01-11 18:01:16 [http-nio-9091-exec-6] DEBUG org.hibernate.SQL - 
    select
        sr1_0.id,
        r1_0.roleid,
        r1_0.roledescription,
        r1_0.rolename,
        s1_0.staffid,
        s1_0.department,
        s1_0.password,
        s1_0.staffcode,
        s1_0.staffname 
    from
        staffrole sr1_0 
    left join
        roleinfo r1_0 
            on r1_0.roleid=sr1_0.roleid 
    left join
        staffinfo s1_0 
            on s1_0.staffid=sr1_0.staffid 
    where
        sr1_0.staffid=?
2026-01-11 18:01:16 [http-nio-9091-exec-4] INFO  com.example.demo.aop.ServiceLogAspect - 【服务调用成功】DeviceService.getWaitCalibrationCountNow，结果：1
2026-01-11 18:01:16 [http-nio-9091-exec-7] INFO  com.example.demo.aop.ServiceLogAspect - 【服务调用成功】DeviceService.getAllDevices，结果：[com.example.demo.entity.Device@1e8bbd2, com.example.demo.entity.Device@4b1265e8, com.example.demo.entity.Device@13199b45, com.example.demo.entity.Device@566bf114, com.example.demo.entity.Device@1299f620]
2026-01-11 18:01:16 [http-nio-9091-exec-5] INFO  com.example.demo.aop.ServiceLogAspect - 【服务调用成功】AlertService.getTodayAlertCount，结果：0
2026-01-11 18:01:16 [http-nio-9091-exec-1] DEBUG c.b.dynamic.datasource.DynamicRoutingDataSource - dynamic-datasource switch to the primary datasource
2026-01-11 18:01:16 [http-nio-9091-exec-6] INFO  com.example.demo.aop.ServiceLogAspect - 【服务调用成功】UserService.getStaffByStaffcode，结果：com.example.demo.entity.Staff@c401985
2026-01-11 18:01:16 [http-nio-9091-exec-6] INFO  com.example.demo.aop.ServiceLogAspect - 【服务调用开始】RoleService.getRoleById，参数：[1]
2026-01-11 18:01:16 [http-nio-9091-exec-1] INFO  com.example.demo.aop.ServiceLogAspect - 【服务调用成功】InspectDataService.getLatestInspectionsWithDeviceInfo，结果：[com.example.demo.entity.InspectionData@4ea5d222, com.example.demo.entity.InspectionData@4dce2f0b]
2026-01-11 18:01:16 [http-nio-9091-exec-6] DEBUG org.hibernate.SQL - 
    select
        r1_0.roleid,
        r1_0.roledescription,
        r1_0.rolename 
    from
        roleinfo r1_0 
    where
        r1_0.roleid=?
2026-01-11 18:01:16 [http-nio-9091-exec-6] INFO  com.example.demo.aop.ServiceLogAspect - 【服务调用成功】RoleService.getRoleById，结果：com.example.demo.entity.Role@74c49e99
2026-01-11 18:01:16 [http-nio-9091-exec-10] INFO  com.example.demo.aop.ServiceLogAspect - 【服务调用开始】DeviceService.getWaitCalibrationCountNow，参数：[]
2026-01-11 18:01:16 [http-nio-9091-exec-9] INFO  com.example.demo.aop.ServiceLogAspect - 【服务调用开始】DeviceService.getCountAll，参数：[]
2026-01-11 18:01:17 [http-nio-9091-exec-9] DEBUG org.hibernate.SQL - 
    select
        count(d1_0.deviceid) 
    from
        devices d1_0
2026-01-11 18:01:17 [http-nio-9091-exec-3] INFO  com.example.demo.aop.ServiceLogAspect - 【服务调用开始】AlertService.getTodayAlertCount，参数：[2026-01-11 18:01:16]
2026-01-11 18:01:17 [http-nio-9091-exec-10] DEBUG org.hibernate.SQL - 
    select
        count(d1_0.deviceid) 
    from
        devices d1_0 
    where
        d1_0.calibration_status='PENDING'
2026-01-11 18:01:17 [http-nio-9091-exec-9] DEBUG c.b.dynamic.datasource.DynamicRoutingDataSource - dynamic-datasource switch to the primary datasource
2026-01-11 18:01:17 [http-nio-9091-exec-10] DEBUG c.b.dynamic.datasource.DynamicRoutingDataSource - dynamic-datasource switch to the primary datasource
2026-01-11 18:01:17 [http-nio-9091-exec-3] DEBUG org.hibernate.SQL - 
    select
        count(a1_0.id) 
    from
        alert a1_0 
    where
        date(a1_0.alert_time)=date(?)
2026-01-11 18:01:17 [http-nio-9091-exec-9] INFO  com.example.demo.aop.ServiceLogAspect - 【服务调用成功】DeviceService.getCountAll，结果：5
2026-01-11 18:01:17 [http-nio-9091-exec-3] DEBUG c.b.dynamic.datasource.DynamicRoutingDataSource - dynamic-datasource switch to the primary datasource
2026-01-11 18:01:17 [http-nio-9091-exec-10] INFO  com.example.demo.aop.ServiceLogAspect - 【服务调用成功】DeviceService.getWaitCalibrationCountNow，结果：1
2026-01-11 18:01:17 [http-nio-9091-exec-3] INFO  com.example.demo.aop.ServiceLogAspect - 【服务调用成功】AlertService.getTodayAlertCount，结果：0
2026-01-11 18:01:22 [http-nio-9091-exec-2] INFO  com.example.demo.aop.ServiceLogAspect - 【服务调用开始】DeviceService.getCountAll，参数：[]
2026-01-11 18:01:22 [http-nio-9091-exec-2] DEBUG org.hibernate.SQL - 
    select
        count(d1_0.deviceid) 
    from
        devices d1_0
2026-01-11 18:01:22 [http-nio-9091-exec-2] DEBUG c.b.dynamic.datasource.DynamicRoutingDataSource - dynamic-datasource switch to the primary datasource
2026-01-11 18:01:22 [http-nio-9091-exec-8] INFO  com.example.demo.aop.ServiceLogAspect - 【服务调用开始】AlertService.getTodayAlertCount，参数：[2026-01-11 18:01:22]
2026-01-11 18:01:22 [http-nio-9091-exec-2] INFO  com.example.demo.aop.ServiceLogAspect - 【服务调用成功】DeviceService.getCountAll，结果：5
2026-01-11 18:01:22 [http-nio-9091-exec-8] DEBUG org.hibernate.SQL - 
    select
        count(a1_0.id) 
    from
        alert a1_0 
    where
        date(a1_0.alert_time)=date(?)
2026-01-11 18:01:22 [http-nio-9091-exec-8] DEBUG c.b.dynamic.datasource.DynamicRoutingDataSource - dynamic-datasource switch to the primary datasource
2026-01-11 18:01:22 [http-nio-9091-exec-4] INFO  com.example.demo.aop.ServiceLogAspect - 【服务调用开始】DeviceService.getWaitCalibrationCountNow，参数：[]
2026-01-11 18:01:22 [http-nio-9091-exec-4] DEBUG org.hibernate.SQL - 
    select
        count(d1_0.deviceid) 
    from
        devices d1_0 
    where
        d1_0.calibration_status='PENDING'
2026-01-11 18:01:22 [http-nio-9091-exec-8] INFO  com.example.demo.aop.ServiceLogAspect - 【服务调用成功】AlertService.getTodayAlertCount，结果：0
2026-01-11 18:01:22 [http-nio-9091-exec-4] DEBUG c.b.dynamic.datasource.DynamicRoutingDataSource - dynamic-datasource switch to the primary datasource
2026-01-11 18:01:22 [http-nio-9091-exec-4] INFO  com.example.demo.aop.ServiceLogAspect - 【服务调用成功】DeviceService.getWaitCalibrationCountNow，结果：1
2026-01-11 18:01:26 [http-nio-9091-exec-5] INFO  com.example.demo.aop.ServiceLogAspect - 【服务调用开始】DeviceService.getCountAll，参数：[]
2026-01-11 18:01:26 [http-nio-9091-exec-7] INFO  com.example.demo.aop.ServiceLogAspect - 【服务调用开始】AlertService.getTodayAlertCount，参数：[2026-01-11 18:01:26]
2026-01-11 18:01:26 [http-nio-9091-exec-5] DEBUG org.hibernate.SQL - 
    select
        count(d1_0.deviceid) 
    from
        devices d1_0
2026-01-11 18:01:26 [http-nio-9091-exec-5] DEBUG c.b.dynamic.datasource.DynamicRoutingDataSource - dynamic-datasource switch to the primary datasource
2026-01-11 18:01:26 [http-nio-9091-exec-7] DEBUG org.hibernate.SQL - 
    select
        count(a1_0.id) 
    from
        alert a1_0 
    where
        date(a1_0.alert_time)=date(?)
2026-01-11 18:01:26 [http-nio-9091-exec-7] DEBUG c.b.dynamic.datasource.DynamicRoutingDataSource - dynamic-datasource switch to the primary datasource
2026-01-11 18:01:26 [http-nio-9091-exec-5] INFO  com.example.demo.aop.ServiceLogAspect - 【服务调用成功】DeviceService.getCountAll，结果：5
2026-01-11 18:01:26 [http-nio-9091-exec-7] INFO  com.example.demo.aop.ServiceLogAspect - 【服务调用成功】AlertService.getTodayAlertCount，结果：0
2026-01-11 18:01:26 [http-nio-9091-exec-9] INFO  com.example.demo.aop.ServiceLogAspect - 【服务调用开始】DeviceService.getAllDevices，参数：[]
2026-01-11 18:01:26 [http-nio-9091-exec-6] INFO  com.example.demo.aop.ServiceLogAspect - 【服务调用开始】DeviceService.getWaitCalibrationCountNow，参数：[]
2026-01-11 18:01:26 [http-nio-9091-exec-1] INFO  com.example.demo.aop.ServiceLogAspect - 【服务调用开始】AlertService.getTodayAlertCount，参数：[2026-01-11 18:01:26]
2026-01-11 18:01:26 [http-nio-9091-exec-9] DEBUG c.b.dynamic.datasource.DynamicRoutingDataSource - dynamic-datasource switch to the primary datasource
2026-01-11 18:01:26 [http-nio-9091-exec-6] DEBUG org.hibernate.SQL - 
    select
        count(d1_0.deviceid) 
    from
        devices d1_0 
    where
        d1_0.calibration_status='PENDING'
2026-01-11 18:01:26 [http-nio-9091-exec-10] INFO  com.example.demo.aop.ServiceLogAspect - 【服务调用开始】InspectDataService.getLatestInspectionsWithDeviceInfo，参数：[]
2026-01-11 18:01:26 [http-nio-9091-exec-6] DEBUG c.b.dynamic.datasource.DynamicRoutingDataSource - dynamic-datasource switch to the primary datasource
2026-01-11 18:01:26 [http-nio-9091-exec-1] DEBUG org.hibernate.SQL - 
    select
        count(a1_0.id) 
    from
        alert a1_0 
    where
        date(a1_0.alert_time)=date(?)
2026-01-11 18:01:26 [http-nio-9091-exec-1] DEBUG c.b.dynamic.datasource.DynamicRoutingDataSource - dynamic-datasource switch to the primary datasource
2026-01-11 18:01:26 [http-nio-9091-exec-9] DEBUG org.hibernate.SQL - 
    select
        d1_0.deviceid,
        d1_0.alert_status,
        d1_0.calibration_operator,
        d1_0.calibration_status,
        d1_0.created_at,
        d1_0.device_code,
        d1_0.device_name,
        d1_0.device_type,
        d1_0.last_calibration,
        d1_0.location,
        d1_0.monitor_status,
        d1_0.next_calibration,
        d1_0.operational_status,
        d1_0.self_calibration,
        d1_0.updated_at 
    from
        devices d1_0
2026-01-11 18:01:26 [http-nio-9091-exec-6] INFO  com.example.demo.aop.ServiceLogAspect - 【服务调用成功】DeviceService.getWaitCalibrationCountNow，结果：1
2026-01-11 18:01:26 [http-nio-9091-exec-1] INFO  com.example.demo.aop.ServiceLogAspect - 【服务调用成功】AlertService.getTodayAlertCount，结果：0
2026-01-11 18:01:26 [http-nio-9091-exec-10] DEBUG org.hibernate.SQL - 
    select
        id1_0.data_id,
        id1_0.batch_no,
        id1_0.create_time,
        d1_0.deviceid,
        d1_0.alert_status,
        d1_0.calibration_operator,
        d1_0.calibration_status,
        d1_0.created_at,
        d1_0.device_code,
        d1_0.device_name,
        d1_0.device_type,
        d1_0.last_calibration,
        d1_0.location,
        d1_0.monitor_status,
        d1_0.next_calibration,
        d1_0.operational_status,
        d1_0.self_calibration,
        d1_0.updated_at,
        id1_0.diameter,
        id1_0.friability,
        id1_0.hardness,
        id1_0.inspect_time,
        id1_0.is_valid,
        id1_0.product_id,
        p1_0.product_id,
        p1_0.product_name,
        p1_0.specification,
        id1_0.thickness,
        id1_0.weight 
    from
        inspection_data id1_0 
    left join
        devices d1_0 
            on d1_0.deviceid=id1_0.device_id 
    join
        product p1_0 
            on p1_0.product_id=id1_0.product_id 
    where
        id1_0.inspect_time=(
            select
                max(id2_0.inspect_time) 
            from
                inspection_data id2_0 
            where
                id2_0.device_id=id1_0.device_id 
                and id2_0.is_valid=1
        )
2026-01-11 18:01:26 [http-nio-9091-exec-9] INFO  com.example.demo.aop.ServiceLogAspect - 【服务调用成功】DeviceService.getAllDevices，结果：[com.example.demo.entity.Device@39323acf, com.example.demo.entity.Device@6af3c039, com.example.demo.entity.Device@31635fbd, com.example.demo.entity.Device@748ce68f, com.example.demo.entity.Device@5cc04e93]
2026-01-11 18:01:26 [http-nio-9091-exec-10] DEBUG c.b.dynamic.datasource.DynamicRoutingDataSource - dynamic-datasource switch to the primary datasource
2026-01-11 18:01:26 [http-nio-9091-exec-3] INFO  com.example.demo.aop.ServiceLogAspect - 【服务调用开始】UserService.getStaffByStaffcode，参数：[admin]
2026-01-11 18:01:26 [http-nio-9091-exec-2] INFO  com.example.demo.aop.ServiceLogAspect - 【服务调用开始】DeviceService.getCountAll，参数：[]
2026-01-11 18:01:26 [http-nio-9091-exec-2] DEBUG org.hibernate.SQL - 
    select
        count(d1_0.deviceid) 
    from
        devices d1_0
2026-01-11 18:01:26 [http-nio-9091-exec-3] DEBUG org.hibernate.SQL - 
    select
        s1_0.staffid,
        s1_0.department,
        s1_0.password,
        s1_0.staffcode,
        s1_0.staffname 
    from
        staffinfo s1_0 
    where
        s1_0.staffcode=?
2026-01-11 18:01:26 [http-nio-9091-exec-10] INFO  com.example.demo.aop.ServiceLogAspect - 【服务调用成功】InspectDataService.getLatestInspectionsWithDeviceInfo，结果：[com.example.demo.entity.InspectionData@1e3f34be, com.example.demo.entity.InspectionData@13bfec38]
2026-01-11 18:01:26 [http-nio-9091-exec-2] DEBUG c.b.dynamic.datasource.DynamicRoutingDataSource - dynamic-datasource switch to the primary datasource
2026-01-11 18:01:26 [http-nio-9091-exec-3] DEBUG c.b.dynamic.datasource.DynamicRoutingDataSource - dynamic-datasource switch to the primary datasource
2026-01-11 18:01:26 [http-nio-9091-exec-2] INFO  com.example.demo.aop.ServiceLogAspect - 【服务调用成功】DeviceService.getCountAll，结果：5
2026-01-11 18:01:26 [http-nio-9091-exec-3] DEBUG org.hibernate.SQL - 
    select
        sr1_0.id,
        r1_0.roleid,
        r1_0.roledescription,
        r1_0.rolename,
        s1_0.staffid,
        s1_0.department,
        s1_0.password,
        s1_0.staffcode,
        s1_0.staffname 
    from
        staffrole sr1_0 
    left join
        roleinfo r1_0 
            on r1_0.roleid=sr1_0.roleid 
    left join
        staffinfo s1_0 
            on s1_0.staffid=sr1_0.staffid 
    where
        sr1_0.staffid=?
2026-01-11 18:01:26 [http-nio-9091-exec-3] INFO  com.example.demo.aop.ServiceLogAspect - 【服务调用成功】UserService.getStaffByStaffcode，结果：com.example.demo.entity.Staff@2706091f
2026-01-11 18:01:26 [http-nio-9091-exec-3] INFO  com.example.demo.aop.ServiceLogAspect - 【服务调用开始】RoleService.getRoleById，参数：[1]
2026-01-11 18:01:26 [http-nio-9091-exec-8] INFO  com.example.demo.aop.ServiceLogAspect - 【服务调用开始】DeviceService.getWaitCalibrationCountNow，参数：[]
2026-01-11 18:01:26 [http-nio-9091-exec-3] DEBUG org.hibernate.SQL - 
    select
        r1_0.roleid,
        r1_0.roledescription,
        r1_0.rolename 
    from
        roleinfo r1_0 
    where
        r1_0.roleid=?
2026-01-11 18:01:26 [http-nio-9091-exec-8] DEBUG org.hibernate.SQL - 
    select
        count(d1_0.deviceid) 
    from
        devices d1_0 
    where
        d1_0.calibration_status='PENDING'
2026-01-11 18:01:26 [http-nio-9091-exec-8] DEBUG c.b.dynamic.datasource.DynamicRoutingDataSource - dynamic-datasource switch to the primary datasource
2026-01-11 18:01:26 [http-nio-9091-exec-8] INFO  com.example.demo.aop.ServiceLogAspect - 【服务调用成功】DeviceService.getWaitCalibrationCountNow，结果：1
2026-01-11 18:01:26 [http-nio-9091-exec-3] INFO  com.example.demo.aop.ServiceLogAspect - 【服务调用成功】RoleService.getRoleById，结果：com.example.demo.entity.Role@a70118f
2026-01-11 18:01:26 [http-nio-9091-exec-7] INFO  com.example.demo.aop.ServiceLogAspect - 【服务调用开始】DeviceService.getWaitCalibrationCountNow，参数：[]
2026-01-11 18:01:26 [http-nio-9091-exec-5] INFO  com.example.demo.aop.ServiceLogAspect - 【服务调用开始】DeviceService.getCountAll，参数：[]
2026-01-11 18:01:26 [http-nio-9091-exec-4] INFO  com.example.demo.aop.ServiceLogAspect - 【服务调用开始】AlertService.getTodayAlertCount，参数：[2026-01-11 18:01:26]
2026-01-11 18:01:26 [http-nio-9091-exec-7] DEBUG org.hibernate.SQL - 
    select
        count(d1_0.deviceid) 
    from
        devices d1_0 
    where
        d1_0.calibration_status='PENDING'
2026-01-11 18:01:26 [http-nio-9091-exec-5] DEBUG org.hibernate.SQL - 
    select
        count(d1_0.deviceid) 
    from
        devices d1_0
2026-01-11 18:01:26 [http-nio-9091-exec-7] DEBUG c.b.dynamic.datasource.DynamicRoutingDataSource - dynamic-datasource switch to the primary datasource
2026-01-11 18:01:26 [http-nio-9091-exec-4] DEBUG org.hibernate.SQL - 
    select
        count(a1_0.id) 
    from
        alert a1_0 
    where
        date(a1_0.alert_time)=date(?)
2026-01-11 18:01:26 [http-nio-9091-exec-5] DEBUG c.b.dynamic.datasource.DynamicRoutingDataSource - dynamic-datasource switch to the primary datasource
2026-01-11 18:01:26 [http-nio-9091-exec-4] DEBUG c.b.dynamic.datasource.DynamicRoutingDataSource - dynamic-datasource switch to the primary datasource
2026-01-11 18:01:26 [http-nio-9091-exec-7] INFO  com.example.demo.aop.ServiceLogAspect - 【服务调用成功】DeviceService.getWaitCalibrationCountNow，结果：1
2026-01-11 18:01:26 [http-nio-9091-exec-5] INFO  com.example.demo.aop.ServiceLogAspect - 【服务调用成功】DeviceService.getCountAll，结果：5
2026-01-11 18:01:26 [http-nio-9091-exec-4] INFO  com.example.demo.aop.ServiceLogAspect - 【服务调用成功】AlertService.getTodayAlertCount，结果：0
2026-01-11 18:01:28 [http-nio-9091-exec-6] INFO  com.example.demo.aop.ServiceLogAspect - 【服务调用开始】AlertService.getAlertDetails，参数：[0, 10]
2026-01-11 18:01:28 [http-nio-9091-exec-6] DEBUG org.hibernate.SQL - 
    select
        a1_0.alert_time,
        d1_0.device_code,
        d1_0.device_name,
        d1_0.device_type,
        d1_0.location,
        d1_0.monitor_status,
        a1_0.alert_type,
        a1_0.alert_level,
        a1_0.context 
    from
        alert a1_0 
    join
        devices d1_0 
            on d1_0.deviceid=a1_0.device_id 
    order by
        a1_0.alert_time desc 
    limit
        ?
2026-01-11 18:01:28 [http-nio-9091-exec-9] INFO  com.example.demo.aop.ServiceLogAspect - 【服务调用开始】DeviceService.getDeviceByStaffCode，参数：[admin]
2026-01-11 18:01:28 [http-nio-9091-exec-10] INFO  com.example.demo.aop.ServiceLogAspect - 【服务调用开始】DeviceService.getMonitorOnCountNow，参数：[]
2026-01-11 18:01:28 [http-nio-9091-exec-1] INFO  com.example.demo.aop.ServiceLogAspect - 【服务调用开始】AlertService.getWeekAlertSummary，参数：[2026-01-11 10:01:28]
2026-01-11 18:01:28 [http-nio-9091-exec-6] DEBUG c.b.dynamic.datasource.DynamicRoutingDataSource - dynamic-datasource switch to the primary datasource
2026-01-11 18:01:28 [http-nio-9091-exec-10] DEBUG org.hibernate.SQL - 
    select
        count(d1_0.deviceid) 
    from
        devices d1_0 
    where
        d1_0.monitor_status='MONITORON'
2026-01-11 18:01:28 [http-nio-9091-exec-9] DEBUG org.hibernate.SQL - 
    select
        d1_0.deviceid,
        d1_0.alert_status,
        d1_0.calibration_operator,
        d1_0.calibration_status,
        d1_0.created_at,
        d1_0.device_code,
        d1_0.device_name,
        d1_0.device_type,
        d1_0.last_calibration,
        d1_0.location,
        d1_0.monitor_status,
        d1_0.next_calibration,
        d1_0.operational_status,
        d1_0.self_calibration,
        d1_0.updated_at 
    from
        staffdevice sd1_0 
    join
        devices d1_0 
            on d1_0.device_code=sd1_0.device_code 
    where
        sd1_0.staffcode=?
2026-01-11 18:01:28 [http-nio-9091-exec-1] DEBUG org.hibernate.SQL - 
    select
        count(a1_0.id) 
    from
        alert a1_0 
    where
        yearweek(a1_0.alert_time, 1)=yearweek(?, 1) 
        and a1_0.alert_level='YELLOW'
2026-01-11 18:01:28 [http-nio-9091-exec-10] DEBUG c.b.dynamic.datasource.DynamicRoutingDataSource - dynamic-datasource switch to the primary datasource
2026-01-11 18:01:28 [http-nio-9091-exec-9] DEBUG c.b.dynamic.datasource.DynamicRoutingDataSource - dynamic-datasource switch to the primary datasource
2026-01-11 18:01:28 [http-nio-9091-exec-6] INFO  com.example.demo.aop.ServiceLogAspect - 【服务调用成功】AlertService.getAlertDetails，结果：{pageSize=10, currentPage=0, totalPages=1, totalElements=3, content=[{deviceType=D4, alertType=DRUG, location=loc1, context=002, monitorStatus=MONITORON, deviceCode=001, alertTime=2025-07-13T10:05:04, alertLevel=YELLOW, deviceName=Inoue Rin}, {deviceType=D4, alertType=DRUG, location=loc1, context=001, monitorStatus=MONITORON, deviceCode=001, alertTime=2025-07-13T10:05:01, alertLevel=RED, deviceName=Inoue Rin}, {deviceType=D4, alertType=MECHINE, location=loc1, context=000, monitorStatus=MONITORON, deviceCode=001, alertTime=2025-07-11T10:04:58, alertLevel=YELLOW, deviceName=Inoue Rin}]}
2026-01-11 18:01:28 [http-nio-9091-exec-1] DEBUG c.b.dynamic.datasource.DynamicRoutingDataSource - dynamic-datasource switch to the primary datasource
2026-01-11 18:01:28 [http-nio-9091-exec-10] INFO  com.example.demo.aop.ServiceLogAspect - 【服务调用成功】DeviceService.getMonitorOnCountNow，结果：3
2026-01-11 18:01:28 [http-nio-9091-exec-9] INFO  com.example.demo.aop.ServiceLogAspect - 【服务调用成功】DeviceService.getDeviceByStaffCode，结果：[]
2026-01-11 18:01:28 [http-nio-9091-exec-10] INFO  com.example.demo.aop.ServiceLogAspect - 【服务调用开始】DeviceService.getAlertOnCountNow，参数：[]
2026-01-11 18:01:28 [http-nio-9091-exec-1] DEBUG org.hibernate.SQL - 
    select
        count(a1_0.id) 
    from
        alert a1_0 
    where
        yearweek(a1_0.alert_time, 1)=yearweek(?, 1) 
        and a1_0.alert_level='RED'
2026-01-11 18:01:28 [http-nio-9091-exec-10] DEBUG org.hibernate.SQL - 
    select
        count(d1_0.deviceid) 
    from
        devices d1_0 
    where
        d1_0.alert_status='ON'
2026-01-11 18:01:28 [http-nio-9091-exec-10] INFO  com.example.demo.aop.ServiceLogAspect - 【服务调用成功】DeviceService.getAlertOnCountNow，结果：1
2026-01-11 18:01:28 [http-nio-9091-exec-1] DEBUG org.hibernate.SQL - 
    select
        count(a1_0.id) 
    from
        alert a1_0 
    where
        yearweek(a1_0.alert_time, 1)=yearweek(?, 1) 
        and a1_0.alert_type='MECHINE'
2026-01-11 18:01:28 [http-nio-9091-exec-10] INFO  com.example.demo.aop.ServiceLogAspect - 【服务调用开始】DeviceService.getOperationalOnCountNow，参数：[]
2026-01-11 18:01:28 [http-nio-9091-exec-10] DEBUG org.hibernate.SQL - 
    select
        count(d1_0.deviceid) 
    from
        devices d1_0 
    where
        d1_0.operational_status='RUNNING'
2026-01-11 18:01:28 [http-nio-9091-exec-1] INFO  com.example.demo.aop.ServiceLogAspect - 【服务调用成功】AlertService.getWeekAlertSummary，结果：{redAlert=0, yellowAlert=0, machineFailure=0}
2026-01-11 18:01:28 [http-nio-9091-exec-10] INFO  com.example.demo.aop.ServiceLogAspect - 【服务调用成功】DeviceService.getOperationalOnCountNow，结果：2
2026-01-11 18:01:28 [http-nio-9091-exec-10] INFO  com.example.demo.aop.ServiceLogAspect - 【服务调用开始】DeviceService.getOperationalOfflineCountNow，参数：[]
2026-01-11 18:01:28 [http-nio-9091-exec-10] DEBUG org.hibernate.SQL - 
    select
        count(d1_0.deviceid) 
    from
        devices d1_0 
    where
        d1_0.operational_status='OFFLINE'
2026-01-11 18:01:28 [http-nio-9091-exec-10] INFO  com.example.demo.aop.ServiceLogAspect - 【服务调用成功】DeviceService.getOperationalOfflineCountNow，结果：3
2026-01-11 18:01:28 [http-nio-9091-exec-2] INFO  com.example.demo.aop.ServiceLogAspect - 【服务调用开始】DeviceService.getCountAll，参数：[]
2026-01-11 18:01:28 [http-nio-9091-exec-2] DEBUG org.hibernate.SQL - 
    select
        count(d1_0.deviceid) 
    from
        devices d1_0
2026-01-11 18:01:28 [http-nio-9091-exec-2] DEBUG c.b.dynamic.datasource.DynamicRoutingDataSource - dynamic-datasource switch to the primary datasource
2026-01-11 18:01:28 [http-nio-9091-exec-2] INFO  com.example.demo.aop.ServiceLogAspect - 【服务调用成功】DeviceService.getCountAll，结果：5
2026-01-11 18:01:28 [http-nio-9091-exec-5] INFO  com.example.demo.aop.ServiceLogAspect - 【服务调用开始】DeviceService.getAllDevices，参数：[]
2026-01-11 18:01:28 [http-nio-9091-exec-3] INFO  com.example.demo.aop.ServiceLogAspect - 【服务调用开始】DeviceService.getWaitCalibrationCountNow，参数：[]
2026-01-11 18:01:28 [http-nio-9091-exec-7] INFO  com.example.demo.aop.ServiceLogAspect - 【服务调用开始】InspectDataService.getLatestInspectionsWithDeviceInfo，参数：[]
2026-01-11 18:01:28 [http-nio-9091-exec-8] INFO  com.example.demo.aop.ServiceLogAspect - 【服务调用开始】AlertService.getTodayAlertCount，参数：[2026-01-11 18:01:28]
2026-01-11 18:01:28 [http-nio-9091-exec-5] DEBUG c.b.dynamic.datasource.DynamicRoutingDataSource - dynamic-datasource switch to the primary datasource
2026-01-11 18:01:28 [http-nio-9091-exec-3] DEBUG org.hibernate.SQL - 
    select
        count(d1_0.deviceid) 
    from
        devices d1_0 
    where
        d1_0.calibration_status='PENDING'
2026-01-11 18:01:28 [http-nio-9091-exec-3] DEBUG c.b.dynamic.datasource.DynamicRoutingDataSource - dynamic-datasource switch to the primary datasource
2026-01-11 18:01:28 [http-nio-9091-exec-8] DEBUG org.hibernate.SQL - 
    select
        count(a1_0.id) 
    from
        alert a1_0 
    where
        date(a1_0.alert_time)=date(?)
2026-01-11 18:01:28 [http-nio-9091-exec-3] INFO  com.example.demo.aop.ServiceLogAspect - 【服务调用成功】DeviceService.getWaitCalibrationCountNow，结果：1
2026-01-11 18:01:28 [http-nio-9091-exec-7] DEBUG org.hibernate.SQL - 
    select
        id1_0.data_id,
        id1_0.batch_no,
        id1_0.create_time,
        d1_0.deviceid,
        d1_0.alert_status,
        d1_0.calibration_operator,
        d1_0.calibration_status,
        d1_0.created_at,
        d1_0.device_code,
        d1_0.device_name,
        d1_0.device_type,
        d1_0.last_calibration,
        d1_0.location,
        d1_0.monitor_status,
        d1_0.next_calibration,
        d1_0.operational_status,
        d1_0.self_calibration,
        d1_0.updated_at,
        id1_0.diameter,
        id1_0.friability,
        id1_0.hardness,
        id1_0.inspect_time,
        id1_0.is_valid,
        id1_0.product_id,
        p1_0.product_id,
        p1_0.product_name,
        p1_0.specification,
        id1_0.thickness,
        id1_0.weight 
    from
        inspection_data id1_0 
    left join
        devices d1_0 
            on d1_0.deviceid=id1_0.device_id 
    join
        product p1_0 
            on p1_0.product_id=id1_0.product_id 
    where
        id1_0.inspect_time=(
            select
                max(id2_0.inspect_time) 
            from
                inspection_data id2_0 
            where
                id2_0.device_id=id1_0.device_id 
                and id2_0.is_valid=1
        )
2026-01-11 18:01:28 [http-nio-9091-exec-5] DEBUG org.hibernate.SQL - 
    select
        d1_0.deviceid,
        d1_0.alert_status,
        d1_0.calibration_operator,
        d1_0.calibration_status,
        d1_0.created_at,
        d1_0.device_code,
        d1_0.device_name,
        d1_0.device_type,
        d1_0.last_calibration,
        d1_0.location,
        d1_0.monitor_status,
        d1_0.next_calibration,
        d1_0.operational_status,
        d1_0.self_calibration,
        d1_0.updated_at 
    from
        devices d1_0
2026-01-11 18:01:28 [http-nio-9091-exec-8] DEBUG c.b.dynamic.datasource.DynamicRoutingDataSource - dynamic-datasource switch to the primary datasource
2026-01-11 18:01:28 [http-nio-9091-exec-7] DEBUG c.b.dynamic.datasource.DynamicRoutingDataSource - dynamic-datasource switch to the primary datasource
2026-01-11 18:01:28 [http-nio-9091-exec-8] INFO  com.example.demo.aop.ServiceLogAspect - 【服务调用成功】AlertService.getTodayAlertCount，结果：0
2026-01-11 18:01:28 [http-nio-9091-exec-7] INFO  com.example.demo.aop.ServiceLogAspect - 【服务调用成功】InspectDataService.getLatestInspectionsWithDeviceInfo，结果：[com.example.demo.entity.InspectionData@217e5ec8, com.example.demo.entity.InspectionData@e241ff2]
2026-01-11 18:01:28 [http-nio-9091-exec-5] INFO  com.example.demo.aop.ServiceLogAspect - 【服务调用成功】DeviceService.getAllDevices，结果：[com.example.demo.entity.Device@2872299a, com.example.demo.entity.Device@6670a229, com.example.demo.entity.Device@5d20b41d, com.example.demo.entity.Device@43660a63, com.example.demo.entity.Device@7ae1d56c]
2026-01-11 18:01:36 [http-nio-9091-exec-9] INFO  com.example.demo.aop.ServiceLogAspect - 【服务调用开始】DeviceService.getWaitCalibrationCountNow，参数：[]
2026-01-11 18:01:36 [http-nio-9091-exec-1] INFO  com.example.demo.aop.ServiceLogAspect - 【服务调用开始】AlertService.getDeviceAlertOverview，参数：[]
2026-01-11 18:01:36 [http-nio-9091-exec-6] INFO  com.example.demo.aop.ServiceLogAspect - 【服务调用开始】AlertService.getTodayAlertCount，参数：[2026-01-11 18:01:36]
2026-01-11 18:01:36 [http-nio-9091-exec-4] INFO  com.example.demo.aop.ServiceLogAspect - 【服务调用开始】DeviceService.getCountAll，参数：[]
2026-01-11 18:01:36 [http-nio-9091-exec-10] INFO  com.example.demo.aop.ServiceLogAspect - 【服务调用开始】AlertService.getAlertDetailsByTimeRange，参数：[2026-01-04T02:01, 2026-01-11T02:01, null, 0, 50]
2026-01-11 18:01:36 [http-nio-9091-exec-1] DEBUG c.b.dynamic.datasource.DynamicRoutingDataSource - dynamic-datasource switch to the primary datasource
2026-01-11 18:01:36 [http-nio-9091-exec-9] DEBUG org.hibernate.SQL - 
    select
        count(d1_0.deviceid) 
    from
        devices d1_0 
    where
        d1_0.calibration_status='PENDING'
2026-01-11 18:01:36 [http-nio-9091-exec-4] DEBUG org.hibernate.SQL - 
    select
        count(d1_0.deviceid) 
    from
        devices d1_0
2026-01-11 18:01:36 [http-nio-9091-exec-10] DEBUG org.hibernate.SQL - 
    select
        a1_0.alert_time,
        d1_0.device_code,
        d1_0.device_name,
        d1_0.device_type,
        d1_0.location,
        d1_0.monitor_status,
        a1_0.alert_type,
        a1_0.alert_level,
        a1_0.context 
    from
        alert a1_0 
    join
        devices d1_0 
            on d1_0.deviceid=a1_0.device_id 
    where
        (
            ? is null 
            or a1_0.alert_time>=?
        ) 
        and (
            ? is null 
            or a1_0.alert_time<=?
        ) 
        and (
            ? is null 
            or d1_0.device_code=?
        ) 
    order by
        a1_0.alert_time desc 
    limit
        ?
2026-01-11 18:01:36 [http-nio-9091-exec-6] DEBUG org.hibernate.SQL - 
    select
        count(a1_0.id) 
    from
        alert a1_0 
    where
        date(a1_0.alert_time)=date(?)
2026-01-11 18:01:36 [http-nio-9091-exec-9] DEBUG c.b.dynamic.datasource.DynamicRoutingDataSource - dynamic-datasource switch to the primary datasource
2026-01-11 18:01:36 [http-nio-9091-exec-1] DEBUG org.hibernate.SQL - 
    select
        d1_0.deviceid,
        d1_0.alert_status,
        d1_0.calibration_operator,
        d1_0.calibration_status,
        d1_0.created_at,
        d1_0.device_code,
        d1_0.device_name,
        d1_0.device_type,
        d1_0.last_calibration,
        d1_0.location,
        d1_0.monitor_status,
        d1_0.next_calibration,
        d1_0.operational_status,
        d1_0.self_calibration,
        d1_0.updated_at 
    from
        devices d1_0
2026-01-11 18:01:36 [http-nio-9091-exec-4] DEBUG c.b.dynamic.datasource.DynamicRoutingDataSource - dynamic-datasource switch to the primary datasource
2026-01-11 18:01:36 [http-nio-9091-exec-10] DEBUG c.b.dynamic.datasource.DynamicRoutingDataSource - dynamic-datasource switch to the primary datasource
2026-01-11 18:01:36 [http-nio-9091-exec-4] INFO  com.example.demo.aop.ServiceLogAspect - 【服务调用成功】DeviceService.getCountAll，结果：5
2026-01-11 18:01:36 [http-nio-9091-exec-10] INFO  com.example.demo.aop.ServiceLogAspect - 【服务调用成功】AlertService.getAlertDetailsByTimeRange，结果：{pageSize=50, currentPage=0, totalPages=0, totalElements=0, content=[]}
2026-01-11 18:01:36 [http-nio-9091-exec-6] DEBUG c.b.dynamic.datasource.DynamicRoutingDataSource - dynamic-datasource switch to the primary datasource
2026-01-11 18:01:36 [http-nio-9091-exec-9] INFO  com.example.demo.aop.ServiceLogAspect - 【服务调用成功】DeviceService.getWaitCalibrationCountNow，结果：1
2026-01-11 18:01:36 [http-nio-9091-exec-1] DEBUG org.hibernate.SQL - 
    select
        a1_0.id,
        a1_0.alert_level,
        a1_0.alert_time,
        a1_0.alert_type,
        a1_0.context,
        a1_0.device_id 
    from
        alert a1_0 
    left join
        devices d1_0 
            on d1_0.deviceid=a1_0.device_id 
    where
        d1_0.deviceid=? 
    order by
        a1_0.alert_time desc 
    limit
        ?
2026-01-11 18:01:36 [http-nio-9091-exec-6] INFO  com.example.demo.aop.ServiceLogAspect - 【服务调用成功】AlertService.getTodayAlertCount，结果：0
2026-01-11 18:01:36 [http-nio-9091-exec-1] DEBUG org.hibernate.SQL - 
    select
        a1_0.id,
        a1_0.alert_level,
        a1_0.alert_time,
        a1_0.alert_type,
        a1_0.context,
        a1_0.device_id 
    from
        alert a1_0 
    left join
        devices d1_0 
            on d1_0.deviceid=a1_0.device_id 
    where
        d1_0.deviceid=? 
    order by
        a1_0.alert_time desc 
    limit
        ?
2026-01-11 18:01:36 [http-nio-9091-exec-1] DEBUG org.hibernate.SQL - 
    select
        a1_0.id,
        a1_0.alert_level,
        a1_0.alert_time,
        a1_0.alert_type,
        a1_0.context,
        a1_0.device_id 
    from
        alert a1_0 
    left join
        devices d1_0 
            on d1_0.deviceid=a1_0.device_id 
    where
        d1_0.deviceid=? 
    order by
        a1_0.alert_time desc 
    limit
        ?
2026-01-11 18:01:36 [http-nio-9091-exec-1] DEBUG org.hibernate.SQL - 
    select
        a1_0.id,
        a1_0.alert_level,
        a1_0.alert_time,
        a1_0.alert_type,
        a1_0.context,
        a1_0.device_id 
    from
        alert a1_0 
    left join
        devices d1_0 
            on d1_0.deviceid=a1_0.device_id 
    where
        d1_0.deviceid=? 
    order by
        a1_0.alert_time desc 
    limit
        ?
2026-01-11 18:01:36 [http-nio-9091-exec-1] DEBUG org.hibernate.SQL - 
    select
        a1_0.id,
        a1_0.alert_level,
        a1_0.alert_time,
        a1_0.alert_type,
        a1_0.context,
        a1_0.device_id 
    from
        alert a1_0 
    left join
        devices d1_0 
            on d1_0.deviceid=a1_0.device_id 
    where
        d1_0.deviceid=? 
    order by
        a1_0.alert_time desc 
    limit
        ?
2026-01-11 18:01:36 [http-nio-9091-exec-1] INFO  com.example.demo.aop.ServiceLogAspect - 【服务调用成功】AlertService.getDeviceAlertOverview，结果：[{deviceType=D4, operationalStatus=RUNNING, alertStatus=ON, latestAlertLevel=YELLOW, latestAlertTime=2025-07-13T10:05:04, location=loc1, deviceCode=001, deviceId=1, deviceName=Inoue Rin, monitorStatus=MONITORON, latestAlertContext=002}, {deviceType=DB, operationalStatus=RUNNING, alertStatus=OFF, latestAlertLevel=null, latestAlertTime=null, location=loc2, deviceCode=002, deviceId=2, deviceName=Kong Lan, monitorStatus=MONITORON, latestAlertContext=null}, {deviceType=DB, operationalStatus=OFFLINE, alertStatus=OFF, latestAlertLevel=null, latestAlertTime=null, location=loc3, deviceCode=003, deviceId=3, deviceName=Chic Kwok Yin, monitorStatus=MONITORINTERRUPT, latestAlertContext=null}, {deviceType=D4, operationalStatus=OFFLINE, alertStatus=OFF, latestAlertLevel=null, latestAlertTime=null, location=loc4, deviceCode=004, deviceId=4, deviceName=Lo Wai Lam, monitorStatus=MONITORON, latestAlertContext=null}, {deviceType=DB, operationalStatus=OFFLINE, alertStatus=OFF, latestAlertLevel=null, latestAlertTime=null, location=loc5, deviceCode=005, deviceId=5, deviceName=Saito Ayano, monitorStatus=MONITOROFF, latestAlertContext=null}]
2026-01-11 18:01:37 [http-nio-9091-exec-2] INFO  com.example.demo.aop.ServiceLogAspect - 【服务调用开始】DeviceService.getCountAll，参数：[]
2026-01-11 18:01:37 [http-nio-9091-exec-2] DEBUG org.hibernate.SQL - 
    select
        count(d1_0.deviceid) 
    from
        devices d1_0
2026-01-11 18:01:37 [http-nio-9091-exec-2] DEBUG c.b.dynamic.datasource.DynamicRoutingDataSource - dynamic-datasource switch to the primary datasource
2026-01-11 18:01:37 [http-nio-9091-exec-2] INFO  com.example.demo.aop.ServiceLogAspect - 【服务调用成功】DeviceService.getCountAll，结果：5
2026-01-11 18:01:37 [http-nio-9091-exec-7] INFO  com.example.demo.aop.ServiceLogAspect - 【服务调用开始】DeviceService.getAllDevices，参数：[]
2026-01-11 18:01:37 [http-nio-9091-exec-3] INFO  com.example.demo.aop.ServiceLogAspect - 【服务调用开始】AlertService.getTodayAlertCount，参数：[2026-01-11 18:01:37]
2026-01-11 18:01:37 [http-nio-9091-exec-8] INFO  com.example.demo.aop.ServiceLogAspect - 【服务调用开始】DeviceService.getWaitCalibrationCountNow，参数：[]
2026-01-11 18:01:37 [http-nio-9091-exec-7] DEBUG c.b.dynamic.datasource.DynamicRoutingDataSource - dynamic-datasource switch to the primary datasource
2026-01-11 18:01:37 [http-nio-9091-exec-5] INFO  com.example.demo.aop.ServiceLogAspect - 【服务调用开始】InspectDataService.getLatestInspectionsWithDeviceInfo，参数：[]
2026-01-11 18:01:37 [http-nio-9091-exec-8] DEBUG org.hibernate.SQL - 
    select
        count(d1_0.deviceid) 
    from
        devices d1_0 
    where
        d1_0.calibration_status='PENDING'
2026-01-11 18:01:37 [http-nio-9091-exec-8] DEBUG c.b.dynamic.datasource.DynamicRoutingDataSource - dynamic-datasource switch to the primary datasource
2026-01-11 18:01:37 [http-nio-9091-exec-7] DEBUG org.hibernate.SQL - 
    select
        d1_0.deviceid,
        d1_0.alert_status,
        d1_0.calibration_operator,
        d1_0.calibration_status,
        d1_0.created_at,
        d1_0.device_code,
        d1_0.device_name,
        d1_0.device_type,
        d1_0.last_calibration,
        d1_0.location,
        d1_0.monitor_status,
        d1_0.next_calibration,
        d1_0.operational_status,
        d1_0.self_calibration,
        d1_0.updated_at 
    from
        devices d1_0
2026-01-11 18:01:37 [http-nio-9091-exec-3] DEBUG org.hibernate.SQL - 
    select
        count(a1_0.id) 
    from
        alert a1_0 
    where
        date(a1_0.alert_time)=date(?)
2026-01-11 18:01:37 [http-nio-9091-exec-5] DEBUG org.hibernate.SQL - 
    select
        id1_0.data_id,
        id1_0.batch_no,
        id1_0.create_time,
        d1_0.deviceid,
        d1_0.alert_status,
        d1_0.calibration_operator,
        d1_0.calibration_status,
        d1_0.created_at,
        d1_0.device_code,
        d1_0.device_name,
        d1_0.device_type,
        d1_0.last_calibration,
        d1_0.location,
        d1_0.monitor_status,
        d1_0.next_calibration,
        d1_0.operational_status,
        d1_0.self_calibration,
        d1_0.updated_at,
        id1_0.diameter,
        id1_0.friability,
        id1_0.hardness,
        id1_0.inspect_time,
        id1_0.is_valid,
        id1_0.product_id,
        p1_0.product_id,
        p1_0.product_name,
        p1_0.specification,
        id1_0.thickness,
        id1_0.weight 
    from
        inspection_data id1_0 
    left join
        devices d1_0 
            on d1_0.deviceid=id1_0.device_id 
    join
        product p1_0 
            on p1_0.product_id=id1_0.product_id 
    where
        id1_0.inspect_time=(
            select
                max(id2_0.inspect_time) 
            from
                inspection_data id2_0 
            where
                id2_0.device_id=id1_0.device_id 
                and id2_0.is_valid=1
        )
2026-01-11 18:01:37 [http-nio-9091-exec-8] INFO  com.example.demo.aop.ServiceLogAspect - 【服务调用成功】DeviceService.getWaitCalibrationCountNow，结果：1
2026-01-11 18:01:37 [http-nio-9091-exec-3] DEBUG c.b.dynamic.datasource.DynamicRoutingDataSource - dynamic-datasource switch to the primary datasource
2026-01-11 18:01:37 [http-nio-9091-exec-7] INFO  com.example.demo.aop.ServiceLogAspect - 【服务调用成功】DeviceService.getAllDevices，结果：[com.example.demo.entity.Device@6c5fb61c, com.example.demo.entity.Device@74706a23, com.example.demo.entity.Device@7855764a, com.example.demo.entity.Device@476d9a79, com.example.demo.entity.Device@56133bde]
2026-01-11 18:01:37 [http-nio-9091-exec-5] DEBUG c.b.dynamic.datasource.DynamicRoutingDataSource - dynamic-datasource switch to the primary datasource
2026-01-11 18:01:37 [http-nio-9091-exec-3] INFO  com.example.demo.aop.ServiceLogAspect - 【服务调用成功】AlertService.getTodayAlertCount，结果：0
2026-01-11 18:01:37 [http-nio-9091-exec-5] INFO  com.example.demo.aop.ServiceLogAspect - 【服务调用成功】InspectDataService.getLatestInspectionsWithDeviceInfo，结果：[com.example.demo.entity.InspectionData@7d2455f, com.example.demo.entity.InspectionData@7d28f38b]
2026-01-11 18:01:37 [http-nio-9091-exec-10] INFO  com.example.demo.aop.ServiceLogAspect - 【服务调用开始】AlertService.getAlertDetails，参数：[0, 10]
2026-01-11 18:01:37 [http-nio-9091-exec-10] DEBUG org.hibernate.SQL - 
    select
        a1_0.alert_time,
        d1_0.device_code,
        d1_0.device_name,
        d1_0.device_type,
        d1_0.location,
        d1_0.monitor_status,
        a1_0.alert_type,
        a1_0.alert_level,
        a1_0.context 
    from
        alert a1_0 
    join
        devices d1_0 
            on d1_0.deviceid=a1_0.device_id 
    order by
        a1_0.alert_time desc 
    limit
        ?
2026-01-11 18:01:37 [http-nio-9091-exec-10] DEBUG c.b.dynamic.datasource.DynamicRoutingDataSource - dynamic-datasource switch to the primary datasource
2026-01-11 18:01:37 [http-nio-9091-exec-4] INFO  com.example.demo.aop.ServiceLogAspect - 【服务调用开始】AlertService.getWeekAlertSummary，参数：[2026-01-11 10:01:37]
2026-01-11 18:01:37 [http-nio-9091-exec-10] INFO  com.example.demo.aop.ServiceLogAspect - 【服务调用成功】AlertService.getAlertDetails，结果：{pageSize=10, currentPage=0, totalPages=1, totalElements=3, content=[{deviceType=D4, alertType=DRUG, location=loc1, context=002, monitorStatus=MONITORON, deviceCode=001, alertTime=2025-07-13T10:05:04, alertLevel=YELLOW, deviceName=Inoue Rin}, {deviceType=D4, alertType=DRUG, location=loc1, context=001, monitorStatus=MONITORON, deviceCode=001, alertTime=2025-07-13T10:05:01, alertLevel=RED, deviceName=Inoue Rin}, {deviceType=D4, alertType=MECHINE, location=loc1, context=000, monitorStatus=MONITORON, deviceCode=001, alertTime=2025-07-11T10:04:58, alertLevel=YELLOW, deviceName=Inoue Rin}]}
2026-01-11 18:01:37 [http-nio-9091-exec-4] DEBUG org.hibernate.SQL - 
    select
        count(a1_0.id) 
    from
        alert a1_0 
    where
        yearweek(a1_0.alert_time, 1)=yearweek(?, 1) 
        and a1_0.alert_level='YELLOW'
2026-01-11 18:01:37 [http-nio-9091-exec-6] INFO  com.example.demo.aop.ServiceLogAspect - 【服务调用开始】DeviceService.getMonitorOnCountNow，参数：[]
2026-01-11 18:01:37 [http-nio-9091-exec-9] INFO  com.example.demo.aop.ServiceLogAspect - 【服务调用开始】DeviceService.getDeviceByStaffCode，参数：[admin]
2026-01-11 18:01:37 [http-nio-9091-exec-6] DEBUG org.hibernate.SQL - 
    select
        count(d1_0.deviceid) 
    from
        devices d1_0 
    where
        d1_0.monitor_status='MONITORON'
2026-01-11 18:01:37 [http-nio-9091-exec-4] DEBUG c.b.dynamic.datasource.DynamicRoutingDataSource - dynamic-datasource switch to the primary datasource
2026-01-11 18:01:37 [http-nio-9091-exec-9] DEBUG org.hibernate.SQL - 
    select
        d1_0.deviceid,
        d1_0.alert_status,
        d1_0.calibration_operator,
        d1_0.calibration_status,
        d1_0.created_at,
        d1_0.device_code,
        d1_0.device_name,
        d1_0.device_type,
        d1_0.last_calibration,
        d1_0.location,
        d1_0.monitor_status,
        d1_0.next_calibration,
        d1_0.operational_status,
        d1_0.self_calibration,
        d1_0.updated_at 
    from
        staffdevice sd1_0 
    join
        devices d1_0 
            on d1_0.device_code=sd1_0.device_code 
    where
        sd1_0.staffcode=?
2026-01-11 18:01:37 [http-nio-9091-exec-4] DEBUG org.hibernate.SQL - 
    select
        count(a1_0.id) 
    from
        alert a1_0 
    where
        yearweek(a1_0.alert_time, 1)=yearweek(?, 1) 
        and a1_0.alert_level='RED'
2026-01-11 18:01:37 [http-nio-9091-exec-6] DEBUG c.b.dynamic.datasource.DynamicRoutingDataSource - dynamic-datasource switch to the primary datasource
2026-01-11 18:01:37 [http-nio-9091-exec-9] DEBUG c.b.dynamic.datasource.DynamicRoutingDataSource - dynamic-datasource switch to the primary datasource
2026-01-11 18:01:37 [http-nio-9091-exec-6] INFO  com.example.demo.aop.ServiceLogAspect - 【服务调用成功】DeviceService.getMonitorOnCountNow，结果：3
2026-01-11 18:01:37 [http-nio-9091-exec-6] INFO  com.example.demo.aop.ServiceLogAspect - 【服务调用开始】DeviceService.getAlertOnCountNow，参数：[]
2026-01-11 18:01:37 [http-nio-9091-exec-4] DEBUG org.hibernate.SQL - 
    select
        count(a1_0.id) 
    from
        alert a1_0 
    where
        yearweek(a1_0.alert_time, 1)=yearweek(?, 1) 
        and a1_0.alert_type='MECHINE'
2026-01-11 18:01:37 [http-nio-9091-exec-9] INFO  com.example.demo.aop.ServiceLogAspect - 【服务调用成功】DeviceService.getDeviceByStaffCode，结果：[]
2026-01-11 18:01:37 [http-nio-9091-exec-6] DEBUG org.hibernate.SQL - 
    select
        count(d1_0.deviceid) 
    from
        devices d1_0 
    where
        d1_0.alert_status='ON'
2026-01-11 18:01:37 [http-nio-9091-exec-4] INFO  com.example.demo.aop.ServiceLogAspect - 【服务调用成功】AlertService.getWeekAlertSummary，结果：{redAlert=0, yellowAlert=0, machineFailure=0}
2026-01-11 18:01:37 [http-nio-9091-exec-6] INFO  com.example.demo.aop.ServiceLogAspect - 【服务调用成功】DeviceService.getAlertOnCountNow，结果：1
2026-01-11 18:01:37 [http-nio-9091-exec-6] INFO  com.example.demo.aop.ServiceLogAspect - 【服务调用开始】DeviceService.getOperationalOnCountNow，参数：[]
2026-01-11 18:01:37 [http-nio-9091-exec-6] DEBUG org.hibernate.SQL - 
    select
        count(d1_0.deviceid) 
    from
        devices d1_0 
    where
        d1_0.operational_status='RUNNING'
2026-01-11 18:01:37 [http-nio-9091-exec-6] INFO  com.example.demo.aop.ServiceLogAspect - 【服务调用成功】DeviceService.getOperationalOnCountNow，结果：2
2026-01-11 18:01:37 [http-nio-9091-exec-6] INFO  com.example.demo.aop.ServiceLogAspect - 【服务调用开始】DeviceService.getOperationalOfflineCountNow，参数：[]
2026-01-11 18:01:37 [http-nio-9091-exec-6] DEBUG org.hibernate.SQL - 
    select
        count(d1_0.deviceid) 
    from
        devices d1_0 
    where
        d1_0.operational_status='OFFLINE'
2026-01-11 18:01:37 [http-nio-9091-exec-6] INFO  com.example.demo.aop.ServiceLogAspect - 【服务调用成功】DeviceService.getOperationalOfflineCountNow，结果：3
2026-01-11 18:01:38 [http-nio-9091-exec-1] INFO  com.example.demo.aop.ServiceLogAspect - 【服务调用开始】DeviceService.getCountAll，参数：[]
2026-01-11 18:01:38 [http-nio-9091-exec-1] DEBUG org.hibernate.SQL - 
    select
        count(d1_0.deviceid) 
    from
        devices d1_0
2026-01-11 18:01:38 [http-nio-9091-exec-1] DEBUG c.b.dynamic.datasource.DynamicRoutingDataSource - dynamic-datasource switch to the primary datasource
2026-01-11 18:01:38 [http-nio-9091-exec-1] INFO  com.example.demo.aop.ServiceLogAspect - 【服务调用成功】DeviceService.getCountAll，结果：5
2026-01-11 18:01:38 [http-nio-9091-exec-7] INFO  com.example.demo.aop.ServiceLogAspect - 【服务调用开始】DeviceService.getAllDevices，参数：[]
2026-01-11 18:01:38 [http-nio-9091-exec-8] INFO  com.example.demo.aop.ServiceLogAspect - 【服务调用开始】DeviceService.getWaitCalibrationCountNow，参数：[]
2026-01-11 18:01:38 [http-nio-9091-exec-7] DEBUG c.b.dynamic.datasource.DynamicRoutingDataSource - dynamic-datasource switch to the primary datasource
2026-01-11 18:01:38 [http-nio-9091-exec-2] INFO  com.example.demo.aop.ServiceLogAspect - 【服务调用开始】AlertService.getTodayAlertCount，参数：[2026-01-11 18:01:38]
2026-01-11 18:01:38 [http-nio-9091-exec-3] INFO  com.example.demo.aop.ServiceLogAspect - 【服务调用开始】InspectDataService.getLatestInspectionsWithDeviceInfo，参数：[]
2026-01-11 18:01:38 [http-nio-9091-exec-8] DEBUG org.hibernate.SQL - 
    select
        count(d1_0.deviceid) 
    from
        devices d1_0 
    where
        d1_0.calibration_status='PENDING'
2026-01-11 18:01:38 [http-nio-9091-exec-7] DEBUG org.hibernate.SQL - 
    select
        d1_0.deviceid,
        d1_0.alert_status,
        d1_0.calibration_operator,
        d1_0.calibration_status,
        d1_0.created_at,
        d1_0.device_code,
        d1_0.device_name,
        d1_0.device_type,
        d1_0.last_calibration,
        d1_0.location,
        d1_0.monitor_status,
        d1_0.next_calibration,
        d1_0.operational_status,
        d1_0.self_calibration,
        d1_0.updated_at 
    from
        devices d1_0
2026-01-11 18:01:38 [http-nio-9091-exec-8] DEBUG c.b.dynamic.datasource.DynamicRoutingDataSource - dynamic-datasource switch to the primary datasource
2026-01-11 18:01:38 [http-nio-9091-exec-2] DEBUG org.hibernate.SQL - 
    select
        count(a1_0.id) 
    from
        alert a1_0 
    where
        date(a1_0.alert_time)=date(?)
2026-01-11 18:01:38 [http-nio-9091-exec-3] DEBUG org.hibernate.SQL - 
    select
        id1_0.data_id,
        id1_0.batch_no,
        id1_0.create_time,
        d1_0.deviceid,
        d1_0.alert_status,
        d1_0.calibration_operator,
        d1_0.calibration_status,
        d1_0.created_at,
        d1_0.device_code,
        d1_0.device_name,
        d1_0.device_type,
        d1_0.last_calibration,
        d1_0.location,
        d1_0.monitor_status,
        d1_0.next_calibration,
        d1_0.operational_status,
        d1_0.self_calibration,
        d1_0.updated_at,
        id1_0.diameter,
        id1_0.friability,
        id1_0.hardness,
        id1_0.inspect_time,
        id1_0.is_valid,
        id1_0.product_id,
        p1_0.product_id,
        p1_0.product_name,
        p1_0.specification,
        id1_0.thickness,
        id1_0.weight 
    from
        inspection_data id1_0 
    left join
        devices d1_0 
            on d1_0.deviceid=id1_0.device_id 
    join
        product p1_0 
            on p1_0.product_id=id1_0.product_id 
    where
        id1_0.inspect_time=(
            select
                max(id2_0.inspect_time) 
            from
                inspection_data id2_0 
            where
                id2_0.device_id=id1_0.device_id 
                and id2_0.is_valid=1
        )
2026-01-11 18:01:38 [http-nio-9091-exec-8] INFO  com.example.demo.aop.ServiceLogAspect - 【服务调用成功】DeviceService.getWaitCalibrationCountNow，结果：1
2026-01-11 18:01:38 [http-nio-9091-exec-2] DEBUG c.b.dynamic.datasource.DynamicRoutingDataSource - dynamic-datasource switch to the primary datasource
2026-01-11 18:01:38 [http-nio-9091-exec-7] INFO  com.example.demo.aop.ServiceLogAspect - 【服务调用成功】DeviceService.getAllDevices，结果：[com.example.demo.entity.Device@7878669b, com.example.demo.entity.Device@76ee2b71, com.example.demo.entity.Device@2421d457, com.example.demo.entity.Device@5075cb4d, com.example.demo.entity.Device@6b823366]
2026-01-11 18:01:38 [http-nio-9091-exec-3] DEBUG c.b.dynamic.datasource.DynamicRoutingDataSource - dynamic-datasource switch to the primary datasource
2026-01-11 18:01:38 [http-nio-9091-exec-2] INFO  com.example.demo.aop.ServiceLogAspect - 【服务调用成功】AlertService.getTodayAlertCount，结果：0
2026-01-11 18:01:38 [http-nio-9091-exec-3] INFO  com.example.demo.aop.ServiceLogAspect - 【服务调用成功】InspectDataService.getLatestInspectionsWithDeviceInfo，结果：[com.example.demo.entity.InspectionData@1b426321, com.example.demo.entity.InspectionData@613180d7]
2026-01-11 18:04:56 [http-nio-9091-exec-5] INFO  com.example.demo.aop.ServiceLogAspect - 【服务调用开始】DeviceService.getCountAll，参数：[]
2026-01-11 18:04:56 [http-nio-9091-exec-9] INFO  com.example.demo.aop.ServiceLogAspect - 【服务调用开始】DeviceService.getWaitCalibrationCountNow，参数：[]
2026-01-11 18:04:56 [http-nio-9091-exec-4] INFO  com.example.demo.aop.ServiceLogAspect - 【服务调用开始】AlertService.getDeviceAlertOverview，参数：[]
2026-01-11 18:04:56 [http-nio-9091-exec-10] INFO  com.example.demo.aop.ServiceLogAspect - 【服务调用开始】AlertService.getTodayAlertCount，参数：[2026-01-11 18:04:56]
2026-01-11 18:04:56 [http-nio-9091-exec-4] DEBUG c.b.dynamic.datasource.DynamicRoutingDataSource - dynamic-datasource switch to the primary datasource
2026-01-11 18:04:56 [http-nio-9091-exec-9] DEBUG org.hibernate.SQL - 
    select
        count(d1_0.deviceid) 
    from
        devices d1_0 
    where
        d1_0.calibration_status='PENDING'
2026-01-11 18:04:56 [http-nio-9091-exec-5] DEBUG org.hibernate.SQL - 
    select
        count(d1_0.deviceid) 
    from
        devices d1_0
2026-01-11 18:04:56 [http-nio-9091-exec-6] INFO  com.example.demo.aop.ServiceLogAspect - 【服务调用开始】AlertService.getAlertDetailsByTimeRange，参数：[2026-01-04T02:04, 2026-01-11T02:04, null, 0, 50]
2026-01-11 18:04:56 [http-nio-9091-exec-10] DEBUG org.hibernate.SQL - 
    select
        count(a1_0.id) 
    from
        alert a1_0 
    where
        date(a1_0.alert_time)=date(?)
2026-01-11 18:04:56 [http-nio-9091-exec-9] DEBUG c.b.dynamic.datasource.DynamicRoutingDataSource - dynamic-datasource switch to the primary datasource
2026-01-11 18:04:56 [http-nio-9091-exec-6] DEBUG org.hibernate.SQL - 
    select
        a1_0.alert_time,
        d1_0.device_code,
        d1_0.device_name,
        d1_0.device_type,
        d1_0.location,
        d1_0.monitor_status,
        a1_0.alert_type,
        a1_0.alert_level,
        a1_0.context 
    from
        alert a1_0 
    join
        devices d1_0 
            on d1_0.deviceid=a1_0.device_id 
    where
        (
            ? is null 
            or a1_0.alert_time>=?
        ) 
        and (
            ? is null 
            or a1_0.alert_time<=?
        ) 
        and (
            ? is null 
            or d1_0.device_code=?
        ) 
    order by
        a1_0.alert_time desc 
    limit
        ?
2026-01-11 18:04:56 [http-nio-9091-exec-5] DEBUG c.b.dynamic.datasource.DynamicRoutingDataSource - dynamic-datasource switch to the primary datasource
2026-01-11 18:04:56 [http-nio-9091-exec-4] DEBUG org.hibernate.SQL - 
    select
        d1_0.deviceid,
        d1_0.alert_status,
        d1_0.calibration_operator,
        d1_0.calibration_status,
        d1_0.created_at,
        d1_0.device_code,
        d1_0.device_name,
        d1_0.device_type,
        d1_0.last_calibration,
        d1_0.location,
        d1_0.monitor_status,
        d1_0.next_calibration,
        d1_0.operational_status,
        d1_0.self_calibration,
        d1_0.updated_at 
    from
        devices d1_0
2026-01-11 18:04:56 [http-nio-9091-exec-10] DEBUG c.b.dynamic.datasource.DynamicRoutingDataSource - dynamic-datasource switch to the primary datasource
2026-01-11 18:04:56 [http-nio-9091-exec-9] INFO  com.example.demo.aop.ServiceLogAspect - 【服务调用成功】DeviceService.getWaitCalibrationCountNow，结果：1
2026-01-11 18:04:56 [http-nio-9091-exec-6] DEBUG c.b.dynamic.datasource.DynamicRoutingDataSource - dynamic-datasource switch to the primary datasource
2026-01-11 18:04:56 [http-nio-9091-exec-5] INFO  com.example.demo.aop.ServiceLogAspect - 【服务调用成功】DeviceService.getCountAll，结果：5
2026-01-11 18:04:56 [http-nio-9091-exec-10] INFO  com.example.demo.aop.ServiceLogAspect - 【服务调用成功】AlertService.getTodayAlertCount，结果：0
2026-01-11 18:04:56 [http-nio-9091-exec-6] INFO  com.example.demo.aop.ServiceLogAspect - 【服务调用成功】AlertService.getAlertDetailsByTimeRange，结果：{pageSize=50, currentPage=0, totalPages=0, totalElements=0, content=[]}
2026-01-11 18:04:56 [http-nio-9091-exec-4] DEBUG org.hibernate.SQL - 
    select
        a1_0.id,
        a1_0.alert_level,
        a1_0.alert_time,
        a1_0.alert_type,
        a1_0.context,
        a1_0.device_id 
    from
        alert a1_0 
    left join
        devices d1_0 
            on d1_0.deviceid=a1_0.device_id 
    where
        d1_0.deviceid=? 
    order by
        a1_0.alert_time desc 
    limit
        ?
2026-01-11 18:04:56 [http-nio-9091-exec-4] DEBUG org.hibernate.SQL - 
    select
        a1_0.id,
        a1_0.alert_level,
        a1_0.alert_time,
        a1_0.alert_type,
        a1_0.context,
        a1_0.device_id 
    from
        alert a1_0 
    left join
        devices d1_0 
            on d1_0.deviceid=a1_0.device_id 
    where
        d1_0.deviceid=? 
    order by
        a1_0.alert_time desc 
    limit
        ?
2026-01-11 18:04:56 [http-nio-9091-exec-4] DEBUG org.hibernate.SQL - 
    select
        a1_0.id,
        a1_0.alert_level,
        a1_0.alert_time,
        a1_0.alert_type,
        a1_0.context,
        a1_0.device_id 
    from
        alert a1_0 
    left join
        devices d1_0 
            on d1_0.deviceid=a1_0.device_id 
    where
        d1_0.deviceid=? 
    order by
        a1_0.alert_time desc 
    limit
        ?
2026-01-11 18:04:56 [http-nio-9091-exec-4] DEBUG org.hibernate.SQL - 
    select
        a1_0.id,
        a1_0.alert_level,
        a1_0.alert_time,
        a1_0.alert_type,
        a1_0.context,
        a1_0.device_id 
    from
        alert a1_0 
    left join
        devices d1_0 
            on d1_0.deviceid=a1_0.device_id 
    where
        d1_0.deviceid=? 
    order by
        a1_0.alert_time desc 
    limit
        ?
2026-01-11 18:04:56 [http-nio-9091-exec-4] DEBUG org.hibernate.SQL - 
    select
        a1_0.id,
        a1_0.alert_level,
        a1_0.alert_time,
        a1_0.alert_type,
        a1_0.context,
        a1_0.device_id 
    from
        alert a1_0 
    left join
        devices d1_0 
            on d1_0.deviceid=a1_0.device_id 
    where
        d1_0.deviceid=? 
    order by
        a1_0.alert_time desc 
    limit
        ?
2026-01-11 18:04:56 [http-nio-9091-exec-4] INFO  com.example.demo.aop.ServiceLogAspect - 【服务调用成功】AlertService.getDeviceAlertOverview，结果：[{deviceType=D4, operationalStatus=RUNNING, alertStatus=ON, latestAlertLevel=YELLOW, latestAlertTime=2025-07-13T10:05:04, location=loc1, deviceCode=001, deviceId=1, deviceName=Inoue Rin, monitorStatus=MONITORON, latestAlertContext=002}, {deviceType=DB, operationalStatus=RUNNING, alertStatus=OFF, latestAlertLevel=null, latestAlertTime=null, location=loc2, deviceCode=002, deviceId=2, deviceName=Kong Lan, monitorStatus=MONITORON, latestAlertContext=null}, {deviceType=DB, operationalStatus=OFFLINE, alertStatus=OFF, latestAlertLevel=null, latestAlertTime=null, location=loc3, deviceCode=003, deviceId=3, deviceName=Chic Kwok Yin, monitorStatus=MONITORINTERRUPT, latestAlertContext=null}, {deviceType=D4, operationalStatus=OFFLINE, alertStatus=OFF, latestAlertLevel=null, latestAlertTime=null, location=loc4, deviceCode=004, deviceId=4, deviceName=Lo Wai Lam, monitorStatus=MONITORON, latestAlertContext=null}, {deviceType=DB, operationalStatus=OFFLINE, alertStatus=OFF, latestAlertLevel=null, latestAlertTime=null, location=loc5, deviceCode=005, deviceId=5, deviceName=Saito Ayano, monitorStatus=MONITOROFF, latestAlertContext=null}]
2026-01-11 18:04:56 [http-nio-9091-exec-1] INFO  com.example.demo.aop.ServiceLogAspect - 【服务调用开始】DeviceService.getCountAll，参数：[]
2026-01-11 18:04:56 [http-nio-9091-exec-1] DEBUG org.hibernate.SQL - 
    select
        count(d1_0.deviceid) 
    from
        devices d1_0
2026-01-11 18:04:56 [http-nio-9091-exec-1] DEBUG c.b.dynamic.datasource.DynamicRoutingDataSource - dynamic-datasource switch to the primary datasource
2026-01-11 18:04:56 [http-nio-9091-exec-1] INFO  com.example.demo.aop.ServiceLogAspect - 【服务调用成功】DeviceService.getCountAll，结果：5
2026-01-11 18:04:56 [http-nio-9091-exec-8] INFO  com.example.demo.aop.ServiceLogAspect - 【服务调用开始】AlertService.getTodayAlertCount，参数：[2026-01-11 18:04:56]
2026-01-11 18:04:56 [http-nio-9091-exec-7] INFO  com.example.demo.aop.ServiceLogAspect - 【服务调用开始】DeviceService.getWaitCalibrationCountNow，参数：[]
2026-01-11 18:04:56 [http-nio-9091-exec-7] DEBUG org.hibernate.SQL - 
    select
        count(d1_0.deviceid) 
    from
        devices d1_0 
    where
        d1_0.calibration_status='PENDING'
2026-01-11 18:04:56 [http-nio-9091-exec-8] DEBUG org.hibernate.SQL - 
    select
        count(a1_0.id) 
    from
        alert a1_0 
    where
        date(a1_0.alert_time)=date(?)
2026-01-11 18:04:56 [http-nio-9091-exec-2] INFO  com.example.demo.aop.ServiceLogAspect - 【服务调用开始】DeviceService.getAllDevices，参数：[]
2026-01-11 18:04:56 [http-nio-9091-exec-7] DEBUG c.b.dynamic.datasource.DynamicRoutingDataSource - dynamic-datasource switch to the primary datasource
2026-01-11 18:04:56 [http-nio-9091-exec-2] DEBUG c.b.dynamic.datasource.DynamicRoutingDataSource - dynamic-datasource switch to the primary datasource
2026-01-11 18:04:56 [http-nio-9091-exec-8] DEBUG c.b.dynamic.datasource.DynamicRoutingDataSource - dynamic-datasource switch to the primary datasource
2026-01-11 18:04:56 [http-nio-9091-exec-7] INFO  com.example.demo.aop.ServiceLogAspect - 【服务调用成功】DeviceService.getWaitCalibrationCountNow，结果：1
2026-01-11 18:04:56 [http-nio-9091-exec-8] INFO  com.example.demo.aop.ServiceLogAspect - 【服务调用成功】AlertService.getTodayAlertCount，结果：0
2026-01-11 18:04:56 [http-nio-9091-exec-2] DEBUG org.hibernate.SQL - 
    select
        d1_0.deviceid,
        d1_0.alert_status,
        d1_0.calibration_operator,
        d1_0.calibration_status,
        d1_0.created_at,
        d1_0.device_code,
        d1_0.device_name,
        d1_0.device_type,
        d1_0.last_calibration,
        d1_0.location,
        d1_0.monitor_status,
        d1_0.next_calibration,
        d1_0.operational_status,
        d1_0.self_calibration,
        d1_0.updated_at 
    from
        devices d1_0
2026-01-11 18:04:56 [http-nio-9091-exec-2] INFO  com.example.demo.aop.ServiceLogAspect - 【服务调用成功】DeviceService.getAllDevices，结果：[com.example.demo.entity.Device@442cb1a4, com.example.demo.entity.Device@301e6c48, com.example.demo.entity.Device@78975053, com.example.demo.entity.Device@7c67d588, com.example.demo.entity.Device@5de7fa31]
2026-01-11 18:04:56 [http-nio-9091-exec-3] INFO  com.example.demo.aop.ServiceLogAspect - 【服务调用开始】DeviceService.getCountAll，参数：[]
2026-01-11 18:04:56 [http-nio-9091-exec-3] DEBUG org.hibernate.SQL - 
    select
        count(d1_0.deviceid) 
    from
        devices d1_0
2026-01-11 18:04:56 [http-nio-9091-exec-3] DEBUG c.b.dynamic.datasource.DynamicRoutingDataSource - dynamic-datasource switch to the primary datasource
2026-01-11 18:04:56 [http-nio-9091-exec-3] INFO  com.example.demo.aop.ServiceLogAspect - 【服务调用成功】DeviceService.getCountAll，结果：5
2026-01-11 18:04:56 [http-nio-9091-exec-9] INFO  com.example.demo.aop.ServiceLogAspect - 【服务调用开始】AlertService.getTodayAlertCount，参数：[2026-01-11 18:04:56]
2026-01-11 18:04:56 [http-nio-9091-exec-10] INFO  com.example.demo.aop.ServiceLogAspect - 【服务调用开始】DeviceService.getWaitCalibrationCountNow，参数：[]
2026-01-11 18:04:56 [http-nio-9091-exec-6] INFO  com.example.demo.aop.ServiceLogAspect - 【服务调用开始】InspectDataService.getLatestInspectionsWithDeviceInfo，参数：[]
2026-01-11 18:04:56 [http-nio-9091-exec-10] DEBUG org.hibernate.SQL - 
    select
        count(d1_0.deviceid) 
    from
        devices d1_0 
    where
        d1_0.calibration_status='PENDING'
2026-01-11 18:04:56 [http-nio-9091-exec-5] INFO  com.example.demo.aop.ServiceLogAspect - 【服务调用开始】DeviceService.getAllDevices，参数：[]
2026-01-11 18:04:56 [http-nio-9091-exec-9] DEBUG org.hibernate.SQL - 
    select
        count(a1_0.id) 
    from
        alert a1_0 
    where
        date(a1_0.alert_time)=date(?)
2026-01-11 18:04:56 [http-nio-9091-exec-5] DEBUG c.b.dynamic.datasource.DynamicRoutingDataSource - dynamic-datasource switch to the primary datasource
2026-01-11 18:04:56 [http-nio-9091-exec-10] DEBUG c.b.dynamic.datasource.DynamicRoutingDataSource - dynamic-datasource switch to the primary datasource
2026-01-11 18:04:56 [http-nio-9091-exec-6] DEBUG org.hibernate.SQL - 
    select
        id1_0.data_id,
        id1_0.batch_no,
        id1_0.create_time,
        d1_0.deviceid,
        d1_0.alert_status,
        d1_0.calibration_operator,
        d1_0.calibration_status,
        d1_0.created_at,
        d1_0.device_code,
        d1_0.device_name,
        d1_0.device_type,
        d1_0.last_calibration,
        d1_0.location,
        d1_0.monitor_status,
        d1_0.next_calibration,
        d1_0.operational_status,
        d1_0.self_calibration,
        d1_0.updated_at,
        id1_0.diameter,
        id1_0.friability,
        id1_0.hardness,
        id1_0.inspect_time,
        id1_0.is_valid,
        id1_0.product_id,
        p1_0.product_id,
        p1_0.product_name,
        p1_0.specification,
        id1_0.thickness,
        id1_0.weight 
    from
        inspection_data id1_0 
    left join
        devices d1_0 
            on d1_0.deviceid=id1_0.device_id 
    join
        product p1_0 
            on p1_0.product_id=id1_0.product_id 
    where
        id1_0.inspect_time=(
            select
                max(id2_0.inspect_time) 
            from
                inspection_data id2_0 
            where
                id2_0.device_id=id1_0.device_id 
                and id2_0.is_valid=1
        )
2026-01-11 18:04:56 [http-nio-9091-exec-9] DEBUG c.b.dynamic.datasource.DynamicRoutingDataSource - dynamic-datasource switch to the primary datasource
2026-01-11 18:04:56 [http-nio-9091-exec-5] DEBUG org.hibernate.SQL - 
    select
        d1_0.deviceid,
        d1_0.alert_status,
        d1_0.calibration_operator,
        d1_0.calibration_status,
        d1_0.created_at,
        d1_0.device_code,
        d1_0.device_name,
        d1_0.device_type,
        d1_0.last_calibration,
        d1_0.location,
        d1_0.monitor_status,
        d1_0.next_calibration,
        d1_0.operational_status,
        d1_0.self_calibration,
        d1_0.updated_at 
    from
        devices d1_0
2026-01-11 18:04:56 [http-nio-9091-exec-10] INFO  com.example.demo.aop.ServiceLogAspect - 【服务调用成功】DeviceService.getWaitCalibrationCountNow，结果：1
2026-01-11 18:04:56 [http-nio-9091-exec-6] DEBUG c.b.dynamic.datasource.DynamicRoutingDataSource - dynamic-datasource switch to the primary datasource
2026-01-11 18:04:56 [http-nio-9091-exec-9] INFO  com.example.demo.aop.ServiceLogAspect - 【服务调用成功】AlertService.getTodayAlertCount，结果：0
2026-01-11 18:04:56 [http-nio-9091-exec-5] INFO  com.example.demo.aop.ServiceLogAspect - 【服务调用成功】DeviceService.getAllDevices，结果：[com.example.demo.entity.Device@5aeac49e, com.example.demo.entity.Device@79c96ce4, com.example.demo.entity.Device@47867624, com.example.demo.entity.Device@60878f4f, com.example.demo.entity.Device@6cc569f5]
2026-01-11 18:04:56 [http-nio-9091-exec-6] INFO  com.example.demo.aop.ServiceLogAspect - 【服务调用成功】InspectDataService.getLatestInspectionsWithDeviceInfo，结果：[com.example.demo.entity.InspectionData@24711984, com.example.demo.entity.InspectionData@4a0b2269]
2026-01-11 18:04:57 [http-nio-9091-exec-4] INFO  com.example.demo.aop.ServiceLogAspect - 【服务调用开始】AlertService.getAlertDetails，参数：[0, 10]
2026-01-11 18:04:57 [http-nio-9091-exec-4] DEBUG org.hibernate.SQL - 
    select
        a1_0.alert_time,
        d1_0.device_code,
        d1_0.device_name,
        d1_0.device_type,
        d1_0.location,
        d1_0.monitor_status,
        a1_0.alert_type,
        a1_0.alert_level,
        a1_0.context 
    from
        alert a1_0 
    join
        devices d1_0 
            on d1_0.deviceid=a1_0.device_id 
    order by
        a1_0.alert_time desc 
    limit
        ?
2026-01-11 18:04:57 [http-nio-9091-exec-4] DEBUG c.b.dynamic.datasource.DynamicRoutingDataSource - dynamic-datasource switch to the primary datasource
2026-01-11 18:04:57 [http-nio-9091-exec-4] INFO  com.example.demo.aop.ServiceLogAspect - 【服务调用成功】AlertService.getAlertDetails，结果：{pageSize=10, currentPage=0, totalPages=1, totalElements=3, content=[{deviceType=D4, alertType=DRUG, location=loc1, context=002, monitorStatus=MONITORON, deviceCode=001, alertTime=2025-07-13T10:05:04, alertLevel=YELLOW, deviceName=Inoue Rin}, {deviceType=D4, alertType=DRUG, location=loc1, context=001, monitorStatus=MONITORON, deviceCode=001, alertTime=2025-07-13T10:05:01, alertLevel=RED, deviceName=Inoue Rin}, {deviceType=D4, alertType=MECHINE, location=loc1, context=000, monitorStatus=MONITORON, deviceCode=001, alertTime=2025-07-11T10:04:58, alertLevel=YELLOW, deviceName=Inoue Rin}]}
2026-01-11 18:04:57 [http-nio-9091-exec-1] INFO  com.example.demo.aop.ServiceLogAspect - 【服务调用开始】AlertService.getWeekAlertSummary，参数：[2026-01-11 10:04:57]
2026-01-11 18:04:57 [http-nio-9091-exec-7] INFO  com.example.demo.aop.ServiceLogAspect - 【服务调用开始】DeviceService.getMonitorOnCountNow，参数：[]
2026-01-11 18:04:57 [http-nio-9091-exec-8] INFO  com.example.demo.aop.ServiceLogAspect - 【服务调用开始】DeviceService.getDeviceByStaffCode，参数：[admin]
2026-01-11 18:04:57 [http-nio-9091-exec-7] DEBUG org.hibernate.SQL - 
    select
        count(d1_0.deviceid) 
    from
        devices d1_0 
    where
        d1_0.monitor_status='MONITORON'
2026-01-11 18:04:57 [http-nio-9091-exec-1] DEBUG org.hibernate.SQL - 
    select
        count(a1_0.id) 
    from
        alert a1_0 
    where
        yearweek(a1_0.alert_time, 1)=yearweek(?, 1) 
        and a1_0.alert_level='YELLOW'
2026-01-11 18:04:57 [http-nio-9091-exec-8] DEBUG org.hibernate.SQL - 
    select
        d1_0.deviceid,
        d1_0.alert_status,
        d1_0.calibration_operator,
        d1_0.calibration_status,
        d1_0.created_at,
        d1_0.device_code,
        d1_0.device_name,
        d1_0.device_type,
        d1_0.last_calibration,
        d1_0.location,
        d1_0.monitor_status,
        d1_0.next_calibration,
        d1_0.operational_status,
        d1_0.self_calibration,
        d1_0.updated_at 
    from
        staffdevice sd1_0 
    join
        devices d1_0 
            on d1_0.device_code=sd1_0.device_code 
    where
        sd1_0.staffcode=?
2026-01-11 18:04:57 [http-nio-9091-exec-7] DEBUG c.b.dynamic.datasource.DynamicRoutingDataSource - dynamic-datasource switch to the primary datasource
2026-01-11 18:04:57 [http-nio-9091-exec-1] DEBUG c.b.dynamic.datasource.DynamicRoutingDataSource - dynamic-datasource switch to the primary datasource
2026-01-11 18:04:57 [http-nio-9091-exec-8] DEBUG c.b.dynamic.datasource.DynamicRoutingDataSource - dynamic-datasource switch to the primary datasource
2026-01-11 18:04:57 [http-nio-9091-exec-7] INFO  com.example.demo.aop.ServiceLogAspect - 【服务调用成功】DeviceService.getMonitorOnCountNow，结果：3
2026-01-11 18:04:57 [http-nio-9091-exec-7] INFO  com.example.demo.aop.ServiceLogAspect - 【服务调用开始】DeviceService.getAlertOnCountNow，参数：[]
2026-01-11 18:04:57 [http-nio-9091-exec-1] DEBUG org.hibernate.SQL - 
    select
        count(a1_0.id) 
    from
        alert a1_0 
    where
        yearweek(a1_0.alert_time, 1)=yearweek(?, 1) 
        and a1_0.alert_level='RED'
2026-01-11 18:04:57 [http-nio-9091-exec-8] INFO  com.example.demo.aop.ServiceLogAspect - 【服务调用成功】DeviceService.getDeviceByStaffCode，结果：[]
2026-01-11 18:04:57 [http-nio-9091-exec-7] DEBUG org.hibernate.SQL - 
    select
        count(d1_0.deviceid) 
    from
        devices d1_0 
    where
        d1_0.alert_status='ON'
2026-01-11 18:04:57 [http-nio-9091-exec-7] INFO  com.example.demo.aop.ServiceLogAspect - 【服务调用成功】DeviceService.getAlertOnCountNow，结果：1
2026-01-11 18:04:57 [http-nio-9091-exec-7] INFO  com.example.demo.aop.ServiceLogAspect - 【服务调用开始】DeviceService.getOperationalOnCountNow，参数：[]
2026-01-11 18:04:57 [http-nio-9091-exec-1] DEBUG org.hibernate.SQL - 
    select
        count(a1_0.id) 
    from
        alert a1_0 
    where
        yearweek(a1_0.alert_time, 1)=yearweek(?, 1) 
        and a1_0.alert_type='MECHINE'
2026-01-11 18:04:57 [http-nio-9091-exec-7] DEBUG org.hibernate.SQL - 
    select
        count(d1_0.deviceid) 
    from
        devices d1_0 
    where
        d1_0.operational_status='RUNNING'
2026-01-11 18:04:57 [http-nio-9091-exec-7] INFO  com.example.demo.aop.ServiceLogAspect - 【服务调用成功】DeviceService.getOperationalOnCountNow，结果：2
2026-01-11 18:04:57 [http-nio-9091-exec-1] INFO  com.example.demo.aop.ServiceLogAspect - 【服务调用成功】AlertService.getWeekAlertSummary，结果：{redAlert=0, yellowAlert=0, machineFailure=0}
2026-01-11 18:04:57 [http-nio-9091-exec-7] INFO  com.example.demo.aop.ServiceLogAspect - 【服务调用开始】DeviceService.getOperationalOfflineCountNow，参数：[]
2026-01-11 18:04:57 [http-nio-9091-exec-7] DEBUG org.hibernate.SQL - 
    select
        count(d1_0.deviceid) 
    from
        devices d1_0 
    where
        d1_0.operational_status='OFFLINE'
2026-01-11 18:04:57 [http-nio-9091-exec-7] INFO  com.example.demo.aop.ServiceLogAspect - 【服务调用成功】DeviceService.getOperationalOfflineCountNow，结果：3
2026-01-11 18:04:57 [http-nio-9091-exec-2] INFO  com.example.demo.aop.ServiceLogAspect - 【服务调用开始】DeviceService.getCountAll，参数：[]
2026-01-11 18:04:57 [http-nio-9091-exec-2] DEBUG org.hibernate.SQL - 
    select
        count(d1_0.deviceid) 
    from
        devices d1_0
2026-01-11 18:04:57 [http-nio-9091-exec-2] DEBUG c.b.dynamic.datasource.DynamicRoutingDataSource - dynamic-datasource switch to the primary datasource
2026-01-11 18:04:57 [http-nio-9091-exec-2] INFO  com.example.demo.aop.ServiceLogAspect - 【服务调用成功】DeviceService.getCountAll，结果：5
2026-01-11 18:04:57 [http-nio-9091-exec-10] INFO  com.example.demo.aop.ServiceLogAspect - 【服务调用开始】DeviceService.getWaitCalibrationCountNow，参数：[]
2026-01-11 18:04:57 [http-nio-9091-exec-9] INFO  com.example.demo.aop.ServiceLogAspect - 【服务调用开始】DeviceService.getAllDevices，参数：[]
2026-01-11 18:04:57 [http-nio-9091-exec-10] DEBUG org.hibernate.SQL - 
    select
        count(d1_0.deviceid) 
    from
        devices d1_0 
    where
        d1_0.calibration_status='PENDING'
2026-01-11 18:04:57 [http-nio-9091-exec-5] INFO  com.example.demo.aop.ServiceLogAspect - 【服务调用开始】InspectDataService.getLatestInspectionsWithDeviceInfo，参数：[]
2026-01-11 18:04:57 [http-nio-9091-exec-3] INFO  com.example.demo.aop.ServiceLogAspect - 【服务调用开始】AlertService.getTodayAlertCount，参数：[2026-01-11 18:04:57]
2026-01-11 18:04:57 [http-nio-9091-exec-9] DEBUG c.b.dynamic.datasource.DynamicRoutingDataSource - dynamic-datasource switch to the primary datasource
2026-01-11 18:04:57 [http-nio-9091-exec-10] DEBUG c.b.dynamic.datasource.DynamicRoutingDataSource - dynamic-datasource switch to the primary datasource
2026-01-11 18:04:57 [http-nio-9091-exec-3] DEBUG org.hibernate.SQL - 
    select
        count(a1_0.id) 
    from
        alert a1_0 
    where
        date(a1_0.alert_time)=date(?)
2026-01-11 18:04:57 [http-nio-9091-exec-10] INFO  com.example.demo.aop.ServiceLogAspect - 【服务调用成功】DeviceService.getWaitCalibrationCountNow，结果：1
2026-01-11 18:04:57 [http-nio-9091-exec-5] DEBUG org.hibernate.SQL - 
    select
        id1_0.data_id,
        id1_0.batch_no,
        id1_0.create_time,
        d1_0.deviceid,
        d1_0.alert_status,
        d1_0.calibration_operator,
        d1_0.calibration_status,
        d1_0.created_at,
        d1_0.device_code,
        d1_0.device_name,
        d1_0.device_type,
        d1_0.last_calibration,
        d1_0.location,
        d1_0.monitor_status,
        d1_0.next_calibration,
        d1_0.operational_status,
        d1_0.self_calibration,
        d1_0.updated_at,
        id1_0.diameter,
        id1_0.friability,
        id1_0.hardness,
        id1_0.inspect_time,
        id1_0.is_valid,
        id1_0.product_id,
        p1_0.product_id,
        p1_0.product_name,
        p1_0.specification,
        id1_0.thickness,
        id1_0.weight 
    from
        inspection_data id1_0 
    left join
        devices d1_0 
            on d1_0.deviceid=id1_0.device_id 
    join
        product p1_0 
            on p1_0.product_id=id1_0.product_id 
    where
        id1_0.inspect_time=(
            select
                max(id2_0.inspect_time) 
            from
                inspection_data id2_0 
            where
                id2_0.device_id=id1_0.device_id 
                and id2_0.is_valid=1
        )
2026-01-11 18:04:57 [http-nio-9091-exec-9] DEBUG org.hibernate.SQL - 
    select
        d1_0.deviceid,
        d1_0.alert_status,
        d1_0.calibration_operator,
        d1_0.calibration_status,
        d1_0.created_at,
        d1_0.device_code,
        d1_0.device_name,
        d1_0.device_type,
        d1_0.last_calibration,
        d1_0.location,
        d1_0.monitor_status,
        d1_0.next_calibration,
        d1_0.operational_status,
        d1_0.self_calibration,
        d1_0.updated_at 
    from
        devices d1_0
2026-01-11 18:04:57 [http-nio-9091-exec-3] DEBUG c.b.dynamic.datasource.DynamicRoutingDataSource - dynamic-datasource switch to the primary datasource
2026-01-11 18:04:57 [http-nio-9091-exec-5] DEBUG c.b.dynamic.datasource.DynamicRoutingDataSource - dynamic-datasource switch to the primary datasource
2026-01-11 18:04:57 [http-nio-9091-exec-3] INFO  com.example.demo.aop.ServiceLogAspect - 【服务调用成功】AlertService.getTodayAlertCount，结果：0
2026-01-11 18:04:57 [http-nio-9091-exec-9] INFO  com.example.demo.aop.ServiceLogAspect - 【服务调用成功】DeviceService.getAllDevices，结果：[com.example.demo.entity.Device@26a92db8, com.example.demo.entity.Device@77ed37b2, com.example.demo.entity.Device@7227fc1b, com.example.demo.entity.Device@61a02c97, com.example.demo.entity.Device@e0b09f6]
2026-01-11 18:04:57 [http-nio-9091-exec-5] INFO  com.example.demo.aop.ServiceLogAspect - 【服务调用成功】InspectDataService.getLatestInspectionsWithDeviceInfo，结果：[com.example.demo.entity.InspectionData@778167bd, com.example.demo.entity.InspectionData@f3edf8f]
2026-01-11 18:04:58 [http-nio-9091-exec-6] INFO  com.example.demo.aop.ServiceLogAspect - 【服务调用开始】AlertService.getAlertDetails，参数：[0, 10]
2026-01-11 18:04:58 [http-nio-9091-exec-6] DEBUG org.hibernate.SQL - 
    select
        a1_0.alert_time,
        d1_0.device_code,
        d1_0.device_name,
        d1_0.device_type,
        d1_0.location,
        d1_0.monitor_status,
        a1_0.alert_type,
        a1_0.alert_level,
        a1_0.context 
    from
        alert a1_0 
    join
        devices d1_0 
            on d1_0.deviceid=a1_0.device_id 
    order by
        a1_0.alert_time desc 
    limit
        ?
2026-01-11 18:04:58 [http-nio-9091-exec-6] DEBUG c.b.dynamic.datasource.DynamicRoutingDataSource - dynamic-datasource switch to the primary datasource
2026-01-11 18:04:58 [http-nio-9091-exec-6] INFO  com.example.demo.aop.ServiceLogAspect - 【服务调用成功】AlertService.getAlertDetails，结果：{pageSize=10, currentPage=0, totalPages=1, totalElements=3, content=[{deviceType=D4, alertType=DRUG, location=loc1, context=002, monitorStatus=MONITORON, deviceCode=001, alertTime=2025-07-13T10:05:04, alertLevel=YELLOW, deviceName=Inoue Rin}, {deviceType=D4, alertType=DRUG, location=loc1, context=001, monitorStatus=MONITORON, deviceCode=001, alertTime=2025-07-13T10:05:01, alertLevel=RED, deviceName=Inoue Rin}, {deviceType=D4, alertType=MECHINE, location=loc1, context=000, monitorStatus=MONITORON, deviceCode=001, alertTime=2025-07-11T10:04:58, alertLevel=YELLOW, deviceName=Inoue Rin}]}
2026-01-11 18:04:58 [http-nio-9091-exec-4] INFO  com.example.demo.aop.ServiceLogAspect - 【服务调用开始】AlertService.getWeekAlertSummary，参数：[2026-01-11 10:04:58]
2026-01-11 18:04:58 [http-nio-9091-exec-4] DEBUG org.hibernate.SQL - 
    select
        count(a1_0.id) 
    from
        alert a1_0 
    where
        yearweek(a1_0.alert_time, 1)=yearweek(?, 1) 
        and a1_0.alert_level='YELLOW'
2026-01-11 18:04:58 [http-nio-9091-exec-1] INFO  com.example.demo.aop.ServiceLogAspect - 【服务调用开始】DeviceService.getMonitorOnCountNow，参数：[]
2026-01-11 18:04:58 [http-nio-9091-exec-8] INFO  com.example.demo.aop.ServiceLogAspect - 【服务调用开始】DeviceService.getDeviceByStaffCode，参数：[admin]
2026-01-11 18:04:58 [http-nio-9091-exec-1] DEBUG org.hibernate.SQL - 
    select
        count(d1_0.deviceid) 
    from
        devices d1_0 
    where
        d1_0.monitor_status='MONITORON'
2026-01-11 18:04:58 [http-nio-9091-exec-4] DEBUG c.b.dynamic.datasource.DynamicRoutingDataSource - dynamic-datasource switch to the primary datasource
2026-01-11 18:04:58 [http-nio-9091-exec-8] DEBUG org.hibernate.SQL - 
    select
        d1_0.deviceid,
        d1_0.alert_status,
        d1_0.calibration_operator,
        d1_0.calibration_status,
        d1_0.created_at,
        d1_0.device_code,
        d1_0.device_name,
        d1_0.device_type,
        d1_0.last_calibration,
        d1_0.location,
        d1_0.monitor_status,
        d1_0.next_calibration,
        d1_0.operational_status,
        d1_0.self_calibration,
        d1_0.updated_at 
    from
        staffdevice sd1_0 
    join
        devices d1_0 
            on d1_0.device_code=sd1_0.device_code 
    where
        sd1_0.staffcode=?
2026-01-11 18:04:58 [http-nio-9091-exec-1] DEBUG c.b.dynamic.datasource.DynamicRoutingDataSource - dynamic-datasource switch to the primary datasource
2026-01-11 18:04:58 [http-nio-9091-exec-8] DEBUG c.b.dynamic.datasource.DynamicRoutingDataSource - dynamic-datasource switch to the primary datasource
2026-01-11 18:04:58 [http-nio-9091-exec-4] DEBUG org.hibernate.SQL - 
    select
        count(a1_0.id) 
    from
        alert a1_0 
    where
        yearweek(a1_0.alert_time, 1)=yearweek(?, 1) 
        and a1_0.alert_level='RED'
2026-01-11 18:04:58 [http-nio-9091-exec-1] INFO  com.example.demo.aop.ServiceLogAspect - 【服务调用成功】DeviceService.getMonitorOnCountNow，结果：3
2026-01-11 18:04:58 [http-nio-9091-exec-1] INFO  com.example.demo.aop.ServiceLogAspect - 【服务调用开始】DeviceService.getAlertOnCountNow，参数：[]
2026-01-11 18:04:58 [http-nio-9091-exec-1] DEBUG org.hibernate.SQL - 
    select
        count(d1_0.deviceid) 
    from
        devices d1_0 
    where
        d1_0.alert_status='ON'
2026-01-11 18:04:58 [http-nio-9091-exec-8] INFO  com.example.demo.aop.ServiceLogAspect - 【服务调用成功】DeviceService.getDeviceByStaffCode，结果：[]
2026-01-11 18:04:58 [http-nio-9091-exec-4] DEBUG org.hibernate.SQL - 
    select
        count(a1_0.id) 
    from
        alert a1_0 
    where
        yearweek(a1_0.alert_time, 1)=yearweek(?, 1) 
        and a1_0.alert_type='MECHINE'
2026-01-11 18:04:58 [http-nio-9091-exec-1] INFO  com.example.demo.aop.ServiceLogAspect - 【服务调用成功】DeviceService.getAlertOnCountNow，结果：1
2026-01-11 18:04:58 [http-nio-9091-exec-1] INFO  com.example.demo.aop.ServiceLogAspect - 【服务调用开始】DeviceService.getOperationalOnCountNow，参数：[]
2026-01-11 18:04:58 [http-nio-9091-exec-4] INFO  com.example.demo.aop.ServiceLogAspect - 【服务调用成功】AlertService.getWeekAlertSummary，结果：{redAlert=0, yellowAlert=0, machineFailure=0}
2026-01-11 18:04:58 [http-nio-9091-exec-1] DEBUG org.hibernate.SQL - 
    select
        count(d1_0.deviceid) 
    from
        devices d1_0 
    where
        d1_0.operational_status='RUNNING'
2026-01-11 18:04:58 [http-nio-9091-exec-1] INFO  com.example.demo.aop.ServiceLogAspect - 【服务调用成功】DeviceService.getOperationalOnCountNow，结果：2
2026-01-11 18:04:58 [http-nio-9091-exec-1] INFO  com.example.demo.aop.ServiceLogAspect - 【服务调用开始】DeviceService.getOperationalOfflineCountNow，参数：[]
2026-01-11 18:04:58 [http-nio-9091-exec-1] DEBUG org.hibernate.SQL - 
    select
        count(d1_0.deviceid) 
    from
        devices d1_0 
    where
        d1_0.operational_status='OFFLINE'
2026-01-11 18:04:58 [http-nio-9091-exec-1] INFO  com.example.demo.aop.ServiceLogAspect - 【服务调用成功】DeviceService.getOperationalOfflineCountNow，结果：3
2026-01-11 18:05:29 [http-nio-9091-exec-7] INFO  com.example.demo.aop.ServiceLogAspect - 【服务调用开始】AlertService.getTodayAlertCount，参数：[2026-01-11 18:05:29]
2026-01-11 18:05:29 [http-nio-9091-exec-2] INFO  com.example.demo.aop.ServiceLogAspect - 【服务调用开始】DeviceService.getCountAll，参数：[]
2026-01-11 18:05:29 [http-nio-9091-exec-2] DEBUG org.hibernate.SQL - 
    select
        count(d1_0.deviceid) 
    from
        devices d1_0
2026-01-11 18:05:29 [http-nio-9091-exec-2] DEBUG c.b.dynamic.datasource.DynamicRoutingDataSource - dynamic-datasource switch to the primary datasource
2026-01-11 18:05:29 [http-nio-9091-exec-7] DEBUG org.hibernate.SQL - 
    select
        count(a1_0.id) 
    from
        alert a1_0 
    where
        date(a1_0.alert_time)=date(?)
2026-01-11 18:05:29 [http-nio-9091-exec-7] DEBUG c.b.dynamic.datasource.DynamicRoutingDataSource - dynamic-datasource switch to the primary datasource
2026-01-11 18:05:29 [http-nio-9091-exec-2] INFO  com.example.demo.aop.ServiceLogAspect - 【服务调用成功】DeviceService.getCountAll，结果：5
2026-01-11 18:05:29 [http-nio-9091-exec-7] INFO  com.example.demo.aop.ServiceLogAspect - 【服务调用成功】AlertService.getTodayAlertCount，结果：0
2026-01-11 18:05:29 [http-nio-9091-exec-10] INFO  com.example.demo.aop.ServiceLogAspect - 【服务调用开始】DeviceService.getWaitCalibrationCountNow，参数：[]
2026-01-11 18:05:29 [http-nio-9091-exec-10] DEBUG org.hibernate.SQL - 
    select
        count(d1_0.deviceid) 
    from
        devices d1_0 
    where
        d1_0.calibration_status='PENDING'
2026-01-11 18:05:29 [http-nio-9091-exec-10] DEBUG c.b.dynamic.datasource.DynamicRoutingDataSource - dynamic-datasource switch to the primary datasource
2026-01-11 18:05:29 [http-nio-9091-exec-10] INFO  com.example.demo.aop.ServiceLogAspect - 【服务调用成功】DeviceService.getWaitCalibrationCountNow，结果：1
2026-01-11 18:05:33 [http-nio-9091-exec-9] INFO  com.example.demo.aop.ServiceLogAspect - 【服务调用开始】DeviceService.getCountAll，参数：[]
2026-01-11 18:05:33 [http-nio-9091-exec-3] INFO  com.example.demo.aop.ServiceLogAspect - 【服务调用开始】AlertService.getTodayAlertCount，参数：[2026-01-11 18:05:33]
2026-01-11 18:05:33 [http-nio-9091-exec-9] DEBUG org.hibernate.SQL - 
    select
        count(d1_0.deviceid) 
    from
        devices d1_0
2026-01-11 18:05:33 [http-nio-9091-exec-5] INFO  com.example.demo.aop.ServiceLogAspect - 【服务调用开始】DeviceService.getWaitCalibrationCountNow，参数：[]
2026-01-11 18:05:33 [http-nio-9091-exec-5] DEBUG org.hibernate.SQL - 
    select
        count(d1_0.deviceid) 
    from
        devices d1_0 
    where
        d1_0.calibration_status='PENDING'
2026-01-11 18:05:33 [http-nio-9091-exec-9] DEBUG c.b.dynamic.datasource.DynamicRoutingDataSource - dynamic-datasource switch to the primary datasource
2026-01-11 18:05:33 [http-nio-9091-exec-3] DEBUG org.hibernate.SQL - 
    select
        count(a1_0.id) 
    from
        alert a1_0 
    where
        date(a1_0.alert_time)=date(?)
2026-01-11 18:05:33 [http-nio-9091-exec-6] INFO  com.example.demo.aop.ServiceLogAspect - 【服务调用开始】DeviceService.getAllDevices，参数：[]
2026-01-11 18:05:33 [http-nio-9091-exec-5] DEBUG c.b.dynamic.datasource.DynamicRoutingDataSource - dynamic-datasource switch to the primary datasource
2026-01-11 18:05:33 [http-nio-9091-exec-9] INFO  com.example.demo.aop.ServiceLogAspect - 【服务调用成功】DeviceService.getCountAll，结果：5
2026-01-11 18:05:33 [http-nio-9091-exec-3] DEBUG c.b.dynamic.datasource.DynamicRoutingDataSource - dynamic-datasource switch to the primary datasource
2026-01-11 18:05:33 [http-nio-9091-exec-6] DEBUG c.b.dynamic.datasource.DynamicRoutingDataSource - dynamic-datasource switch to the primary datasource
2026-01-11 18:05:33 [http-nio-9091-exec-5] INFO  com.example.demo.aop.ServiceLogAspect - 【服务调用成功】DeviceService.getWaitCalibrationCountNow，结果：1
2026-01-11 18:05:33 [http-nio-9091-exec-3] INFO  com.example.demo.aop.ServiceLogAspect - 【服务调用成功】AlertService.getTodayAlertCount，结果：0
2026-01-11 18:05:33 [http-nio-9091-exec-6] DEBUG org.hibernate.SQL - 
    select
        d1_0.deviceid,
        d1_0.alert_status,
        d1_0.calibration_operator,
        d1_0.calibration_status,
        d1_0.created_at,
        d1_0.device_code,
        d1_0.device_name,
        d1_0.device_type,
        d1_0.last_calibration,
        d1_0.location,
        d1_0.monitor_status,
        d1_0.next_calibration,
        d1_0.operational_status,
        d1_0.self_calibration,
        d1_0.updated_at 
    from
        devices d1_0
2026-01-11 18:05:33 [http-nio-9091-exec-8] INFO  com.example.demo.aop.ServiceLogAspect - 【服务调用开始】InspectDataService.getLatestInspectionsWithDeviceInfo，参数：[]
2026-01-11 18:05:33 [http-nio-9091-exec-8] DEBUG org.hibernate.SQL - 
    select
        id1_0.data_id,
        id1_0.batch_no,
        id1_0.create_time,
        d1_0.deviceid,
        d1_0.alert_status,
        d1_0.calibration_operator,
        d1_0.calibration_status,
        d1_0.created_at,
        d1_0.device_code,
        d1_0.device_name,
        d1_0.device_type,
        d1_0.last_calibration,
        d1_0.location,
        d1_0.monitor_status,
        d1_0.next_calibration,
        d1_0.operational_status,
        d1_0.self_calibration,
        d1_0.updated_at,
        id1_0.diameter,
        id1_0.friability,
        id1_0.hardness,
        id1_0.inspect_time,
        id1_0.is_valid,
        id1_0.product_id,
        p1_0.product_id,
        p1_0.product_name,
        p1_0.specification,
        id1_0.thickness,
        id1_0.weight 
    from
        inspection_data id1_0 
    left join
        devices d1_0 
            on d1_0.deviceid=id1_0.device_id 
    join
        product p1_0 
            on p1_0.product_id=id1_0.product_id 
    where
        id1_0.inspect_time=(
            select
                max(id2_0.inspect_time) 
            from
                inspection_data id2_0 
            where
                id2_0.device_id=id1_0.device_id 
                and id2_0.is_valid=1
        )
2026-01-11 18:05:33 [http-nio-9091-exec-6] INFO  com.example.demo.aop.ServiceLogAspect - 【服务调用成功】DeviceService.getAllDevices，结果：[com.example.demo.entity.Device@66b4ffe9, com.example.demo.entity.Device@53b03264, com.example.demo.entity.Device@14400eac, com.example.demo.entity.Device@21049c48, com.example.demo.entity.Device@600e6436]
2026-01-11 18:05:33 [http-nio-9091-exec-8] DEBUG c.b.dynamic.datasource.DynamicRoutingDataSource - dynamic-datasource switch to the primary datasource
2026-01-11 18:05:33 [http-nio-9091-exec-8] INFO  com.example.demo.aop.ServiceLogAspect - 【服务调用成功】InspectDataService.getLatestInspectionsWithDeviceInfo，结果：[com.example.demo.entity.InspectionData@6c87a12c, com.example.demo.entity.InspectionData@7113594c]
2026-01-11 18:05:34 [http-nio-9091-exec-4] INFO  com.example.demo.aop.ServiceLogAspect - 【服务调用开始】DeviceService.getCountAll，参数：[]
2026-01-11 18:05:34 [http-nio-9091-exec-4] DEBUG org.hibernate.SQL - 
    select
        count(d1_0.deviceid) 
    from
        devices d1_0
2026-01-11 18:05:34 [http-nio-9091-exec-4] DEBUG c.b.dynamic.datasource.DynamicRoutingDataSource - dynamic-datasource switch to the primary datasource
2026-01-11 18:05:34 [http-nio-9091-exec-4] INFO  com.example.demo.aop.ServiceLogAspect - 【服务调用成功】DeviceService.getCountAll，结果：5
2026-01-11 18:05:34 [http-nio-9091-exec-7] INFO  com.example.demo.aop.ServiceLogAspect - 【服务调用开始】AlertService.getDeviceAlertOverview，参数：[]
2026-01-11 18:05:34 [http-nio-9091-exec-2] INFO  com.example.demo.aop.ServiceLogAspect - 【服务调用开始】DeviceService.getWaitCalibrationCountNow，参数：[]
2026-01-11 18:05:34 [http-nio-9091-exec-1] INFO  com.example.demo.aop.ServiceLogAspect - 【服务调用开始】AlertService.getTodayAlertCount，参数：[2026-01-11 18:05:34]
2026-01-11 18:05:34 [http-nio-9091-exec-7] DEBUG c.b.dynamic.datasource.DynamicRoutingDataSource - dynamic-datasource switch to the primary datasource
2026-01-11 18:05:34 [http-nio-9091-exec-2] DEBUG org.hibernate.SQL - 
    select
        count(d1_0.deviceid) 
    from
        devices d1_0 
    where
        d1_0.calibration_status='PENDING'
2026-01-11 18:05:34 [http-nio-9091-exec-1] DEBUG org.hibernate.SQL - 
    select
        count(a1_0.id) 
    from
        alert a1_0 
    where
        date(a1_0.alert_time)=date(?)
2026-01-11 18:05:34 [http-nio-9091-exec-2] DEBUG c.b.dynamic.datasource.DynamicRoutingDataSource - dynamic-datasource switch to the primary datasource
2026-01-11 18:05:34 [http-nio-9091-exec-2] INFO  com.example.demo.aop.ServiceLogAspect - 【服务调用成功】DeviceService.getWaitCalibrationCountNow，结果：1
2026-01-11 18:05:34 [http-nio-9091-exec-1] DEBUG c.b.dynamic.datasource.DynamicRoutingDataSource - dynamic-datasource switch to the primary datasource
2026-01-11 18:05:34 [http-nio-9091-exec-7] DEBUG org.hibernate.SQL - 
    select
        d1_0.deviceid,
        d1_0.alert_status,
        d1_0.calibration_operator,
        d1_0.calibration_status,
        d1_0.created_at,
        d1_0.device_code,
        d1_0.device_name,
        d1_0.device_type,
        d1_0.last_calibration,
        d1_0.location,
        d1_0.monitor_status,
        d1_0.next_calibration,
        d1_0.operational_status,
        d1_0.self_calibration,
        d1_0.updated_at 
    from
        devices d1_0
2026-01-11 18:05:34 [http-nio-9091-exec-10] INFO  com.example.demo.aop.ServiceLogAspect - 【服务调用开始】AlertService.getAlertDetailsByTimeRange，参数：[2026-01-04T02:05, 2026-01-11T02:05, null, 0, 50]
2026-01-11 18:05:34 [http-nio-9091-exec-1] INFO  com.example.demo.aop.ServiceLogAspect - 【服务调用成功】AlertService.getTodayAlertCount，结果：0
2026-01-11 18:05:34 [http-nio-9091-exec-10] DEBUG org.hibernate.SQL - 
    select
        a1_0.alert_time,
        d1_0.device_code,
        d1_0.device_name,
        d1_0.device_type,
        d1_0.location,
        d1_0.monitor_status,
        a1_0.alert_type,
        a1_0.alert_level,
        a1_0.context 
    from
        alert a1_0 
    join
        devices d1_0 
            on d1_0.deviceid=a1_0.device_id 
    where
        (
            ? is null 
            or a1_0.alert_time>=?
        ) 
        and (
            ? is null 
            or a1_0.alert_time<=?
        ) 
        and (
            ? is null 
            or d1_0.device_code=?
        ) 
    order by
        a1_0.alert_time desc 
    limit
        ?
2026-01-11 18:05:34 [http-nio-9091-exec-10] DEBUG c.b.dynamic.datasource.DynamicRoutingDataSource - dynamic-datasource switch to the primary datasource
2026-01-11 18:05:34 [http-nio-9091-exec-10] INFO  com.example.demo.aop.ServiceLogAspect - 【服务调用成功】AlertService.getAlertDetailsByTimeRange，结果：{pageSize=50, currentPage=0, totalPages=0, totalElements=0, content=[]}
2026-01-11 18:05:34 [http-nio-9091-exec-7] DEBUG org.hibernate.SQL - 
    select
        a1_0.id,
        a1_0.alert_level,
        a1_0.alert_time,
        a1_0.alert_type,
        a1_0.context,
        a1_0.device_id 
    from
        alert a1_0 
    left join
        devices d1_0 
            on d1_0.deviceid=a1_0.device_id 
    where
        d1_0.deviceid=? 
    order by
        a1_0.alert_time desc 
    limit
        ?
2026-01-11 18:05:34 [http-nio-9091-exec-7] DEBUG org.hibernate.SQL - 
    select
        a1_0.id,
        a1_0.alert_level,
        a1_0.alert_time,
        a1_0.alert_type,
        a1_0.context,
        a1_0.device_id 
    from
        alert a1_0 
    left join
        devices d1_0 
            on d1_0.deviceid=a1_0.device_id 
    where
        d1_0.deviceid=? 
    order by
        a1_0.alert_time desc 
    limit
        ?
2026-01-11 18:05:34 [http-nio-9091-exec-7] DEBUG org.hibernate.SQL - 
    select
        a1_0.id,
        a1_0.alert_level,
        a1_0.alert_time,
        a1_0.alert_type,
        a1_0.context,
        a1_0.device_id 
    from
        alert a1_0 
    left join
        devices d1_0 
            on d1_0.deviceid=a1_0.device_id 
    where
        d1_0.deviceid=? 
    order by
        a1_0.alert_time desc 
    limit
        ?
2026-01-11 18:05:34 [http-nio-9091-exec-7] DEBUG org.hibernate.SQL - 
    select
        a1_0.id,
        a1_0.alert_level,
        a1_0.alert_time,
        a1_0.alert_type,
        a1_0.context,
        a1_0.device_id 
    from
        alert a1_0 
    left join
        devices d1_0 
            on d1_0.deviceid=a1_0.device_id 
    where
        d1_0.deviceid=? 
    order by
        a1_0.alert_time desc 
    limit
        ?
2026-01-11 18:05:34 [http-nio-9091-exec-7] DEBUG org.hibernate.SQL - 
    select
        a1_0.id,
        a1_0.alert_level,
        a1_0.alert_time,
        a1_0.alert_type,
        a1_0.context,
        a1_0.device_id 
    from
        alert a1_0 
    left join
        devices d1_0 
            on d1_0.deviceid=a1_0.device_id 
    where
        d1_0.deviceid=? 
    order by
        a1_0.alert_time desc 
    limit
        ?
2026-01-11 18:05:34 [http-nio-9091-exec-7] INFO  com.example.demo.aop.ServiceLogAspect - 【服务调用成功】AlertService.getDeviceAlertOverview，结果：[{deviceType=D4, operationalStatus=RUNNING, alertStatus=ON, latestAlertLevel=YELLOW, latestAlertTime=2025-07-13T10:05:04, location=loc1, deviceCode=001, deviceId=1, deviceName=Inoue Rin, monitorStatus=MONITORON, latestAlertContext=002}, {deviceType=DB, operationalStatus=RUNNING, alertStatus=OFF, latestAlertLevel=null, latestAlertTime=null, location=loc2, deviceCode=002, deviceId=2, deviceName=Kong Lan, monitorStatus=MONITORON, latestAlertContext=null}, {deviceType=DB, operationalStatus=OFFLINE, alertStatus=OFF, latestAlertLevel=null, latestAlertTime=null, location=loc3, deviceCode=003, deviceId=3, deviceName=Chic Kwok Yin, monitorStatus=MONITORINTERRUPT, latestAlertContext=null}, {deviceType=D4, operationalStatus=OFFLINE, alertStatus=OFF, latestAlertLevel=null, latestAlertTime=null, location=loc4, deviceCode=004, deviceId=4, deviceName=Lo Wai Lam, monitorStatus=MONITORON, latestAlertContext=null}, {deviceType=DB, operationalStatus=OFFLINE, alertStatus=OFF, latestAlertLevel=null, latestAlertTime=null, location=loc5, deviceCode=005, deviceId=5, deviceName=Saito Ayano, monitorStatus=MONITOROFF, latestAlertContext=null}]
2026-01-11 18:05:34 [http-nio-9091-exec-9] INFO  com.example.demo.aop.ServiceLogAspect - 【服务调用开始】DeviceService.getCountAll，参数：[]
2026-01-11 18:05:34 [http-nio-9091-exec-9] DEBUG org.hibernate.SQL - 
    select
        count(d1_0.deviceid) 
    from
        devices d1_0
2026-01-11 18:05:34 [http-nio-9091-exec-9] DEBUG c.b.dynamic.datasource.DynamicRoutingDataSource - dynamic-datasource switch to the primary datasource
2026-01-11 18:05:34 [http-nio-9091-exec-9] INFO  com.example.demo.aop.ServiceLogAspect - 【服务调用成功】DeviceService.getCountAll，结果：5
2026-01-11 18:05:34 [http-nio-9091-exec-3] INFO  com.example.demo.aop.ServiceLogAspect - 【服务调用开始】DeviceService.getWaitCalibrationCountNow，参数：[]
2026-01-11 18:05:34 [http-nio-9091-exec-8] INFO  com.example.demo.aop.ServiceLogAspect - 【服务调用开始】InspectDataService.getLatestInspectionsWithDeviceInfo，参数：[]
2026-01-11 18:05:34 [http-nio-9091-exec-6] INFO  com.example.demo.aop.ServiceLogAspect - 【服务调用开始】DeviceService.getAllDevices，参数：[]
2026-01-11 18:05:34 [http-nio-9091-exec-3] DEBUG org.hibernate.SQL - 
    select
        count(d1_0.deviceid) 
    from
        devices d1_0 
    where
        d1_0.calibration_status='PENDING'
2026-01-11 18:05:34 [http-nio-9091-exec-5] INFO  com.example.demo.aop.ServiceLogAspect - 【服务调用开始】AlertService.getTodayAlertCount，参数：[2026-01-11 18:05:34]
2026-01-11 18:05:34 [http-nio-9091-exec-6] DEBUG c.b.dynamic.datasource.DynamicRoutingDataSource - dynamic-datasource switch to the primary datasource
2026-01-11 18:05:34 [http-nio-9091-exec-3] DEBUG c.b.dynamic.datasource.DynamicRoutingDataSource - dynamic-datasource switch to the primary datasource
2026-01-11 18:05:34 [http-nio-9091-exec-8] DEBUG org.hibernate.SQL - 
    select
        id1_0.data_id,
        id1_0.batch_no,
        id1_0.create_time,
        d1_0.deviceid,
        d1_0.alert_status,
        d1_0.calibration_operator,
        d1_0.calibration_status,
        d1_0.created_at,
        d1_0.device_code,
        d1_0.device_name,
        d1_0.device_type,
        d1_0.last_calibration,
        d1_0.location,
        d1_0.monitor_status,
        d1_0.next_calibration,
        d1_0.operational_status,
        d1_0.self_calibration,
        d1_0.updated_at,
        id1_0.diameter,
        id1_0.friability,
        id1_0.hardness,
        id1_0.inspect_time,
        id1_0.is_valid,
        id1_0.product_id,
        p1_0.product_id,
        p1_0.product_name,
        p1_0.specification,
        id1_0.thickness,
        id1_0.weight 
    from
        inspection_data id1_0 
    left join
        devices d1_0 
            on d1_0.deviceid=id1_0.device_id 
    join
        product p1_0 
            on p1_0.product_id=id1_0.product_id 
    where
        id1_0.inspect_time=(
            select
                max(id2_0.inspect_time) 
            from
                inspection_data id2_0 
            where
                id2_0.device_id=id1_0.device_id 
                and id2_0.is_valid=1
        )
2026-01-11 18:05:34 [http-nio-9091-exec-5] DEBUG org.hibernate.SQL - 
    select
        count(a1_0.id) 
    from
        alert a1_0 
    where
        date(a1_0.alert_time)=date(?)
2026-01-11 18:05:34 [http-nio-9091-exec-3] INFO  com.example.demo.aop.ServiceLogAspect - 【服务调用成功】DeviceService.getWaitCalibrationCountNow，结果：1
2026-01-11 18:05:34 [http-nio-9091-exec-5] DEBUG c.b.dynamic.datasource.DynamicRoutingDataSource - dynamic-datasource switch to the primary datasource
2026-01-11 18:05:34 [http-nio-9091-exec-6] DEBUG org.hibernate.SQL - 
    select
        d1_0.deviceid,
        d1_0.alert_status,
        d1_0.calibration_operator,
        d1_0.calibration_status,
        d1_0.created_at,
        d1_0.device_code,
        d1_0.device_name,
        d1_0.device_type,
        d1_0.last_calibration,
        d1_0.location,
        d1_0.monitor_status,
        d1_0.next_calibration,
        d1_0.operational_status,
        d1_0.self_calibration,
        d1_0.updated_at 
    from
        devices d1_0
2026-01-11 18:05:34 [http-nio-9091-exec-8] DEBUG c.b.dynamic.datasource.DynamicRoutingDataSource - dynamic-datasource switch to the primary datasource
2026-01-11 18:05:34 [http-nio-9091-exec-5] INFO  com.example.demo.aop.ServiceLogAspect - 【服务调用成功】AlertService.getTodayAlertCount，结果：0
2026-01-11 18:05:34 [http-nio-9091-exec-8] INFO  com.example.demo.aop.ServiceLogAspect - 【服务调用成功】InspectDataService.getLatestInspectionsWithDeviceInfo，结果：[com.example.demo.entity.InspectionData@a2d7f65, com.example.demo.entity.InspectionData@13ee1d6d]
2026-01-11 18:05:34 [http-nio-9091-exec-6] INFO  com.example.demo.aop.ServiceLogAspect - 【服务调用成功】DeviceService.getAllDevices，结果：[com.example.demo.entity.Device@473f72ea, com.example.demo.entity.Device@7c77a590, com.example.demo.entity.Device@13bbb37e, com.example.demo.entity.Device@78e380ac, com.example.demo.entity.Device@44770578]
2026-01-11 18:05:34 [http-nio-9091-exec-4] INFO  com.example.demo.aop.ServiceLogAspect - 【服务调用开始】AlertService.getAlertDetails，参数：[0, 10]
2026-01-11 18:05:34 [http-nio-9091-exec-4] DEBUG org.hibernate.SQL - 
    select
        a1_0.alert_time,
        d1_0.device_code,
        d1_0.device_name,
        d1_0.device_type,
        d1_0.location,
        d1_0.monitor_status,
        a1_0.alert_type,
        a1_0.alert_level,
        a1_0.context 
    from
        alert a1_0 
    join
        devices d1_0 
            on d1_0.deviceid=a1_0.device_id 
    order by
        a1_0.alert_time desc 
    limit
        ?
2026-01-11 18:05:34 [http-nio-9091-exec-4] DEBUG c.b.dynamic.datasource.DynamicRoutingDataSource - dynamic-datasource switch to the primary datasource
2026-01-11 18:05:34 [http-nio-9091-exec-10] INFO  com.example.demo.aop.ServiceLogAspect - 【服务调用开始】DeviceService.getMonitorOnCountNow，参数：[]
2026-01-11 18:05:34 [http-nio-9091-exec-1] INFO  com.example.demo.aop.ServiceLogAspect - 【服务调用开始】DeviceService.getDeviceByStaffCode，参数：[admin]
2026-01-11 18:05:34 [http-nio-9091-exec-10] DEBUG org.hibernate.SQL - 
    select
        count(d1_0.deviceid) 
    from
        devices d1_0 
    where
        d1_0.monitor_status='MONITORON'
2026-01-11 18:05:34 [http-nio-9091-exec-1] DEBUG org.hibernate.SQL - 
    select
        d1_0.deviceid,
        d1_0.alert_status,
        d1_0.calibration_operator,
        d1_0.calibration_status,
        d1_0.created_at,
        d1_0.device_code,
        d1_0.device_name,
        d1_0.device_type,
        d1_0.last_calibration,
        d1_0.location,
        d1_0.monitor_status,
        d1_0.next_calibration,
        d1_0.operational_status,
        d1_0.self_calibration,
        d1_0.updated_at 
    from
        staffdevice sd1_0 
    join
        devices d1_0 
            on d1_0.device_code=sd1_0.device_code 
    where
        sd1_0.staffcode=?
2026-01-11 18:05:34 [http-nio-9091-exec-10] DEBUG c.b.dynamic.datasource.DynamicRoutingDataSource - dynamic-datasource switch to the primary datasource
2026-01-11 18:05:34 [http-nio-9091-exec-2] INFO  com.example.demo.aop.ServiceLogAspect - 【服务调用开始】AlertService.getWeekAlertSummary，参数：[2026-01-11 10:05:34]
2026-01-11 18:05:34 [http-nio-9091-exec-4] INFO  com.example.demo.aop.ServiceLogAspect - 【服务调用成功】AlertService.getAlertDetails，结果：{pageSize=10, currentPage=0, totalPages=1, totalElements=3, content=[{deviceType=D4, alertType=DRUG, location=loc1, context=002, monitorStatus=MONITORON, deviceCode=001, alertTime=2025-07-13T10:05:04, alertLevel=YELLOW, deviceName=Inoue Rin}, {deviceType=D4, alertType=DRUG, location=loc1, context=001, monitorStatus=MONITORON, deviceCode=001, alertTime=2025-07-13T10:05:01, alertLevel=RED, deviceName=Inoue Rin}, {deviceType=D4, alertType=MECHINE, location=loc1, context=000, monitorStatus=MONITORON, deviceCode=001, alertTime=2025-07-11T10:04:58, alertLevel=YELLOW, deviceName=Inoue Rin}]}
2026-01-11 18:05:34 [http-nio-9091-exec-1] DEBUG c.b.dynamic.datasource.DynamicRoutingDataSource - dynamic-datasource switch to the primary datasource
2026-01-11 18:05:34 [http-nio-9091-exec-10] INFO  com.example.demo.aop.ServiceLogAspect - 【服务调用成功】DeviceService.getMonitorOnCountNow，结果：3
2026-01-11 18:05:34 [http-nio-9091-exec-10] INFO  com.example.demo.aop.ServiceLogAspect - 【服务调用开始】DeviceService.getAlertOnCountNow，参数：[]
2026-01-11 18:05:34 [http-nio-9091-exec-2] DEBUG org.hibernate.SQL - 
    select
        count(a1_0.id) 
    from
        alert a1_0 
    where
        yearweek(a1_0.alert_time, 1)=yearweek(?, 1) 
        and a1_0.alert_level='YELLOW'
2026-01-11 18:05:34 [http-nio-9091-exec-10] DEBUG org.hibernate.SQL - 
    select
        count(d1_0.deviceid) 
    from
        devices d1_0 
    where
        d1_0.alert_status='ON'
2026-01-11 18:05:34 [http-nio-9091-exec-1] INFO  com.example.demo.aop.ServiceLogAspect - 【服务调用成功】DeviceService.getDeviceByStaffCode，结果：[]
2026-01-11 18:05:34 [http-nio-9091-exec-2] DEBUG c.b.dynamic.datasource.DynamicRoutingDataSource - dynamic-datasource switch to the primary datasource
2026-01-11 18:05:34 [http-nio-9091-exec-10] INFO  com.example.demo.aop.ServiceLogAspect - 【服务调用成功】DeviceService.getAlertOnCountNow，结果：1
2026-01-11 18:05:34 [http-nio-9091-exec-10] INFO  com.example.demo.aop.ServiceLogAspect - 【服务调用开始】DeviceService.getOperationalOnCountNow，参数：[]
2026-01-11 18:05:34 [http-nio-9091-exec-2] DEBUG org.hibernate.SQL - 
    select
        count(a1_0.id) 
    from
        alert a1_0 
    where
        yearweek(a1_0.alert_time, 1)=yearweek(?, 1) 
        and a1_0.alert_level='RED'
2026-01-11 18:05:34 [http-nio-9091-exec-10] DEBUG org.hibernate.SQL - 
    select
        count(d1_0.deviceid) 
    from
        devices d1_0 
    where
        d1_0.operational_status='RUNNING'
2026-01-11 18:05:34 [http-nio-9091-exec-10] INFO  com.example.demo.aop.ServiceLogAspect - 【服务调用成功】DeviceService.getOperationalOnCountNow，结果：2
2026-01-11 18:05:34 [http-nio-9091-exec-10] INFO  com.example.demo.aop.ServiceLogAspect - 【服务调用开始】DeviceService.getOperationalOfflineCountNow，参数：[]
2026-01-11 18:05:34 [http-nio-9091-exec-2] DEBUG org.hibernate.SQL - 
    select
        count(a1_0.id) 
    from
        alert a1_0 
    where
        yearweek(a1_0.alert_time, 1)=yearweek(?, 1) 
        and a1_0.alert_type='MECHINE'
2026-01-11 18:05:34 [http-nio-9091-exec-10] DEBUG org.hibernate.SQL - 
    select
        count(d1_0.deviceid) 
    from
        devices d1_0 
    where
        d1_0.operational_status='OFFLINE'
2026-01-11 18:05:34 [http-nio-9091-exec-2] INFO  com.example.demo.aop.ServiceLogAspect - 【服务调用成功】AlertService.getWeekAlertSummary，结果：{redAlert=0, yellowAlert=0, machineFailure=0}
2026-01-11 18:05:34 [http-nio-9091-exec-10] INFO  com.example.demo.aop.ServiceLogAspect - 【服务调用成功】DeviceService.getOperationalOfflineCountNow，结果：3
2026-01-11 18:05:39 [http-nio-9091-exec-7] INFO  com.example.demo.aop.ServiceLogAspect - 【服务调用开始】DeviceService.getCountAll，参数：[]
2026-01-11 18:05:39 [http-nio-9091-exec-7] DEBUG org.hibernate.SQL - 
    select
        count(d1_0.deviceid) 
    from
        devices d1_0
2026-01-11 18:05:39 [http-nio-9091-exec-7] DEBUG c.b.dynamic.datasource.DynamicRoutingDataSource - dynamic-datasource switch to the primary datasource
2026-01-11 18:05:39 [http-nio-9091-exec-7] INFO  com.example.demo.aop.ServiceLogAspect - 【服务调用成功】DeviceService.getCountAll，结果：5
2026-01-11 18:05:39 [http-nio-9091-exec-3] INFO  com.example.demo.aop.ServiceLogAspect - 【服务调用开始】DeviceService.getWaitCalibrationCountNow，参数：[]
2026-01-11 18:05:39 [http-nio-9091-exec-5] INFO  com.example.demo.aop.ServiceLogAspect - 【服务调用开始】DeviceService.getAllDevices，参数：[]
2026-01-11 18:05:39 [http-nio-9091-exec-3] DEBUG org.hibernate.SQL - 
    select
        count(d1_0.deviceid) 
    from
        devices d1_0 
    where
        d1_0.calibration_status='PENDING'
2026-01-11 18:05:39 [http-nio-9091-exec-9] INFO  com.example.demo.aop.ServiceLogAspect - 【服务调用开始】AlertService.getTodayAlertCount，参数：[2026-01-11 18:05:39]
2026-01-11 18:05:39 [http-nio-9091-exec-5] DEBUG c.b.dynamic.datasource.DynamicRoutingDataSource - dynamic-datasource switch to the primary datasource
2026-01-11 18:05:39 [http-nio-9091-exec-8] INFO  com.example.demo.aop.ServiceLogAspect - 【服务调用开始】InspectDataService.getLatestInspectionsWithDeviceInfo，参数：[]
2026-01-11 18:05:39 [http-nio-9091-exec-3] DEBUG c.b.dynamic.datasource.DynamicRoutingDataSource - dynamic-datasource switch to the primary datasource
2026-01-11 18:05:39 [http-nio-9091-exec-9] DEBUG org.hibernate.SQL - 
    select
        count(a1_0.id) 
    from
        alert a1_0 
    where
        date(a1_0.alert_time)=date(?)
2026-01-11 18:05:39 [http-nio-9091-exec-9] DEBUG c.b.dynamic.datasource.DynamicRoutingDataSource - dynamic-datasource switch to the primary datasource
2026-01-11 18:05:39 [http-nio-9091-exec-3] INFO  com.example.demo.aop.ServiceLogAspect - 【服务调用成功】DeviceService.getWaitCalibrationCountNow，结果：1
2026-01-11 18:05:39 [http-nio-9091-exec-5] DEBUG org.hibernate.SQL - 
    select
        d1_0.deviceid,
        d1_0.alert_status,
        d1_0.calibration_operator,
        d1_0.calibration_status,
        d1_0.created_at,
        d1_0.device_code,
        d1_0.device_name,
        d1_0.device_type,
        d1_0.last_calibration,
        d1_0.location,
        d1_0.monitor_status,
        d1_0.next_calibration,
        d1_0.operational_status,
        d1_0.self_calibration,
        d1_0.updated_at 
    from
        devices d1_0
2026-01-11 18:05:39 [http-nio-9091-exec-8] DEBUG org.hibernate.SQL - 
    select
        id1_0.data_id,
        id1_0.batch_no,
        id1_0.create_time,
        d1_0.deviceid,
        d1_0.alert_status,
        d1_0.calibration_operator,
        d1_0.calibration_status,
        d1_0.created_at,
        d1_0.device_code,
        d1_0.device_name,
        d1_0.device_type,
        d1_0.last_calibration,
        d1_0.location,
        d1_0.monitor_status,
        d1_0.next_calibration,
        d1_0.operational_status,
        d1_0.self_calibration,
        d1_0.updated_at,
        id1_0.diameter,
        id1_0.friability,
        id1_0.hardness,
        id1_0.inspect_time,
        id1_0.is_valid,
        id1_0.product_id,
        p1_0.product_id,
        p1_0.product_name,
        p1_0.specification,
        id1_0.thickness,
        id1_0.weight 
    from
        inspection_data id1_0 
    left join
        devices d1_0 
            on d1_0.deviceid=id1_0.device_id 
    join
        product p1_0 
            on p1_0.product_id=id1_0.product_id 
    where
        id1_0.inspect_time=(
            select
                max(id2_0.inspect_time) 
            from
                inspection_data id2_0 
            where
                id2_0.device_id=id1_0.device_id 
                and id2_0.is_valid=1
        )
2026-01-11 18:05:39 [http-nio-9091-exec-9] INFO  com.example.demo.aop.ServiceLogAspect - 【服务调用成功】AlertService.getTodayAlertCount，结果：0
2026-01-11 18:05:39 [http-nio-9091-exec-8] DEBUG c.b.dynamic.datasource.DynamicRoutingDataSource - dynamic-datasource switch to the primary datasource
2026-01-11 18:05:39 [http-nio-9091-exec-5] INFO  com.example.demo.aop.ServiceLogAspect - 【服务调用成功】DeviceService.getAllDevices，结果：[com.example.demo.entity.Device@7040934d, com.example.demo.entity.Device@26b0a3d0, com.example.demo.entity.Device@69482d29, com.example.demo.entity.Device@4472b4dd, com.example.demo.entity.Device@30dc8de5]
2026-01-11 18:05:39 [http-nio-9091-exec-8] INFO  com.example.demo.aop.ServiceLogAspect - 【服务调用成功】InspectDataService.getLatestInspectionsWithDeviceInfo，结果：[com.example.demo.entity.InspectionData@3e59e77a, com.example.demo.entity.InspectionData@4375021b]
2026-01-11 18:05:40 [http-nio-9091-exec-6] INFO  com.example.demo.aop.ServiceLogAspect - 【服务调用开始】DeviceService.getCountAll，参数：[]
2026-01-11 18:05:40 [http-nio-9091-exec-6] DEBUG org.hibernate.SQL - 
    select
        count(d1_0.deviceid) 
    from
        devices d1_0
2026-01-11 18:05:40 [http-nio-9091-exec-6] DEBUG c.b.dynamic.datasource.DynamicRoutingDataSource - dynamic-datasource switch to the primary datasource
2026-01-11 18:05:40 [http-nio-9091-exec-6] INFO  com.example.demo.aop.ServiceLogAspect - 【服务调用成功】DeviceService.getCountAll，结果：5
2026-01-11 18:05:40 [http-nio-9091-exec-1] INFO  com.example.demo.aop.ServiceLogAspect - 【服务调用开始】DeviceService.getWaitCalibrationCountNow，参数：[]
2026-01-11 18:05:40 [http-nio-9091-exec-2] INFO  com.example.demo.aop.ServiceLogAspect - 【服务调用开始】AlertService.getDeviceAlertOverview，参数：[]
2026-01-11 18:05:40 [http-nio-9091-exec-1] DEBUG org.hibernate.SQL - 
    select
        count(d1_0.deviceid) 
    from
        devices d1_0 
    where
        d1_0.calibration_status='PENDING'
2026-01-11 18:05:40 [http-nio-9091-exec-4] INFO  com.example.demo.aop.ServiceLogAspect - 【服务调用开始】AlertService.getTodayAlertCount，参数：[2026-01-11 18:05:40]
2026-01-11 18:05:40 [http-nio-9091-exec-2] DEBUG c.b.dynamic.datasource.DynamicRoutingDataSource - dynamic-datasource switch to the primary datasource
2026-01-11 18:05:40 [http-nio-9091-exec-10] INFO  com.example.demo.aop.ServiceLogAspect - 【服务调用开始】AlertService.getAlertDetailsByTimeRange，参数：[2026-01-04T02:05, 2026-01-11T02:05, null, 0, 50]
2026-01-11 18:05:40 [http-nio-9091-exec-1] DEBUG c.b.dynamic.datasource.DynamicRoutingDataSource - dynamic-datasource switch to the primary datasource
2026-01-11 18:05:40 [http-nio-9091-exec-10] DEBUG org.hibernate.SQL - 
    select
        a1_0.alert_time,
        d1_0.device_code,
        d1_0.device_name,
        d1_0.device_type,
        d1_0.location,
        d1_0.monitor_status,
        a1_0.alert_type,
        a1_0.alert_level,
        a1_0.context 
    from
        alert a1_0 
    join
        devices d1_0 
            on d1_0.deviceid=a1_0.device_id 
    where
        (
            ? is null 
            or a1_0.alert_time>=?
        ) 
        and (
            ? is null 
            or a1_0.alert_time<=?
        ) 
        and (
            ? is null 
            or d1_0.device_code=?
        ) 
    order by
        a1_0.alert_time desc 
    limit
        ?
2026-01-11 18:05:40 [http-nio-9091-exec-4] DEBUG org.hibernate.SQL - 
    select
        count(a1_0.id) 
    from
        alert a1_0 
    where
        date(a1_0.alert_time)=date(?)
2026-01-11 18:05:40 [http-nio-9091-exec-2] DEBUG org.hibernate.SQL - 
    select
        d1_0.deviceid,
        d1_0.alert_status,
        d1_0.calibration_operator,
        d1_0.calibration_status,
        d1_0.created_at,
        d1_0.device_code,
        d1_0.device_name,
        d1_0.device_type,
        d1_0.last_calibration,
        d1_0.location,
        d1_0.monitor_status,
        d1_0.next_calibration,
        d1_0.operational_status,
        d1_0.self_calibration,
        d1_0.updated_at 
    from
        devices d1_0
2026-01-11 18:05:40 [http-nio-9091-exec-1] INFO  com.example.demo.aop.ServiceLogAspect - 【服务调用成功】DeviceService.getWaitCalibrationCountNow，结果：1
2026-01-11 18:05:40 [http-nio-9091-exec-10] DEBUG c.b.dynamic.datasource.DynamicRoutingDataSource - dynamic-datasource switch to the primary datasource
2026-01-11 18:05:40 [http-nio-9091-exec-4] DEBUG c.b.dynamic.datasource.DynamicRoutingDataSource - dynamic-datasource switch to the primary datasource
2026-01-11 18:05:40 [http-nio-9091-exec-4] INFO  com.example.demo.aop.ServiceLogAspect - 【服务调用成功】AlertService.getTodayAlertCount，结果：0
2026-01-11 18:05:40 [http-nio-9091-exec-10] INFO  com.example.demo.aop.ServiceLogAspect - 【服务调用成功】AlertService.getAlertDetailsByTimeRange，结果：{pageSize=50, currentPage=0, totalPages=0, totalElements=0, content=[]}
2026-01-11 18:05:40 [http-nio-9091-exec-2] DEBUG org.hibernate.SQL - 
    select
        a1_0.id,
        a1_0.alert_level,
        a1_0.alert_time,
        a1_0.alert_type,
        a1_0.context,
        a1_0.device_id 
    from
        alert a1_0 
    left join
        devices d1_0 
            on d1_0.deviceid=a1_0.device_id 
    where
        d1_0.deviceid=? 
    order by
        a1_0.alert_time desc 
    limit
        ?
2026-01-11 18:05:40 [http-nio-9091-exec-2] DEBUG org.hibernate.SQL - 
    select
        a1_0.id,
        a1_0.alert_level,
        a1_0.alert_time,
        a1_0.alert_type,
        a1_0.context,
        a1_0.device_id 
    from
        alert a1_0 
    left join
        devices d1_0 
            on d1_0.deviceid=a1_0.device_id 
    where
        d1_0.deviceid=? 
    order by
        a1_0.alert_time desc 
    limit
        ?
2026-01-11 18:05:40 [http-nio-9091-exec-2] DEBUG org.hibernate.SQL - 
    select
        a1_0.id,
        a1_0.alert_level,
        a1_0.alert_time,
        a1_0.alert_type,
        a1_0.context,
        a1_0.device_id 
    from
        alert a1_0 
    left join
        devices d1_0 
            on d1_0.deviceid=a1_0.device_id 
    where
        d1_0.deviceid=? 
    order by
        a1_0.alert_time desc 
    limit
        ?
2026-01-11 18:05:40 [http-nio-9091-exec-2] DEBUG org.hibernate.SQL - 
    select
        a1_0.id,
        a1_0.alert_level,
        a1_0.alert_time,
        a1_0.alert_type,
        a1_0.context,
        a1_0.device_id 
    from
        alert a1_0 
    left join
        devices d1_0 
            on d1_0.deviceid=a1_0.device_id 
    where
        d1_0.deviceid=? 
    order by
        a1_0.alert_time desc 
    limit
        ?
2026-01-11 18:05:40 [http-nio-9091-exec-2] DEBUG org.hibernate.SQL - 
    select
        a1_0.id,
        a1_0.alert_level,
        a1_0.alert_time,
        a1_0.alert_type,
        a1_0.context,
        a1_0.device_id 
    from
        alert a1_0 
    left join
        devices d1_0 
            on d1_0.deviceid=a1_0.device_id 
    where
        d1_0.deviceid=? 
    order by
        a1_0.alert_time desc 
    limit
        ?
2026-01-11 18:05:40 [http-nio-9091-exec-2] INFO  com.example.demo.aop.ServiceLogAspect - 【服务调用成功】AlertService.getDeviceAlertOverview，结果：[{deviceType=D4, operationalStatus=RUNNING, alertStatus=ON, latestAlertLevel=YELLOW, latestAlertTime=2025-07-13T10:05:04, location=loc1, deviceCode=001, deviceId=1, deviceName=Inoue Rin, monitorStatus=MONITORON, latestAlertContext=002}, {deviceType=DB, operationalStatus=RUNNING, alertStatus=OFF, latestAlertLevel=null, latestAlertTime=null, location=loc2, deviceCode=002, deviceId=2, deviceName=Kong Lan, monitorStatus=MONITORON, latestAlertContext=null}, {deviceType=DB, operationalStatus=OFFLINE, alertStatus=OFF, latestAlertLevel=null, latestAlertTime=null, location=loc3, deviceCode=003, deviceId=3, deviceName=Chic Kwok Yin, monitorStatus=MONITORINTERRUPT, latestAlertContext=null}, {deviceType=D4, operationalStatus=OFFLINE, alertStatus=OFF, latestAlertLevel=null, latestAlertTime=null, location=loc4, deviceCode=004, deviceId=4, deviceName=Lo Wai Lam, monitorStatus=MONITORON, latestAlertContext=null}, {deviceType=DB, operationalStatus=OFFLINE, alertStatus=OFF, latestAlertLevel=null, latestAlertTime=null, location=loc5, deviceCode=005, deviceId=5, deviceName=Saito Ayano, monitorStatus=MONITOROFF, latestAlertContext=null}]
2026-01-11 18:05:40 [http-nio-9091-exec-9] INFO  com.example.demo.aop.ServiceLogAspect - 【服务调用开始】DeviceService.getWaitCalibrationCountNow，参数：[]
2026-01-11 18:05:40 [http-nio-9091-exec-7] INFO  com.example.demo.aop.ServiceLogAspect - 【服务调用开始】DeviceService.getCountAll，参数：[]
2026-01-11 18:05:40 [http-nio-9091-exec-3] INFO  com.example.demo.aop.ServiceLogAspect - 【服务调用开始】AlertService.getTodayAlertCount，参数：[2026-01-11 18:05:40]
2026-01-11 18:05:40 [http-nio-9091-exec-9] DEBUG org.hibernate.SQL - 
    select
        count(d1_0.deviceid) 
    from
        devices d1_0 
    where
        d1_0.calibration_status='PENDING'
2026-01-11 18:05:40 [http-nio-9091-exec-7] DEBUG org.hibernate.SQL - 
    select
        count(d1_0.deviceid) 
    from
        devices d1_0
2026-01-11 18:05:40 [http-nio-9091-exec-9] DEBUG c.b.dynamic.datasource.DynamicRoutingDataSource - dynamic-datasource switch to the primary datasource
2026-01-11 18:05:40 [http-nio-9091-exec-7] DEBUG c.b.dynamic.datasource.DynamicRoutingDataSource - dynamic-datasource switch to the primary datasource
2026-01-11 18:05:40 [http-nio-9091-exec-3] DEBUG org.hibernate.SQL - 
    select
        count(a1_0.id) 
    from
        alert a1_0 
    where
        date(a1_0.alert_time)=date(?)
2026-01-11 18:05:40 [http-nio-9091-exec-7] INFO  com.example.demo.aop.ServiceLogAspect - 【服务调用成功】DeviceService.getCountAll，结果：5
2026-01-11 18:05:40 [http-nio-9091-exec-9] INFO  com.example.demo.aop.ServiceLogAspect - 【服务调用成功】DeviceService.getWaitCalibrationCountNow，结果：1
2026-01-11 18:05:40 [http-nio-9091-exec-3] DEBUG c.b.dynamic.datasource.DynamicRoutingDataSource - dynamic-datasource switch to the primary datasource
2026-01-11 18:05:40 [http-nio-9091-exec-5] INFO  com.example.demo.aop.ServiceLogAspect - 【服务调用开始】DeviceService.getAllDevices，参数：[]
2026-01-11 18:05:40 [http-nio-9091-exec-5] DEBUG c.b.dynamic.datasource.DynamicRoutingDataSource - dynamic-datasource switch to the primary datasource
2026-01-11 18:05:40 [http-nio-9091-exec-3] INFO  com.example.demo.aop.ServiceLogAspect - 【服务调用成功】AlertService.getTodayAlertCount，结果：0
2026-01-11 18:05:40 [http-nio-9091-exec-5] DEBUG org.hibernate.SQL - 
    select
        d1_0.deviceid,
        d1_0.alert_status,
        d1_0.calibration_operator,
        d1_0.calibration_status,
        d1_0.created_at,
        d1_0.device_code,
        d1_0.device_name,
        d1_0.device_type,
        d1_0.last_calibration,
        d1_0.location,
        d1_0.monitor_status,
        d1_0.next_calibration,
        d1_0.operational_status,
        d1_0.self_calibration,
        d1_0.updated_at 
    from
        devices d1_0
2026-01-11 18:05:40 [http-nio-9091-exec-5] INFO  com.example.demo.aop.ServiceLogAspect - 【服务调用成功】DeviceService.getAllDevices，结果：[com.example.demo.entity.Device@17376cfd, com.example.demo.entity.Device@4fc0f05f, com.example.demo.entity.Device@28d78756, com.example.demo.entity.Device@7e2b558, com.example.demo.entity.Device@2b9e61dd]
2026-01-11 18:05:41 [http-nio-9091-exec-8] INFO  com.example.demo.aop.ServiceLogAspect - 【服务调用开始】DeviceService.getCountAll，参数：[]
2026-01-11 18:05:41 [http-nio-9091-exec-8] DEBUG org.hibernate.SQL - 
    select
        count(d1_0.deviceid) 
    from
        devices d1_0
2026-01-11 18:05:41 [http-nio-9091-exec-8] DEBUG c.b.dynamic.datasource.DynamicRoutingDataSource - dynamic-datasource switch to the primary datasource
2026-01-11 18:05:41 [http-nio-9091-exec-8] INFO  com.example.demo.aop.ServiceLogAspect - 【服务调用成功】DeviceService.getCountAll，结果：5
2026-01-11 18:05:41 [http-nio-9091-exec-1] INFO  com.example.demo.aop.ServiceLogAspect - 【服务调用开始】DeviceService.getWaitCalibrationCountNow，参数：[]
2026-01-11 18:05:41 [http-nio-9091-exec-6] INFO  com.example.demo.aop.ServiceLogAspect - 【服务调用开始】AlertService.getTodayAlertCount，参数：[2026-01-11 18:05:41]
2026-01-11 18:05:41 [http-nio-9091-exec-1] DEBUG org.hibernate.SQL - 
    select
        count(d1_0.deviceid) 
    from
        devices d1_0 
    where
        d1_0.calibration_status='PENDING'
2026-01-11 18:05:41 [http-nio-9091-exec-1] DEBUG c.b.dynamic.datasource.DynamicRoutingDataSource - dynamic-datasource switch to the primary datasource
2026-01-11 18:05:41 [http-nio-9091-exec-4] INFO  com.example.demo.aop.ServiceLogAspect - 【服务调用开始】DeviceService.getAllDevices，参数：[]
2026-01-11 18:05:41 [http-nio-9091-exec-4] DEBUG c.b.dynamic.datasource.DynamicRoutingDataSource - dynamic-datasource switch to the primary datasource
2026-01-11 18:05:41 [http-nio-9091-exec-6] DEBUG org.hibernate.SQL - 
    select
        count(a1_0.id) 
    from
        alert a1_0 
    where
        date(a1_0.alert_time)=date(?)
2026-01-11 18:05:41 [http-nio-9091-exec-1] INFO  com.example.demo.aop.ServiceLogAspect - 【服务调用成功】DeviceService.getWaitCalibrationCountNow，结果：1
2026-01-11 18:05:41 [http-nio-9091-exec-6] DEBUG c.b.dynamic.datasource.DynamicRoutingDataSource - dynamic-datasource switch to the primary datasource
2026-01-11 18:05:41 [http-nio-9091-exec-4] DEBUG org.hibernate.SQL - 
    select
        d1_0.deviceid,
        d1_0.alert_status,
        d1_0.calibration_operator,
        d1_0.calibration_status,
        d1_0.created_at,
        d1_0.device_code,
        d1_0.device_name,
        d1_0.device_type,
        d1_0.last_calibration,
        d1_0.location,
        d1_0.monitor_status,
        d1_0.next_calibration,
        d1_0.operational_status,
        d1_0.self_calibration,
        d1_0.updated_at 
    from
        devices d1_0
2026-01-11 18:05:41 [http-nio-9091-exec-6] INFO  com.example.demo.aop.ServiceLogAspect - 【服务调用成功】AlertService.getTodayAlertCount，结果：0
2026-01-11 18:05:41 [http-nio-9091-exec-4] INFO  com.example.demo.aop.ServiceLogAspect - 【服务调用成功】DeviceService.getAllDevices，结果：[com.example.demo.entity.Device@676e276c, com.example.demo.entity.Device@c80e8e0, com.example.demo.entity.Device@497c2349, com.example.demo.entity.Device@47e999b6, com.example.demo.entity.Device@51aa9360]
2026-01-11 18:05:41 [http-nio-9091-exec-10] INFO  com.example.demo.aop.ServiceLogAspect - 【服务调用开始】DeviceService.getCountAll，参数：[]
2026-01-11 18:05:41 [http-nio-9091-exec-10] DEBUG org.hibernate.SQL - 
    select
        count(d1_0.deviceid) 
    from
        devices d1_0
2026-01-11 18:05:41 [http-nio-9091-exec-10] DEBUG c.b.dynamic.datasource.DynamicRoutingDataSource - dynamic-datasource switch to the primary datasource
2026-01-11 18:05:41 [http-nio-9091-exec-10] INFO  com.example.demo.aop.ServiceLogAspect - 【服务调用成功】DeviceService.getCountAll，结果：5
2026-01-11 18:05:41 [http-nio-9091-exec-2] INFO  com.example.demo.aop.ServiceLogAspect - 【服务调用开始】AlertService.getTodayAlertCount，参数：[2026-01-11 18:05:41]
2026-01-11 18:05:41 [http-nio-9091-exec-2] DEBUG org.hibernate.SQL - 
    select
        count(a1_0.id) 
    from
        alert a1_0 
    where
        date(a1_0.alert_time)=date(?)
2026-01-11 18:05:41 [http-nio-9091-exec-9] INFO  com.example.demo.aop.ServiceLogAspect - 【服务调用开始】DeviceService.getWaitCalibrationCountNow，参数：[]
2026-01-11 18:05:41 [http-nio-9091-exec-7] INFO  com.example.demo.aop.ServiceLogAspect - 【服务调用开始】AlertService.getDeviceAlertOverview，参数：[]
2026-01-11 18:05:41 [http-nio-9091-exec-9] DEBUG org.hibernate.SQL - 
    select
        count(d1_0.deviceid) 
    from
        devices d1_0 
    where
        d1_0.calibration_status='PENDING'
2026-01-11 18:05:41 [http-nio-9091-exec-7] DEBUG c.b.dynamic.datasource.DynamicRoutingDataSource - dynamic-datasource switch to the primary datasource
2026-01-11 18:05:41 [http-nio-9091-exec-2] DEBUG c.b.dynamic.datasource.DynamicRoutingDataSource - dynamic-datasource switch to the primary datasource
2026-01-11 18:05:41 [http-nio-9091-exec-3] INFO  com.example.demo.aop.ServiceLogAspect - 【服务调用开始】AlertService.getAlertDetailsByTimeRange，参数：[2026-01-04T02:05, 2026-01-11T02:05, null, 0, 50]
2026-01-11 18:05:41 [http-nio-9091-exec-9] DEBUG c.b.dynamic.datasource.DynamicRoutingDataSource - dynamic-datasource switch to the primary datasource
2026-01-11 18:05:41 [http-nio-9091-exec-7] DEBUG org.hibernate.SQL - 
    select
        d1_0.deviceid,
        d1_0.alert_status,
        d1_0.calibration_operator,
        d1_0.calibration_status,
        d1_0.created_at,
        d1_0.device_code,
        d1_0.device_name,
        d1_0.device_type,
        d1_0.last_calibration,
        d1_0.location,
        d1_0.monitor_status,
        d1_0.next_calibration,
        d1_0.operational_status,
        d1_0.self_calibration,
        d1_0.updated_at 
    from
        devices d1_0
2026-01-11 18:05:41 [http-nio-9091-exec-3] DEBUG org.hibernate.SQL - 
    select
        a1_0.alert_time,
        d1_0.device_code,
        d1_0.device_name,
        d1_0.device_type,
        d1_0.location,
        d1_0.monitor_status,
        a1_0.alert_type,
        a1_0.alert_level,
        a1_0.context 
    from
        alert a1_0 
    join
        devices d1_0 
            on d1_0.deviceid=a1_0.device_id 
    where
        (
            ? is null 
            or a1_0.alert_time>=?
        ) 
        and (
            ? is null 
            or a1_0.alert_time<=?
        ) 
        and (
            ? is null 
            or d1_0.device_code=?
        ) 
    order by
        a1_0.alert_time desc 
    limit
        ?
2026-01-11 18:05:41 [http-nio-9091-exec-2] INFO  com.example.demo.aop.ServiceLogAspect - 【服务调用成功】AlertService.getTodayAlertCount，结果：0
2026-01-11 18:05:41 [http-nio-9091-exec-9] INFO  com.example.demo.aop.ServiceLogAspect - 【服务调用成功】DeviceService.getWaitCalibrationCountNow，结果：1
2026-01-11 18:05:41 [http-nio-9091-exec-3] DEBUG c.b.dynamic.datasource.DynamicRoutingDataSource - dynamic-datasource switch to the primary datasource
2026-01-11 18:05:41 [http-nio-9091-exec-3] INFO  com.example.demo.aop.ServiceLogAspect - 【服务调用成功】AlertService.getAlertDetailsByTimeRange，结果：{pageSize=50, currentPage=0, totalPages=0, totalElements=0, content=[]}
2026-01-11 18:05:41 [http-nio-9091-exec-7] DEBUG org.hibernate.SQL - 
    select
        a1_0.id,
        a1_0.alert_level,
        a1_0.alert_time,
        a1_0.alert_type,
        a1_0.context,
        a1_0.device_id 
    from
        alert a1_0 
    left join
        devices d1_0 
            on d1_0.deviceid=a1_0.device_id 
    where
        d1_0.deviceid=? 
    order by
        a1_0.alert_time desc 
    limit
        ?
2026-01-11 18:05:41 [http-nio-9091-exec-7] DEBUG org.hibernate.SQL - 
    select
        a1_0.id,
        a1_0.alert_level,
        a1_0.alert_time,
        a1_0.alert_type,
        a1_0.context,
        a1_0.device_id 
    from
        alert a1_0 
    left join
        devices d1_0 
            on d1_0.deviceid=a1_0.device_id 
    where
        d1_0.deviceid=? 
    order by
        a1_0.alert_time desc 
    limit
        ?
2026-01-11 18:05:41 [http-nio-9091-exec-7] DEBUG org.hibernate.SQL - 
    select
        a1_0.id,
        a1_0.alert_level,
        a1_0.alert_time,
        a1_0.alert_type,
        a1_0.context,
        a1_0.device_id 
    from
        alert a1_0 
    left join
        devices d1_0 
            on d1_0.deviceid=a1_0.device_id 
    where
        d1_0.deviceid=? 
    order by
        a1_0.alert_time desc 
    limit
        ?
2026-01-11 18:05:41 [http-nio-9091-exec-7] DEBUG org.hibernate.SQL - 
    select
        a1_0.id,
        a1_0.alert_level,
        a1_0.alert_time,
        a1_0.alert_type,
        a1_0.context,
        a1_0.device_id 
    from
        alert a1_0 
    left join
        devices d1_0 
            on d1_0.deviceid=a1_0.device_id 
    where
        d1_0.deviceid=? 
    order by
        a1_0.alert_time desc 
    limit
        ?
2026-01-11 18:05:41 [http-nio-9091-exec-7] DEBUG org.hibernate.SQL - 
    select
        a1_0.id,
        a1_0.alert_level,
        a1_0.alert_time,
        a1_0.alert_type,
        a1_0.context,
        a1_0.device_id 
    from
        alert a1_0 
    left join
        devices d1_0 
            on d1_0.deviceid=a1_0.device_id 
    where
        d1_0.deviceid=? 
    order by
        a1_0.alert_time desc 
    limit
        ?
2026-01-11 18:05:41 [http-nio-9091-exec-7] INFO  com.example.demo.aop.ServiceLogAspect - 【服务调用成功】AlertService.getDeviceAlertOverview，结果：[{deviceType=D4, operationalStatus=RUNNING, alertStatus=ON, latestAlertLevel=YELLOW, latestAlertTime=2025-07-13T10:05:04, location=loc1, deviceCode=001, deviceId=1, deviceName=Inoue Rin, monitorStatus=MONITORON, latestAlertContext=002}, {deviceType=DB, operationalStatus=RUNNING, alertStatus=OFF, latestAlertLevel=null, latestAlertTime=null, location=loc2, deviceCode=002, deviceId=2, deviceName=Kong Lan, monitorStatus=MONITORON, latestAlertContext=null}, {deviceType=DB, operationalStatus=OFFLINE, alertStatus=OFF, latestAlertLevel=null, latestAlertTime=null, location=loc3, deviceCode=003, deviceId=3, deviceName=Chic Kwok Yin, monitorStatus=MONITORINTERRUPT, latestAlertContext=null}, {deviceType=D4, operationalStatus=OFFLINE, alertStatus=OFF, latestAlertLevel=null, latestAlertTime=null, location=loc4, deviceCode=004, deviceId=4, deviceName=Lo Wai Lam, monitorStatus=MONITORON, latestAlertContext=null}, {deviceType=DB, operationalStatus=OFFLINE, alertStatus=OFF, latestAlertLevel=null, latestAlertTime=null, location=loc5, deviceCode=005, deviceId=5, deviceName=Saito Ayano, monitorStatus=MONITOROFF, latestAlertContext=null}]
2026-01-11 18:05:42 [http-nio-9091-exec-5] INFO  com.example.demo.aop.ServiceLogAspect - 【服务调用开始】DeviceService.getCountAll，参数：[]
2026-01-11 18:05:42 [http-nio-9091-exec-5] DEBUG org.hibernate.SQL - 
    select
        count(d1_0.deviceid) 
    from
        devices d1_0
2026-01-11 18:05:42 [http-nio-9091-exec-5] DEBUG c.b.dynamic.datasource.DynamicRoutingDataSource - dynamic-datasource switch to the primary datasource
2026-01-11 18:05:42 [http-nio-9091-exec-5] INFO  com.example.demo.aop.ServiceLogAspect - 【服务调用成功】DeviceService.getCountAll，结果：5
2026-01-11 18:05:42 [http-nio-9091-exec-6] INFO  com.example.demo.aop.ServiceLogAspect - 【服务调用开始】DeviceService.getAllDevices，参数：[]
2026-01-11 18:05:42 [http-nio-9091-exec-1] INFO  com.example.demo.aop.ServiceLogAspect - 【服务调用开始】DeviceService.getWaitCalibrationCountNow，参数：[]
2026-01-11 18:05:42 [http-nio-9091-exec-8] INFO  com.example.demo.aop.ServiceLogAspect - 【服务调用开始】AlertService.getTodayAlertCount，参数：[2026-01-11 18:05:42]
2026-01-11 18:05:42 [http-nio-9091-exec-6] DEBUG c.b.dynamic.datasource.DynamicRoutingDataSource - dynamic-datasource switch to the primary datasource
2026-01-11 18:05:42 [http-nio-9091-exec-1] DEBUG org.hibernate.SQL - 
    select
        count(d1_0.deviceid) 
    from
        devices d1_0 
    where
        d1_0.calibration_status='PENDING'
2026-01-11 18:05:42 [http-nio-9091-exec-1] DEBUG c.b.dynamic.datasource.DynamicRoutingDataSource - dynamic-datasource switch to the primary datasource
2026-01-11 18:05:42 [http-nio-9091-exec-8] DEBUG org.hibernate.SQL - 
    select
        count(a1_0.id) 
    from
        alert a1_0 
    where
        date(a1_0.alert_time)=date(?)
2026-01-11 18:05:42 [http-nio-9091-exec-1] INFO  com.example.demo.aop.ServiceLogAspect - 【服务调用成功】DeviceService.getWaitCalibrationCountNow，结果：1
2026-01-11 18:05:42 [http-nio-9091-exec-6] DEBUG org.hibernate.SQL - 
    select
        d1_0.deviceid,
        d1_0.alert_status,
        d1_0.calibration_operator,
        d1_0.calibration_status,
        d1_0.created_at,
        d1_0.device_code,
        d1_0.device_name,
        d1_0.device_type,
        d1_0.last_calibration,
        d1_0.location,
        d1_0.monitor_status,
        d1_0.next_calibration,
        d1_0.operational_status,
        d1_0.self_calibration,
        d1_0.updated_at 
    from
        devices d1_0
2026-01-11 18:05:42 [http-nio-9091-exec-8] DEBUG c.b.dynamic.datasource.DynamicRoutingDataSource - dynamic-datasource switch to the primary datasource
2026-01-11 18:05:42 [http-nio-9091-exec-8] INFO  com.example.demo.aop.ServiceLogAspect - 【服务调用成功】AlertService.getTodayAlertCount，结果：0
2026-01-11 18:05:42 [http-nio-9091-exec-6] INFO  com.example.demo.aop.ServiceLogAspect - 【服务调用成功】DeviceService.getAllDevices，结果：[com.example.demo.entity.Device@78e28fda, com.example.demo.entity.Device@22fc02d6, com.example.demo.entity.Device@1146c640, com.example.demo.entity.Device@7f7cf1f6, com.example.demo.entity.Device@138c2d9c]
2026-01-11 18:05:43 [http-nio-9091-exec-4] INFO  com.example.demo.aop.ServiceLogAspect - 【服务调用开始】DeviceService.getCountAll，参数：[]
2026-01-11 18:05:43 [http-nio-9091-exec-4] DEBUG org.hibernate.SQL - 
    select
        count(d1_0.deviceid) 
    from
        devices d1_0
2026-01-11 18:05:43 [http-nio-9091-exec-4] DEBUG c.b.dynamic.datasource.DynamicRoutingDataSource - dynamic-datasource switch to the primary datasource
2026-01-11 18:05:43 [http-nio-9091-exec-4] INFO  com.example.demo.aop.ServiceLogAspect - 【服务调用成功】DeviceService.getCountAll，结果：5
2026-01-11 18:05:43 [http-nio-9091-exec-9] INFO  com.example.demo.aop.ServiceLogAspect - 【服务调用开始】DeviceService.getWaitCalibrationCountNow，参数：[]
2026-01-11 18:05:43 [http-nio-9091-exec-2] INFO  com.example.demo.aop.ServiceLogAspect - 【服务调用开始】DeviceService.getAllDevices，参数：[]
2026-01-11 18:05:43 [http-nio-9091-exec-9] DEBUG org.hibernate.SQL - 
    select
        count(d1_0.deviceid) 
    from
        devices d1_0 
    where
        d1_0.calibration_status='PENDING'
2026-01-11 18:05:43 [http-nio-9091-exec-10] INFO  com.example.demo.aop.ServiceLogAspect - 【服务调用开始】AlertService.getTodayAlertCount，参数：[2026-01-11 18:05:43]
2026-01-11 18:05:43 [http-nio-9091-exec-2] DEBUG c.b.dynamic.datasource.DynamicRoutingDataSource - dynamic-datasource switch to the primary datasource
2026-01-11 18:05:43 [http-nio-9091-exec-9] DEBUG c.b.dynamic.datasource.DynamicRoutingDataSource - dynamic-datasource switch to the primary datasource
2026-01-11 18:05:43 [http-nio-9091-exec-10] DEBUG org.hibernate.SQL - 
    select
        count(a1_0.id) 
    from
        alert a1_0 
    where
        date(a1_0.alert_time)=date(?)
2026-01-11 18:05:43 [http-nio-9091-exec-9] INFO  com.example.demo.aop.ServiceLogAspect - 【服务调用成功】DeviceService.getWaitCalibrationCountNow，结果：1
2026-01-11 18:05:43 [http-nio-9091-exec-2] DEBUG org.hibernate.SQL - 
    select
        d1_0.deviceid,
        d1_0.alert_status,
        d1_0.calibration_operator,
        d1_0.calibration_status,
        d1_0.created_at,
        d1_0.device_code,
        d1_0.device_name,
        d1_0.device_type,
        d1_0.last_calibration,
        d1_0.location,
        d1_0.monitor_status,
        d1_0.next_calibration,
        d1_0.operational_status,
        d1_0.self_calibration,
        d1_0.updated_at 
    from
        devices d1_0
2026-01-11 18:05:43 [http-nio-9091-exec-10] DEBUG c.b.dynamic.datasource.DynamicRoutingDataSource - dynamic-datasource switch to the primary datasource
2026-01-11 18:05:43 [http-nio-9091-exec-10] INFO  com.example.demo.aop.ServiceLogAspect - 【服务调用成功】AlertService.getTodayAlertCount，结果：0
2026-01-11 18:05:43 [http-nio-9091-exec-2] INFO  com.example.demo.aop.ServiceLogAspect - 【服务调用成功】DeviceService.getAllDevices，结果：[com.example.demo.entity.Device@723bd831, com.example.demo.entity.Device@36e457b5, com.example.demo.entity.Device@38fad2a7, com.example.demo.entity.Device@4fc63bfe, com.example.demo.entity.Device@63909867]
2026-01-11 18:05:43 [http-nio-9091-exec-3] INFO  com.example.demo.aop.ServiceLogAspect - 【服务调用开始】DeviceService.getCountAll，参数：[]
2026-01-11 18:05:43 [http-nio-9091-exec-8] INFO  com.example.demo.aop.ServiceLogAspect - 【服务调用开始】DeviceService.getAllDevices，参数：[]
2026-01-11 18:05:43 [http-nio-9091-exec-1] INFO  com.example.demo.aop.ServiceLogAspect - 【服务调用开始】InspectDataService.getLatestInspectionsWithDeviceInfo，参数：[]
2026-01-11 18:05:43 [http-nio-9091-exec-5] INFO  com.example.demo.aop.ServiceLogAspect - 【服务调用开始】DeviceService.getWaitCalibrationCountNow，参数：[]
2026-01-11 18:05:43 [http-nio-9091-exec-3] DEBUG org.hibernate.SQL - 
    select
        count(d1_0.deviceid) 
    from
        devices d1_0
2026-01-11 18:05:43 [http-nio-9091-exec-8] DEBUG c.b.dynamic.datasource.DynamicRoutingDataSource - dynamic-datasource switch to the primary datasource
2026-01-11 18:05:43 [http-nio-9091-exec-7] INFO  com.example.demo.aop.ServiceLogAspect - 【服务调用开始】AlertService.getTodayAlertCount，参数：[2026-01-11 18:05:43]
2026-01-11 18:05:43 [http-nio-9091-exec-5] DEBUG org.hibernate.SQL - 
    select
        count(d1_0.deviceid) 
    from
        devices d1_0 
    where
        d1_0.calibration_status='PENDING'
2026-01-11 18:05:43 [http-nio-9091-exec-3] DEBUG c.b.dynamic.datasource.DynamicRoutingDataSource - dynamic-datasource switch to the primary datasource
2026-01-11 18:05:43 [http-nio-9091-exec-7] DEBUG org.hibernate.SQL - 
    select
        count(a1_0.id) 
    from
        alert a1_0 
    where
        date(a1_0.alert_time)=date(?)
2026-01-11 18:05:43 [http-nio-9091-exec-8] DEBUG org.hibernate.SQL - 
    select
        d1_0.deviceid,
        d1_0.alert_status,
        d1_0.calibration_operator,
        d1_0.calibration_status,
        d1_0.created_at,
        d1_0.device_code,
        d1_0.device_name,
        d1_0.device_type,
        d1_0.last_calibration,
        d1_0.location,
        d1_0.monitor_status,
        d1_0.next_calibration,
        d1_0.operational_status,
        d1_0.self_calibration,
        d1_0.updated_at 
    from
        devices d1_0
2026-01-11 18:05:43 [http-nio-9091-exec-1] DEBUG org.hibernate.SQL - 
    select
        id1_0.data_id,
        id1_0.batch_no,
        id1_0.create_time,
        d1_0.deviceid,
        d1_0.alert_status,
        d1_0.calibration_operator,
        d1_0.calibration_status,
        d1_0.created_at,
        d1_0.device_code,
        d1_0.device_name,
        d1_0.device_type,
        d1_0.last_calibration,
        d1_0.location,
        d1_0.monitor_status,
        d1_0.next_calibration,
        d1_0.operational_status,
        d1_0.self_calibration,
        d1_0.updated_at,
        id1_0.diameter,
        id1_0.friability,
        id1_0.hardness,
        id1_0.inspect_time,
        id1_0.is_valid,
        id1_0.product_id,
        p1_0.product_id,
        p1_0.product_name,
        p1_0.specification,
        id1_0.thickness,
        id1_0.weight 
    from
        inspection_data id1_0 
    left join
        devices d1_0 
            on d1_0.deviceid=id1_0.device_id 
    join
        product p1_0 
            on p1_0.product_id=id1_0.product_id 
    where
        id1_0.inspect_time=(
            select
                max(id2_0.inspect_time) 
            from
                inspection_data id2_0 
            where
                id2_0.device_id=id1_0.device_id 
                and id2_0.is_valid=1
        )
2026-01-11 18:05:43 [http-nio-9091-exec-5] DEBUG c.b.dynamic.datasource.DynamicRoutingDataSource - dynamic-datasource switch to the primary datasource
2026-01-11 18:05:43 [http-nio-9091-exec-3] INFO  com.example.demo.aop.ServiceLogAspect - 【服务调用成功】DeviceService.getCountAll，结果：5
2026-01-11 18:05:43 [http-nio-9091-exec-7] DEBUG c.b.dynamic.datasource.DynamicRoutingDataSource - dynamic-datasource switch to the primary datasource
2026-01-11 18:05:43 [http-nio-9091-exec-5] INFO  com.example.demo.aop.ServiceLogAspect - 【服务调用成功】DeviceService.getWaitCalibrationCountNow，结果：1
2026-01-11 18:05:43 [http-nio-9091-exec-8] INFO  com.example.demo.aop.ServiceLogAspect - 【服务调用成功】DeviceService.getAllDevices，结果：[com.example.demo.entity.Device@79598e4a, com.example.demo.entity.Device@4a3d0f8b, com.example.demo.entity.Device@640ef923, com.example.demo.entity.Device@72c24929, com.example.demo.entity.Device@47dca2e5]
2026-01-11 18:05:43 [http-nio-9091-exec-1] DEBUG c.b.dynamic.datasource.DynamicRoutingDataSource - dynamic-datasource switch to the primary datasource
2026-01-11 18:05:43 [http-nio-9091-exec-7] INFO  com.example.demo.aop.ServiceLogAspect - 【服务调用成功】AlertService.getTodayAlertCount，结果：0
2026-01-11 18:05:43 [http-nio-9091-exec-1] INFO  com.example.demo.aop.ServiceLogAspect - 【服务调用成功】InspectDataService.getLatestInspectionsWithDeviceInfo，结果：[com.example.demo.entity.InspectionData@74d76869, com.example.demo.entity.InspectionData@36f6f126]
2026-01-11 18:05:43 [http-nio-9091-exec-6] INFO  com.example.demo.aop.ServiceLogAspect - 【服务调用开始】PermissionAdminService.getAllStaff，参数：[]
2026-01-11 18:05:43 [http-nio-9091-exec-6] DEBUG c.b.dynamic.datasource.DynamicRoutingDataSource - dynamic-datasource switch to the primary datasource
2026-01-11 18:05:43 [http-nio-9091-exec-6] DEBUG org.hibernate.SQL - 
    select
        s1_0.staffid,
        s1_0.department,
        s1_0.password,
        s1_0.staffcode,
        s1_0.staffname 
    from
        staffinfo s1_0
2026-01-11 18:05:43 [http-nio-9091-exec-6] DEBUG org.hibernate.SQL - 
    select
        sr1_0.id,
        r1_0.roleid,
        r1_0.roledescription,
        r1_0.rolename,
        s1_0.staffid,
        s1_0.department,
        s1_0.password,
        s1_0.staffcode,
        s1_0.staffname 
    from
        staffrole sr1_0 
    left join
        roleinfo r1_0 
            on r1_0.roleid=sr1_0.roleid 
    left join
        staffinfo s1_0 
            on s1_0.staffid=sr1_0.staffid 
    where
        sr1_0.staffid=?
2026-01-11 18:05:43 [http-nio-9091-exec-6] DEBUG org.hibernate.SQL - 
    select
        sr1_0.id,
        r1_0.roleid,
        r1_0.roledescription,
        r1_0.rolename,
        s1_0.staffid,
        s1_0.department,
        s1_0.password,
        s1_0.staffcode,
        s1_0.staffname 
    from
        staffrole sr1_0 
    left join
        roleinfo r1_0 
            on r1_0.roleid=sr1_0.roleid 
    left join
        staffinfo s1_0 
            on s1_0.staffid=sr1_0.staffid 
    where
        sr1_0.staffid=?
2026-01-11 18:05:43 [http-nio-9091-exec-6] DEBUG org.hibernate.SQL - 
    select
        sr1_0.id,
        r1_0.roleid,
        r1_0.roledescription,
        r1_0.rolename,
        s1_0.staffid,
        s1_0.department,
        s1_0.password,
        s1_0.staffcode,
        s1_0.staffname 
    from
        staffrole sr1_0 
    left join
        roleinfo r1_0 
            on r1_0.roleid=sr1_0.roleid 
    left join
        staffinfo s1_0 
            on s1_0.staffid=sr1_0.staffid 
    where
        sr1_0.staffid=?
2026-01-11 18:05:43 [http-nio-9091-exec-6] DEBUG org.hibernate.SQL - 
    select
        sr1_0.id,
        r1_0.roleid,
        r1_0.roledescription,
        r1_0.rolename,
        s1_0.staffid,
        s1_0.department,
        s1_0.password,
        s1_0.staffcode,
        s1_0.staffname 
    from
        staffrole sr1_0 
    left join
        roleinfo r1_0 
            on r1_0.roleid=sr1_0.roleid 
    left join
        staffinfo s1_0 
            on s1_0.staffid=sr1_0.staffid 
    where
        sr1_0.staffid=?
2026-01-11 18:05:43 [http-nio-9091-exec-6] INFO  com.example.demo.aop.ServiceLogAspect - 【服务调用成功】PermissionAdminService.getAllStaff，结果：[com.example.demo.entity.Staff@4bf8d6f9, com.example.demo.entity.Staff@39e8488f, com.example.demo.entity.Staff@7131739d, com.example.demo.entity.Staff@7efe82e1]
2026-01-11 18:05:43 [http-nio-9091-exec-4] INFO  com.example.demo.aop.ServiceLogAspect - 【服务调用开始】RoleService.getAllRoles，参数：[]
2026-01-11 18:05:43 [http-nio-9091-exec-4] DEBUG c.b.dynamic.datasource.DynamicRoutingDataSource - dynamic-datasource switch to the primary datasource
2026-01-11 18:05:43 [http-nio-9091-exec-4] DEBUG org.hibernate.SQL - 
    select
        r1_0.roleid,
        r1_0.roledescription,
        r1_0.rolename 
    from
        roleinfo r1_0
2026-01-11 18:05:43 [http-nio-9091-exec-4] INFO  com.example.demo.aop.ServiceLogAspect - 【服务调用成功】RoleService.getAllRoles，结果：[com.example.demo.entity.Role@f8e282, com.example.demo.entity.Role@3a9fe044, com.example.demo.entity.Role@2b358ef8, com.example.demo.entity.Role@539de0, com.example.demo.entity.Role@745bd447]
2026-01-11 18:05:44 [http-nio-9091-exec-9] INFO  com.example.demo.aop.ServiceLogAspect - 【服务调用开始】DeviceService.getCountAll，参数：[]
2026-01-11 18:05:44 [http-nio-9091-exec-9] DEBUG org.hibernate.SQL - 
    select
        count(d1_0.deviceid) 
    from
        devices d1_0
2026-01-11 18:05:44 [http-nio-9091-exec-9] DEBUG c.b.dynamic.datasource.DynamicRoutingDataSource - dynamic-datasource switch to the primary datasource
2026-01-11 18:05:44 [http-nio-9091-exec-9] INFO  com.example.demo.aop.ServiceLogAspect - 【服务调用成功】DeviceService.getCountAll，结果：5
2026-01-11 18:05:44 [http-nio-9091-exec-10] INFO  com.example.demo.aop.ServiceLogAspect - 【服务调用开始】AlertService.getTodayAlertCount，参数：[2026-01-11 18:05:44]
2026-01-11 18:05:44 [http-nio-9091-exec-2] INFO  com.example.demo.aop.ServiceLogAspect - 【服务调用开始】DeviceService.getWaitCalibrationCountNow，参数：[]
2026-01-11 18:05:44 [http-nio-9091-exec-3] INFO  com.example.demo.aop.ServiceLogAspect - 【服务调用开始】DeviceService.getAllDevices，参数：[]
2026-01-11 18:05:44 [http-nio-9091-exec-2] DEBUG org.hibernate.SQL - 
    select
        count(d1_0.deviceid) 
    from
        devices d1_0 
    where
        d1_0.calibration_status='PENDING'
2026-01-11 18:05:44 [http-nio-9091-exec-3] DEBUG c.b.dynamic.datasource.DynamicRoutingDataSource - dynamic-datasource switch to the primary datasource
2026-01-11 18:05:44 [http-nio-9091-exec-10] DEBUG org.hibernate.SQL - 
    select
        count(a1_0.id) 
    from
        alert a1_0 
    where
        date(a1_0.alert_time)=date(?)
2026-01-11 18:05:44 [http-nio-9091-exec-2] DEBUG c.b.dynamic.datasource.DynamicRoutingDataSource - dynamic-datasource switch to the primary datasource
2026-01-11 18:05:44 [http-nio-9091-exec-5] INFO  com.example.demo.aop.ServiceLogAspect - 【服务调用开始】InspectDataService.getLatestInspectionsWithDeviceInfo，参数：[]
2026-01-11 18:05:44 [http-nio-9091-exec-3] DEBUG org.hibernate.SQL - 
    select
        d1_0.deviceid,
        d1_0.alert_status,
        d1_0.calibration_operator,
        d1_0.calibration_status,
        d1_0.created_at,
        d1_0.device_code,
        d1_0.device_name,
        d1_0.device_type,
        d1_0.last_calibration,
        d1_0.location,
        d1_0.monitor_status,
        d1_0.next_calibration,
        d1_0.operational_status,
        d1_0.self_calibration,
        d1_0.updated_at 
    from
        devices d1_0
2026-01-11 18:05:44 [http-nio-9091-exec-10] DEBUG c.b.dynamic.datasource.DynamicRoutingDataSource - dynamic-datasource switch to the primary datasource
2026-01-11 18:05:44 [http-nio-9091-exec-2] INFO  com.example.demo.aop.ServiceLogAspect - 【服务调用成功】DeviceService.getWaitCalibrationCountNow，结果：1
2026-01-11 18:05:44 [http-nio-9091-exec-10] INFO  com.example.demo.aop.ServiceLogAspect - 【服务调用成功】AlertService.getTodayAlertCount，结果：0
2026-01-11 18:05:44 [http-nio-9091-exec-5] DEBUG org.hibernate.SQL - 
    select
        id1_0.data_id,
        id1_0.batch_no,
        id1_0.create_time,
        d1_0.deviceid,
        d1_0.alert_status,
        d1_0.calibration_operator,
        d1_0.calibration_status,
        d1_0.created_at,
        d1_0.device_code,
        d1_0.device_name,
        d1_0.device_type,
        d1_0.last_calibration,
        d1_0.location,
        d1_0.monitor_status,
        d1_0.next_calibration,
        d1_0.operational_status,
        d1_0.self_calibration,
        d1_0.updated_at,
        id1_0.diameter,
        id1_0.friability,
        id1_0.hardness,
        id1_0.inspect_time,
        id1_0.is_valid,
        id1_0.product_id,
        p1_0.product_id,
        p1_0.product_name,
        p1_0.specification,
        id1_0.thickness,
        id1_0.weight 
    from
        inspection_data id1_0 
    left join
        devices d1_0 
            on d1_0.deviceid=id1_0.device_id 
    join
        product p1_0 
            on p1_0.product_id=id1_0.product_id 
    where
        id1_0.inspect_time=(
            select
                max(id2_0.inspect_time) 
            from
                inspection_data id2_0 
            where
                id2_0.device_id=id1_0.device_id 
                and id2_0.is_valid=1
        )
2026-01-11 18:05:44 [http-nio-9091-exec-3] INFO  com.example.demo.aop.ServiceLogAspect - 【服务调用成功】DeviceService.getAllDevices，结果：[com.example.demo.entity.Device@425d7c84, com.example.demo.entity.Device@4a56410, com.example.demo.entity.Device@58bab01, com.example.demo.entity.Device@1aa86698, com.example.demo.entity.Device@33388015]
2026-01-11 18:05:44 [http-nio-9091-exec-5] DEBUG c.b.dynamic.datasource.DynamicRoutingDataSource - dynamic-datasource switch to the primary datasource
2026-01-11 18:05:44 [http-nio-9091-exec-5] INFO  com.example.demo.aop.ServiceLogAspect - 【服务调用成功】InspectDataService.getLatestInspectionsWithDeviceInfo，结果：[com.example.demo.entity.InspectionData@2e44b6e1, com.example.demo.entity.InspectionData@3d0696fe]
2026-01-11 18:05:44 [http-nio-9091-exec-8] INFO  com.example.demo.aop.ServiceLogAspect - 【服务调用开始】DeviceService.getCountAll，参数：[]
2026-01-11 18:05:44 [http-nio-9091-exec-8] DEBUG org.hibernate.SQL - 
    select
        count(d1_0.deviceid) 
    from
        devices d1_0
2026-01-11 18:05:44 [http-nio-9091-exec-8] DEBUG c.b.dynamic.datasource.DynamicRoutingDataSource - dynamic-datasource switch to the primary datasource
2026-01-11 18:05:44 [http-nio-9091-exec-8] INFO  com.example.demo.aop.ServiceLogAspect - 【服务调用成功】DeviceService.getCountAll，结果：5
2026-01-11 18:05:44 [http-nio-9091-exec-7] INFO  com.example.demo.aop.ServiceLogAspect - 【服务调用开始】AlertService.getTodayAlertCount，参数：[2026-01-11 18:05:44]
2026-01-11 18:05:44 [http-nio-9091-exec-7] DEBUG org.hibernate.SQL - 
    select
        count(a1_0.id) 
    from
        alert a1_0 
    where
        date(a1_0.alert_time)=date(?)
2026-01-11 18:05:44 [http-nio-9091-exec-7] DEBUG c.b.dynamic.datasource.DynamicRoutingDataSource - dynamic-datasource switch to the primary datasource
2026-01-11 18:05:44 [http-nio-9091-exec-7] INFO  com.example.demo.aop.ServiceLogAspect - 【服务调用成功】AlertService.getTodayAlertCount，结果：0
2026-01-11 18:05:44 [http-nio-9091-exec-6] INFO  com.example.demo.aop.ServiceLogAspect - 【服务调用开始】DeviceService.getAllDevices，参数：[]
2026-01-11 18:05:44 [http-nio-9091-exec-1] INFO  com.example.demo.aop.ServiceLogAspect - 【服务调用开始】DeviceService.getWaitCalibrationCountNow，参数：[]
2026-01-11 18:05:44 [http-nio-9091-exec-6] DEBUG c.b.dynamic.datasource.DynamicRoutingDataSource - dynamic-datasource switch to the primary datasource
2026-01-11 18:05:44 [http-nio-9091-exec-1] DEBUG org.hibernate.SQL - 
    select
        count(d1_0.deviceid) 
    from
        devices d1_0 
    where
        d1_0.calibration_status='PENDING'
2026-01-11 18:05:44 [http-nio-9091-exec-1] DEBUG c.b.dynamic.datasource.DynamicRoutingDataSource - dynamic-datasource switch to the primary datasource
2026-01-11 18:05:44 [http-nio-9091-exec-1] INFO  com.example.demo.aop.ServiceLogAspect - 【服务调用成功】DeviceService.getWaitCalibrationCountNow，结果：1
2026-01-11 18:05:44 [http-nio-9091-exec-6] DEBUG org.hibernate.SQL - 
    select
        d1_0.deviceid,
        d1_0.alert_status,
        d1_0.calibration_operator,
        d1_0.calibration_status,
        d1_0.created_at,
        d1_0.device_code,
        d1_0.device_name,
        d1_0.device_type,
        d1_0.last_calibration,
        d1_0.location,
        d1_0.monitor_status,
        d1_0.next_calibration,
        d1_0.operational_status,
        d1_0.self_calibration,
        d1_0.updated_at 
    from
        devices d1_0
2026-01-11 18:05:44 [http-nio-9091-exec-6] INFO  com.example.demo.aop.ServiceLogAspect - 【服务调用成功】DeviceService.getAllDevices，结果：[com.example.demo.entity.Device@2ccd6774, com.example.demo.entity.Device@884dd51, com.example.demo.entity.Device@3c5fb60, com.example.demo.entity.Device@57f646b2, com.example.demo.entity.Device@10477dff]
2026-01-11 18:05:45 [http-nio-9091-exec-4] INFO  com.example.demo.aop.ServiceLogAspect - 【服务调用开始】DeviceService.getCountAll，参数：[]
2026-01-11 18:05:45 [http-nio-9091-exec-4] DEBUG org.hibernate.SQL - 
    select
        count(d1_0.deviceid) 
    from
        devices d1_0
2026-01-11 18:05:45 [http-nio-9091-exec-4] DEBUG c.b.dynamic.datasource.DynamicRoutingDataSource - dynamic-datasource switch to the primary datasource
2026-01-11 18:05:45 [http-nio-9091-exec-4] INFO  com.example.demo.aop.ServiceLogAspect - 【服务调用成功】DeviceService.getCountAll，结果：5
2026-01-11 18:05:45 [http-nio-9091-exec-2] INFO  com.example.demo.aop.ServiceLogAspect - 【服务调用开始】DeviceService.getWaitCalibrationCountNow，参数：[]
2026-01-11 18:05:45 [http-nio-9091-exec-9] INFO  com.example.demo.aop.ServiceLogAspect - 【服务调用开始】AlertService.getTodayAlertCount，参数：[2026-01-11 18:05:45]
2026-01-11 18:05:45 [http-nio-9091-exec-2] DEBUG org.hibernate.SQL - 
    select
        count(d1_0.deviceid) 
    from
        devices d1_0 
    where
        d1_0.calibration_status='PENDING'
2026-01-11 18:05:45 [http-nio-9091-exec-10] INFO  com.example.demo.aop.ServiceLogAspect - 【服务调用开始】DeviceService.getAllDevices，参数：[]
2026-01-11 18:05:45 [http-nio-9091-exec-10] DEBUG c.b.dynamic.datasource.DynamicRoutingDataSource - dynamic-datasource switch to the primary datasource
2026-01-11 18:05:45 [http-nio-9091-exec-2] DEBUG c.b.dynamic.datasource.DynamicRoutingDataSource - dynamic-datasource switch to the primary datasource
2026-01-11 18:05:45 [http-nio-9091-exec-9] DEBUG org.hibernate.SQL - 
    select
        count(a1_0.id) 
    from
        alert a1_0 
    where
        date(a1_0.alert_time)=date(?)
2026-01-11 18:05:45 [http-nio-9091-exec-9] DEBUG c.b.dynamic.datasource.DynamicRoutingDataSource - dynamic-datasource switch to the primary datasource
2026-01-11 18:05:45 [http-nio-9091-exec-2] INFO  com.example.demo.aop.ServiceLogAspect - 【服务调用成功】DeviceService.getWaitCalibrationCountNow，结果：1
2026-01-11 18:05:45 [http-nio-9091-exec-10] DEBUG org.hibernate.SQL - 
    select
        d1_0.deviceid,
        d1_0.alert_status,
        d1_0.calibration_operator,
        d1_0.calibration_status,
        d1_0.created_at,
        d1_0.device_code,
        d1_0.device_name,
        d1_0.device_type,
        d1_0.last_calibration,
        d1_0.location,
        d1_0.monitor_status,
        d1_0.next_calibration,
        d1_0.operational_status,
        d1_0.self_calibration,
        d1_0.updated_at 
    from
        devices d1_0
2026-01-11 18:05:45 [http-nio-9091-exec-9] INFO  com.example.demo.aop.ServiceLogAspect - 【服务调用成功】AlertService.getTodayAlertCount，结果：0
2026-01-11 18:05:45 [http-nio-9091-exec-10] INFO  com.example.demo.aop.ServiceLogAspect - 【服务调用成功】DeviceService.getAllDevices，结果：[com.example.demo.entity.Device@54c873fa, com.example.demo.entity.Device@3e10b4bd, com.example.demo.entity.Device@5b6d5817, com.example.demo.entity.Device@43f7ba15, com.example.demo.entity.Device@54b75632]
2026-01-11 18:05:45 [http-nio-9091-exec-3] INFO  com.example.demo.aop.ServiceLogAspect - 【服务调用开始】DeviceService.getCountAll，参数：[]
2026-01-11 18:05:45 [http-nio-9091-exec-3] DEBUG org.hibernate.SQL - 
    select
        count(d1_0.deviceid) 
    from
        devices d1_0
2026-01-11 18:05:45 [http-nio-9091-exec-3] DEBUG c.b.dynamic.datasource.DynamicRoutingDataSource - dynamic-datasource switch to the primary datasource
2026-01-11 18:05:45 [http-nio-9091-exec-3] INFO  com.example.demo.aop.ServiceLogAspect - 【服务调用成功】DeviceService.getCountAll，结果：5
2026-01-11 18:05:45 [http-nio-9091-exec-5] INFO  com.example.demo.aop.ServiceLogAspect - 【服务调用开始】DeviceService.getWaitCalibrationCountNow，参数：[]
2026-01-11 18:05:45 [http-nio-9091-exec-5] DEBUG org.hibernate.SQL - 
    select
        count(d1_0.deviceid) 
    from
        devices d1_0 
    where
        d1_0.calibration_status='PENDING'
2026-01-11 18:05:45 [http-nio-9091-exec-5] DEBUG c.b.dynamic.datasource.DynamicRoutingDataSource - dynamic-datasource switch to the primary datasource
2026-01-11 18:05:45 [http-nio-9091-exec-7] INFO  com.example.demo.aop.ServiceLogAspect - 【服务调用开始】AlertService.getDeviceAlertOverview，参数：[]
2026-01-11 18:05:45 [http-nio-9091-exec-8] INFO  com.example.demo.aop.ServiceLogAspect - 【服务调用开始】AlertService.getTodayAlertCount，参数：[2026-01-11 18:05:45]
2026-01-11 18:05:45 [http-nio-9091-exec-7] DEBUG c.b.dynamic.datasource.DynamicRoutingDataSource - dynamic-datasource switch to the primary datasource
2026-01-11 18:05:45 [http-nio-9091-exec-1] INFO  com.example.demo.aop.ServiceLogAspect - 【服务调用开始】AlertService.getAlertDetailsByTimeRange，参数：[2026-01-04T02:05, 2026-01-11T02:05, null, 0, 50]
2026-01-11 18:05:45 [http-nio-9091-exec-5] INFO  com.example.demo.aop.ServiceLogAspect - 【服务调用成功】DeviceService.getWaitCalibrationCountNow，结果：1
2026-01-11 18:05:45 [http-nio-9091-exec-1] DEBUG org.hibernate.SQL - 
    select
        a1_0.alert_time,
        d1_0.device_code,
        d1_0.device_name,
        d1_0.device_type,
        d1_0.location,
        d1_0.monitor_status,
        a1_0.alert_type,
        a1_0.alert_level,
        a1_0.context 
    from
        alert a1_0 
    join
        devices d1_0 
            on d1_0.deviceid=a1_0.device_id 
    where
        (
            ? is null 
            or a1_0.alert_time>=?
        ) 
        and (
            ? is null 
            or a1_0.alert_time<=?
        ) 
        and (
            ? is null 
            or d1_0.device_code=?
        ) 
    order by
        a1_0.alert_time desc 
    limit
        ?
2026-01-11 18:05:45 [http-nio-9091-exec-8] DEBUG org.hibernate.SQL - 
    select
        count(a1_0.id) 
    from
        alert a1_0 
    where
        date(a1_0.alert_time)=date(?)
2026-01-11 18:05:45 [http-nio-9091-exec-7] DEBUG org.hibernate.SQL - 
    select
        d1_0.deviceid,
        d1_0.alert_status,
        d1_0.calibration_operator,
        d1_0.calibration_status,
        d1_0.created_at,
        d1_0.device_code,
        d1_0.device_name,
        d1_0.device_type,
        d1_0.last_calibration,
        d1_0.location,
        d1_0.monitor_status,
        d1_0.next_calibration,
        d1_0.operational_status,
        d1_0.self_calibration,
        d1_0.updated_at 
    from
        devices d1_0
2026-01-11 18:05:45 [http-nio-9091-exec-1] DEBUG c.b.dynamic.datasource.DynamicRoutingDataSource - dynamic-datasource switch to the primary datasource
2026-01-11 18:05:45 [http-nio-9091-exec-8] DEBUG c.b.dynamic.datasource.DynamicRoutingDataSource - dynamic-datasource switch to the primary datasource
2026-01-11 18:05:45 [http-nio-9091-exec-8] INFO  com.example.demo.aop.ServiceLogAspect - 【服务调用成功】AlertService.getTodayAlertCount，结果：0
2026-01-11 18:05:45 [http-nio-9091-exec-1] INFO  com.example.demo.aop.ServiceLogAspect - 【服务调用成功】AlertService.getAlertDetailsByTimeRange，结果：{pageSize=50, currentPage=0, totalPages=0, totalElements=0, content=[]}
2026-01-11 18:05:45 [http-nio-9091-exec-7] DEBUG org.hibernate.SQL - 
    select
        a1_0.id,
        a1_0.alert_level,
        a1_0.alert_time,
        a1_0.alert_type,
        a1_0.context,
        a1_0.device_id 
    from
        alert a1_0 
    left join
        devices d1_0 
            on d1_0.deviceid=a1_0.device_id 
    where
        d1_0.deviceid=? 
    order by
        a1_0.alert_time desc 
    limit
        ?
2026-01-11 18:05:45 [http-nio-9091-exec-7] DEBUG org.hibernate.SQL - 
    select
        a1_0.id,
        a1_0.alert_level,
        a1_0.alert_time,
        a1_0.alert_type,
        a1_0.context,
        a1_0.device_id 
    from
        alert a1_0 
    left join
        devices d1_0 
            on d1_0.deviceid=a1_0.device_id 
    where
        d1_0.deviceid=? 
    order by
        a1_0.alert_time desc 
    limit
        ?
2026-01-11 18:05:45 [http-nio-9091-exec-7] DEBUG org.hibernate.SQL - 
    select
        a1_0.id,
        a1_0.alert_level,
        a1_0.alert_time,
        a1_0.alert_type,
        a1_0.context,
        a1_0.device_id 
    from
        alert a1_0 
    left join
        devices d1_0 
            on d1_0.deviceid=a1_0.device_id 
    where
        d1_0.deviceid=? 
    order by
        a1_0.alert_time desc 
    limit
        ?
2026-01-11 18:05:45 [http-nio-9091-exec-7] DEBUG org.hibernate.SQL - 
    select
        a1_0.id,
        a1_0.alert_level,
        a1_0.alert_time,
        a1_0.alert_type,
        a1_0.context,
        a1_0.device_id 
    from
        alert a1_0 
    left join
        devices d1_0 
            on d1_0.deviceid=a1_0.device_id 
    where
        d1_0.deviceid=? 
    order by
        a1_0.alert_time desc 
    limit
        ?
2026-01-11 18:05:45 [http-nio-9091-exec-7] DEBUG org.hibernate.SQL - 
    select
        a1_0.id,
        a1_0.alert_level,
        a1_0.alert_time,
        a1_0.alert_type,
        a1_0.context,
        a1_0.device_id 
    from
        alert a1_0 
    left join
        devices d1_0 
            on d1_0.deviceid=a1_0.device_id 
    where
        d1_0.deviceid=? 
    order by
        a1_0.alert_time desc 
    limit
        ?
2026-01-11 18:05:45 [http-nio-9091-exec-7] INFO  com.example.demo.aop.ServiceLogAspect - 【服务调用成功】AlertService.getDeviceAlertOverview，结果：[{deviceType=D4, operationalStatus=RUNNING, alertStatus=ON, latestAlertLevel=YELLOW, latestAlertTime=2025-07-13T10:05:04, location=loc1, deviceCode=001, deviceId=1, deviceName=Inoue Rin, monitorStatus=MONITORON, latestAlertContext=002}, {deviceType=DB, operationalStatus=RUNNING, alertStatus=OFF, latestAlertLevel=null, latestAlertTime=null, location=loc2, deviceCode=002, deviceId=2, deviceName=Kong Lan, monitorStatus=MONITORON, latestAlertContext=null}, {deviceType=DB, operationalStatus=OFFLINE, alertStatus=OFF, latestAlertLevel=null, latestAlertTime=null, location=loc3, deviceCode=003, deviceId=3, deviceName=Chic Kwok Yin, monitorStatus=MONITORINTERRUPT, latestAlertContext=null}, {deviceType=D4, operationalStatus=OFFLINE, alertStatus=OFF, latestAlertLevel=null, latestAlertTime=null, location=loc4, deviceCode=004, deviceId=4, deviceName=Lo Wai Lam, monitorStatus=MONITORON, latestAlertContext=null}, {deviceType=DB, operationalStatus=OFFLINE, alertStatus=OFF, latestAlertLevel=null, latestAlertTime=null, location=loc5, deviceCode=005, deviceId=5, deviceName=Saito Ayano, monitorStatus=MONITOROFF, latestAlertContext=null}]
2026-01-11 18:05:45 [http-nio-9091-exec-6] INFO  com.example.demo.aop.ServiceLogAspect - 【服务调用开始】DeviceService.getCountAll，参数：[]
2026-01-11 18:05:45 [http-nio-9091-exec-6] DEBUG org.hibernate.SQL - 
    select
        count(d1_0.deviceid) 
    from
        devices d1_0
2026-01-11 18:05:45 [http-nio-9091-exec-6] DEBUG c.b.dynamic.datasource.DynamicRoutingDataSource - dynamic-datasource switch to the primary datasource
2026-01-11 18:05:45 [http-nio-9091-exec-6] INFO  com.example.demo.aop.ServiceLogAspect - 【服务调用成功】DeviceService.getCountAll，结果：5
2026-01-11 18:05:45 [http-nio-9091-exec-2] INFO  com.example.demo.aop.ServiceLogAspect - 【服务调用开始】DeviceService.getWaitCalibrationCountNow，参数：[]
2026-01-11 18:05:45 [http-nio-9091-exec-2] DEBUG org.hibernate.SQL - 
    select
        count(d1_0.deviceid) 
    from
        devices d1_0 
    where
        d1_0.calibration_status='PENDING'
2026-01-11 18:05:45 [http-nio-9091-exec-9] INFO  com.example.demo.aop.ServiceLogAspect - 【服务调用开始】DeviceService.getAllDevices，参数：[]
2026-01-11 18:05:45 [http-nio-9091-exec-4] INFO  com.example.demo.aop.ServiceLogAspect - 【服务调用开始】AlertService.getTodayAlertCount，参数：[2026-01-11 18:05:45]
2026-01-11 18:05:45 [http-nio-9091-exec-10] INFO  com.example.demo.aop.ServiceLogAspect - 【服务调用开始】InspectDataService.getLatestInspectionsWithDeviceInfo，参数：[]
2026-01-11 18:05:45 [http-nio-9091-exec-9] DEBUG c.b.dynamic.datasource.DynamicRoutingDataSource - dynamic-datasource switch to the primary datasource
2026-01-11 18:05:45 [http-nio-9091-exec-2] DEBUG c.b.dynamic.datasource.DynamicRoutingDataSource - dynamic-datasource switch to the primary datasource
2026-01-11 18:05:45 [http-nio-9091-exec-4] DEBUG org.hibernate.SQL - 
    select
        count(a1_0.id) 
    from
        alert a1_0 
    where
        date(a1_0.alert_time)=date(?)
2026-01-11 18:05:45 [http-nio-9091-exec-2] INFO  com.example.demo.aop.ServiceLogAspect - 【服务调用成功】DeviceService.getWaitCalibrationCountNow，结果：1
2026-01-11 18:05:45 [http-nio-9091-exec-9] DEBUG org.hibernate.SQL - 
    select
        d1_0.deviceid,
        d1_0.alert_status,
        d1_0.calibration_operator,
        d1_0.calibration_status,
        d1_0.created_at,
        d1_0.device_code,
        d1_0.device_name,
        d1_0.device_type,
        d1_0.last_calibration,
        d1_0.location,
        d1_0.monitor_status,
        d1_0.next_calibration,
        d1_0.operational_status,
        d1_0.self_calibration,
        d1_0.updated_at 
    from
        devices d1_0
2026-01-11 18:05:45 [http-nio-9091-exec-10] DEBUG org.hibernate.SQL - 
    select
        id1_0.data_id,
        id1_0.batch_no,
        id1_0.create_time,
        d1_0.deviceid,
        d1_0.alert_status,
        d1_0.calibration_operator,
        d1_0.calibration_status,
        d1_0.created_at,
        d1_0.device_code,
        d1_0.device_name,
        d1_0.device_type,
        d1_0.last_calibration,
        d1_0.location,
        d1_0.monitor_status,
        d1_0.next_calibration,
        d1_0.operational_status,
        d1_0.self_calibration,
        d1_0.updated_at,
        id1_0.diameter,
        id1_0.friability,
        id1_0.hardness,
        id1_0.inspect_time,
        id1_0.is_valid,
        id1_0.product_id,
        p1_0.product_id,
        p1_0.product_name,
        p1_0.specification,
        id1_0.thickness,
        id1_0.weight 
    from
        inspection_data id1_0 
    left join
        devices d1_0 
            on d1_0.deviceid=id1_0.device_id 
    join
        product p1_0 
            on p1_0.product_id=id1_0.product_id 
    where
        id1_0.inspect_time=(
            select
                max(id2_0.inspect_time) 
            from
                inspection_data id2_0 
            where
                id2_0.device_id=id1_0.device_id 
                and id2_0.is_valid=1
        )
2026-01-11 18:05:45 [http-nio-9091-exec-4] DEBUG c.b.dynamic.datasource.DynamicRoutingDataSource - dynamic-datasource switch to the primary datasource
2026-01-11 18:05:45 [http-nio-9091-exec-4] INFO  com.example.demo.aop.ServiceLogAspect - 【服务调用成功】AlertService.getTodayAlertCount，结果：0
2026-01-11 18:05:45 [http-nio-9091-exec-10] DEBUG c.b.dynamic.datasource.DynamicRoutingDataSource - dynamic-datasource switch to the primary datasource
2026-01-11 18:05:45 [http-nio-9091-exec-9] INFO  com.example.demo.aop.ServiceLogAspect - 【服务调用成功】DeviceService.getAllDevices，结果：[com.example.demo.entity.Device@2412620e, com.example.demo.entity.Device@5e776dff, com.example.demo.entity.Device@43dd58de, com.example.demo.entity.Device@33994650, com.example.demo.entity.Device@42c503f]
2026-01-11 18:05:45 [http-nio-9091-exec-10] INFO  com.example.demo.aop.ServiceLogAspect - 【服务调用成功】InspectDataService.getLatestInspectionsWithDeviceInfo，结果：[com.example.demo.entity.InspectionData@5b3d1fbd, com.example.demo.entity.InspectionData@751a4ca0]
2026-01-11 18:05:46 [http-nio-9091-exec-3] INFO  com.example.demo.aop.ServiceLogAspect - 【服务调用开始】AlertService.getAlertDetails，参数：[0, 10]
2026-01-11 18:05:46 [http-nio-9091-exec-3] DEBUG org.hibernate.SQL - 
    select
        a1_0.alert_time,
        d1_0.device_code,
        d1_0.device_name,
        d1_0.device_type,
        d1_0.location,
        d1_0.monitor_status,
        a1_0.alert_type,
        a1_0.alert_level,
        a1_0.context 
    from
        alert a1_0 
    join
        devices d1_0 
            on d1_0.deviceid=a1_0.device_id 
    order by
        a1_0.alert_time desc 
    limit
        ?
2026-01-11 18:05:46 [http-nio-9091-exec-3] DEBUG c.b.dynamic.datasource.DynamicRoutingDataSource - dynamic-datasource switch to the primary datasource
2026-01-11 18:05:46 [http-nio-9091-exec-5] INFO  com.example.demo.aop.ServiceLogAspect - 【服务调用开始】AlertService.getWeekAlertSummary，参数：[2026-01-11 10:05:46]
2026-01-11 18:05:46 [http-nio-9091-exec-3] INFO  com.example.demo.aop.ServiceLogAspect - 【服务调用成功】AlertService.getAlertDetails，结果：{pageSize=10, currentPage=0, totalPages=1, totalElements=3, content=[{deviceType=D4, alertType=DRUG, location=loc1, context=002, monitorStatus=MONITORON, deviceCode=001, alertTime=2025-07-13T10:05:04, alertLevel=YELLOW, deviceName=Inoue Rin}, {deviceType=D4, alertType=DRUG, location=loc1, context=001, monitorStatus=MONITORON, deviceCode=001, alertTime=2025-07-13T10:05:01, alertLevel=RED, deviceName=Inoue Rin}, {deviceType=D4, alertType=MECHINE, location=loc1, context=000, monitorStatus=MONITORON, deviceCode=001, alertTime=2025-07-11T10:04:58, alertLevel=YELLOW, deviceName=Inoue Rin}]}
2026-01-11 18:05:46 [http-nio-9091-exec-5] DEBUG org.hibernate.SQL - 
    select
        count(a1_0.id) 
    from
        alert a1_0 
    where
        yearweek(a1_0.alert_time, 1)=yearweek(?, 1) 
        and a1_0.alert_level='YELLOW'
2026-01-11 18:05:46 [http-nio-9091-exec-1] INFO  com.example.demo.aop.ServiceLogAspect - 【服务调用开始】DeviceService.getMonitorOnCountNow，参数：[]
2026-01-11 18:05:46 [http-nio-9091-exec-8] INFO  com.example.demo.aop.ServiceLogAspect - 【服务调用开始】DeviceService.getDeviceByStaffCode，参数：[admin]
2026-01-11 18:05:46 [http-nio-9091-exec-1] DEBUG org.hibernate.SQL - 
    select
        count(d1_0.deviceid) 
    from
        devices d1_0 
    where
        d1_0.monitor_status='MONITORON'
2026-01-11 18:05:46 [http-nio-9091-exec-5] DEBUG c.b.dynamic.datasource.DynamicRoutingDataSource - dynamic-datasource switch to the primary datasource
2026-01-11 18:05:46 [http-nio-9091-exec-8] DEBUG org.hibernate.SQL - 
    select
        d1_0.deviceid,
        d1_0.alert_status,
        d1_0.calibration_operator,
        d1_0.calibration_status,
        d1_0.created_at,
        d1_0.device_code,
        d1_0.device_name,
        d1_0.device_type,
        d1_0.last_calibration,
        d1_0.location,
        d1_0.monitor_status,
        d1_0.next_calibration,
        d1_0.operational_status,
        d1_0.self_calibration,
        d1_0.updated_at 
    from
        staffdevice sd1_0 
    join
        devices d1_0 
            on d1_0.device_code=sd1_0.device_code 
    where
        sd1_0.staffcode=?
2026-01-11 18:05:46 [http-nio-9091-exec-1] DEBUG c.b.dynamic.datasource.DynamicRoutingDataSource - dynamic-datasource switch to the primary datasource
2026-01-11 18:05:46 [http-nio-9091-exec-5] DEBUG org.hibernate.SQL - 
    select
        count(a1_0.id) 
    from
        alert a1_0 
    where
        yearweek(a1_0.alert_time, 1)=yearweek(?, 1) 
        and a1_0.alert_level='RED'
2026-01-11 18:05:46 [http-nio-9091-exec-8] DEBUG c.b.dynamic.datasource.DynamicRoutingDataSource - dynamic-datasource switch to the primary datasource
2026-01-11 18:05:46 [http-nio-9091-exec-1] INFO  com.example.demo.aop.ServiceLogAspect - 【服务调用成功】DeviceService.getMonitorOnCountNow，结果：3
2026-01-11 18:05:46 [http-nio-9091-exec-1] INFO  com.example.demo.aop.ServiceLogAspect - 【服务调用开始】DeviceService.getAlertOnCountNow，参数：[]
2026-01-11 18:05:46 [http-nio-9091-exec-8] INFO  com.example.demo.aop.ServiceLogAspect - 【服务调用成功】DeviceService.getDeviceByStaffCode，结果：[]
2026-01-11 18:05:46 [http-nio-9091-exec-5] DEBUG org.hibernate.SQL - 
    select
        count(a1_0.id) 
    from
        alert a1_0 
    where
        yearweek(a1_0.alert_time, 1)=yearweek(?, 1) 
        and a1_0.alert_type='MECHINE'
2026-01-11 18:05:46 [http-nio-9091-exec-1] DEBUG org.hibernate.SQL - 
    select
        count(d1_0.deviceid) 
    from
        devices d1_0 
    where
        d1_0.alert_status='ON'
2026-01-11 18:05:46 [http-nio-9091-exec-5] INFO  com.example.demo.aop.ServiceLogAspect - 【服务调用成功】AlertService.getWeekAlertSummary，结果：{redAlert=0, yellowAlert=0, machineFailure=0}
2026-01-11 18:05:46 [http-nio-9091-exec-1] INFO  com.example.demo.aop.ServiceLogAspect - 【服务调用成功】DeviceService.getAlertOnCountNow，结果：1
2026-01-11 18:05:46 [http-nio-9091-exec-1] INFO  com.example.demo.aop.ServiceLogAspect - 【服务调用开始】DeviceService.getOperationalOnCountNow，参数：[]
2026-01-11 18:05:46 [http-nio-9091-exec-1] DEBUG org.hibernate.SQL - 
    select
        count(d1_0.deviceid) 
    from
        devices d1_0 
    where
        d1_0.operational_status='RUNNING'
2026-01-11 18:05:46 [http-nio-9091-exec-1] INFO  com.example.demo.aop.ServiceLogAspect - 【服务调用成功】DeviceService.getOperationalOnCountNow，结果：2
2026-01-11 18:05:46 [http-nio-9091-exec-1] INFO  com.example.demo.aop.ServiceLogAspect - 【服务调用开始】DeviceService.getOperationalOfflineCountNow，参数：[]
2026-01-11 18:05:46 [http-nio-9091-exec-1] DEBUG org.hibernate.SQL - 
    select
        count(d1_0.deviceid) 
    from
        devices d1_0 
    where
        d1_0.operational_status='OFFLINE'
2026-01-11 18:05:46 [http-nio-9091-exec-1] INFO  com.example.demo.aop.ServiceLogAspect - 【服务调用成功】DeviceService.getOperationalOfflineCountNow，结果：3
2026-01-11 18:06:06 [http-nio-9091-exec-7] INFO  com.example.demo.aop.ServiceLogAspect - 【服务调用开始】AlertService.getTodayAlertCount，参数：[2026-01-11 18:06:06]
2026-01-11 18:06:06 [http-nio-9091-exec-6] INFO  com.example.demo.aop.ServiceLogAspect - 【服务调用开始】DeviceService.getCountAll，参数：[]
2026-01-11 18:06:06 [http-nio-9091-exec-6] DEBUG org.hibernate.SQL - 
    select
        count(d1_0.deviceid) 
    from
        devices d1_0
2026-01-11 18:06:06 [http-nio-9091-exec-6] DEBUG c.b.dynamic.datasource.DynamicRoutingDataSource - dynamic-datasource switch to the primary datasource
2026-01-11 18:06:06 [http-nio-9091-exec-7] DEBUG org.hibernate.SQL - 
    select
        count(a1_0.id) 
    from
        alert a1_0 
    where
        date(a1_0.alert_time)=date(?)
2026-01-11 18:06:06 [http-nio-9091-exec-2] INFO  com.example.demo.aop.ServiceLogAspect - 【服务调用开始】DeviceService.getWaitCalibrationCountNow，参数：[]
2026-01-11 18:06:06 [http-nio-9091-exec-6] INFO  com.example.demo.aop.ServiceLogAspect - 【服务调用成功】DeviceService.getCountAll，结果：5
2026-01-11 18:06:06 [http-nio-9091-exec-7] DEBUG c.b.dynamic.datasource.DynamicRoutingDataSource - dynamic-datasource switch to the primary datasource
2026-01-11 18:06:06 [http-nio-9091-exec-2] DEBUG org.hibernate.SQL - 
    select
        count(d1_0.deviceid) 
    from
        devices d1_0 
    where
        d1_0.calibration_status='PENDING'
2026-01-11 18:06:06 [http-nio-9091-exec-2] DEBUG c.b.dynamic.datasource.DynamicRoutingDataSource - dynamic-datasource switch to the primary datasource
2026-01-11 18:06:06 [http-nio-9091-exec-7] INFO  com.example.demo.aop.ServiceLogAspect - 【服务调用成功】AlertService.getTodayAlertCount，结果：0
2026-01-11 18:06:06 [http-nio-9091-exec-2] INFO  com.example.demo.aop.ServiceLogAspect - 【服务调用成功】DeviceService.getWaitCalibrationCountNow，结果：1
2026-01-11 18:06:06 [http-nio-9091-exec-9] INFO  com.example.demo.aop.ServiceLogAspect - 【服务调用开始】InspectDataService.getLatestInspectionsWithDeviceInfo，参数：[]
2026-01-11 18:06:06 [http-nio-9091-exec-4] INFO  com.example.demo.aop.ServiceLogAspect - 【服务调用开始】DeviceService.getAllDevices，参数：[]
2026-01-11 18:06:06 [http-nio-9091-exec-4] DEBUG c.b.dynamic.datasource.DynamicRoutingDataSource - dynamic-datasource switch to the primary datasource
2026-01-11 18:06:06 [http-nio-9091-exec-4] DEBUG org.hibernate.SQL - 
    select
        d1_0.deviceid,
        d1_0.alert_status,
        d1_0.calibration_operator,
        d1_0.calibration_status,
        d1_0.created_at,
        d1_0.device_code,
        d1_0.device_name,
        d1_0.device_type,
        d1_0.last_calibration,
        d1_0.location,
        d1_0.monitor_status,
        d1_0.next_calibration,
        d1_0.operational_status,
        d1_0.self_calibration,
        d1_0.updated_at 
    from
        devices d1_0
2026-01-11 18:06:06 [http-nio-9091-exec-9] DEBUG org.hibernate.SQL - 
    select
        id1_0.data_id,
        id1_0.batch_no,
        id1_0.create_time,
        d1_0.deviceid,
        d1_0.alert_status,
        d1_0.calibration_operator,
        d1_0.calibration_status,
        d1_0.created_at,
        d1_0.device_code,
        d1_0.device_name,
        d1_0.device_type,
        d1_0.last_calibration,
        d1_0.location,
        d1_0.monitor_status,
        d1_0.next_calibration,
        d1_0.operational_status,
        d1_0.self_calibration,
        d1_0.updated_at,
        id1_0.diameter,
        id1_0.friability,
        id1_0.hardness,
        id1_0.inspect_time,
        id1_0.is_valid,
        id1_0.product_id,
        p1_0.product_id,
        p1_0.product_name,
        p1_0.specification,
        id1_0.thickness,
        id1_0.weight 
    from
        inspection_data id1_0 
    left join
        devices d1_0 
            on d1_0.deviceid=id1_0.device_id 
    join
        product p1_0 
            on p1_0.product_id=id1_0.product_id 
    where
        id1_0.inspect_time=(
            select
                max(id2_0.inspect_time) 
            from
                inspection_data id2_0 
            where
                id2_0.device_id=id1_0.device_id 
                and id2_0.is_valid=1
        )
2026-01-11 18:06:06 [http-nio-9091-exec-9] DEBUG c.b.dynamic.datasource.DynamicRoutingDataSource - dynamic-datasource switch to the primary datasource
2026-01-11 18:06:06 [http-nio-9091-exec-4] INFO  com.example.demo.aop.ServiceLogAspect - 【服务调用成功】DeviceService.getAllDevices，结果：[com.example.demo.entity.Device@1bafc4d8, com.example.demo.entity.Device@118aa3a7, com.example.demo.entity.Device@441e210a, com.example.demo.entity.Device@65b7b4da, com.example.demo.entity.Device@db35b0]
2026-01-11 18:06:06 [http-nio-9091-exec-9] INFO  com.example.demo.aop.ServiceLogAspect - 【服务调用成功】InspectDataService.getLatestInspectionsWithDeviceInfo，结果：[com.example.demo.entity.InspectionData@52b6359f, com.example.demo.entity.InspectionData@3e49deef]
2026-01-11 18:06:10 [http-nio-9091-exec-8] INFO  com.example.demo.aop.ServiceLogAspect - 【服务调用开始】DeviceService.getDeviceByStaffCode，参数：[admin]
2026-01-11 18:06:10 [http-nio-9091-exec-3] INFO  com.example.demo.aop.ServiceLogAspect - 【服务调用开始】AlertService.getAlertDetails，参数：[0, 10]
2026-01-11 18:06:10 [http-nio-9091-exec-10] INFO  com.example.demo.aop.ServiceLogAspect - 【服务调用开始】AlertService.getWeekAlertSummary，参数：[2026-01-11 10:06:10]
2026-01-11 18:06:10 [http-nio-9091-exec-3] DEBUG org.hibernate.SQL - 
    select
        a1_0.alert_time,
        d1_0.device_code,
        d1_0.device_name,
        d1_0.device_type,
        d1_0.location,
        d1_0.monitor_status,
        a1_0.alert_type,
        a1_0.alert_level,
        a1_0.context 
    from
        alert a1_0 
    join
        devices d1_0 
            on d1_0.deviceid=a1_0.device_id 
    order by
        a1_0.alert_time desc 
    limit
        ?
2026-01-11 18:06:10 [http-nio-9091-exec-8] DEBUG org.hibernate.SQL - 
    select
        d1_0.deviceid,
        d1_0.alert_status,
        d1_0.calibration_operator,
        d1_0.calibration_status,
        d1_0.created_at,
        d1_0.device_code,
        d1_0.device_name,
        d1_0.device_type,
        d1_0.last_calibration,
        d1_0.location,
        d1_0.monitor_status,
        d1_0.next_calibration,
        d1_0.operational_status,
        d1_0.self_calibration,
        d1_0.updated_at 
    from
        staffdevice sd1_0 
    join
        devices d1_0 
            on d1_0.device_code=sd1_0.device_code 
    where
        sd1_0.staffcode=?
2026-01-11 18:06:10 [http-nio-9091-exec-10] DEBUG org.hibernate.SQL - 
    select
        count(a1_0.id) 
    from
        alert a1_0 
    where
        yearweek(a1_0.alert_time, 1)=yearweek(?, 1) 
        and a1_0.alert_level='YELLOW'
2026-01-11 18:06:10 [http-nio-9091-exec-5] INFO  com.example.demo.aop.ServiceLogAspect - 【服务调用开始】DeviceService.getMonitorOnCountNow，参数：[]
2026-01-11 18:06:10 [http-nio-9091-exec-3] DEBUG c.b.dynamic.datasource.DynamicRoutingDataSource - dynamic-datasource switch to the primary datasource
2026-01-11 18:06:10 [http-nio-9091-exec-8] DEBUG c.b.dynamic.datasource.DynamicRoutingDataSource - dynamic-datasource switch to the primary datasource
2026-01-11 18:06:10 [http-nio-9091-exec-10] DEBUG c.b.dynamic.datasource.DynamicRoutingDataSource - dynamic-datasource switch to the primary datasource
2026-01-11 18:06:10 [http-nio-9091-exec-5] DEBUG org.hibernate.SQL - 
    select
        count(d1_0.deviceid) 
    from
        devices d1_0 
    where
        d1_0.monitor_status='MONITORON'
2026-01-11 18:06:10 [http-nio-9091-exec-8] INFO  com.example.demo.aop.ServiceLogAspect - 【服务调用成功】DeviceService.getDeviceByStaffCode，结果：[]
2026-01-11 18:06:10 [http-nio-9091-exec-10] DEBUG org.hibernate.SQL - 
    select
        count(a1_0.id) 
    from
        alert a1_0 
    where
        yearweek(a1_0.alert_time, 1)=yearweek(?, 1) 
        and a1_0.alert_level='RED'
2026-01-11 18:06:10 [http-nio-9091-exec-3] INFO  com.example.demo.aop.ServiceLogAspect - 【服务调用成功】AlertService.getAlertDetails，结果：{pageSize=10, currentPage=0, totalPages=1, totalElements=3, content=[{deviceType=D4, alertType=DRUG, location=loc1, context=002, monitorStatus=MONITORON, deviceCode=001, alertTime=2025-07-13T10:05:04, alertLevel=YELLOW, deviceName=Inoue Rin}, {deviceType=D4, alertType=DRUG, location=loc1, context=001, monitorStatus=MONITORON, deviceCode=001, alertTime=2025-07-13T10:05:01, alertLevel=RED, deviceName=Inoue Rin}, {deviceType=D4, alertType=MECHINE, location=loc1, context=000, monitorStatus=MONITORON, deviceCode=001, alertTime=2025-07-11T10:04:58, alertLevel=YELLOW, deviceName=Inoue Rin}]}
2026-01-11 18:06:10 [http-nio-9091-exec-5] DEBUG c.b.dynamic.datasource.DynamicRoutingDataSource - dynamic-datasource switch to the primary datasource
2026-01-11 18:06:10 [http-nio-9091-exec-10] DEBUG org.hibernate.SQL - 
    select
        count(a1_0.id) 
    from
        alert a1_0 
    where
        yearweek(a1_0.alert_time, 1)=yearweek(?, 1) 
        and a1_0.alert_type='MECHINE'
2026-01-11 18:06:10 [http-nio-9091-exec-5] INFO  com.example.demo.aop.ServiceLogAspect - 【服务调用成功】DeviceService.getMonitorOnCountNow，结果：3
2026-01-11 18:06:10 [http-nio-9091-exec-5] INFO  com.example.demo.aop.ServiceLogAspect - 【服务调用开始】DeviceService.getAlertOnCountNow，参数：[]
2026-01-11 18:06:10 [http-nio-9091-exec-5] DEBUG org.hibernate.SQL - 
    select
        count(d1_0.deviceid) 
    from
        devices d1_0 
    where
        d1_0.alert_status='ON'
2026-01-11 18:06:10 [http-nio-9091-exec-10] INFO  com.example.demo.aop.ServiceLogAspect - 【服务调用成功】AlertService.getWeekAlertSummary，结果：{redAlert=0, yellowAlert=0, machineFailure=0}
2026-01-11 18:06:10 [http-nio-9091-exec-5] INFO  com.example.demo.aop.ServiceLogAspect - 【服务调用成功】DeviceService.getAlertOnCountNow，结果：1
2026-01-11 18:06:10 [http-nio-9091-exec-5] INFO  com.example.demo.aop.ServiceLogAspect - 【服务调用开始】DeviceService.getOperationalOnCountNow，参数：[]
2026-01-11 18:06:10 [http-nio-9091-exec-5] DEBUG org.hibernate.SQL - 
    select
        count(d1_0.deviceid) 
    from
        devices d1_0 
    where
        d1_0.operational_status='RUNNING'
2026-01-11 18:06:10 [http-nio-9091-exec-5] INFO  com.example.demo.aop.ServiceLogAspect - 【服务调用成功】DeviceService.getOperationalOnCountNow，结果：2
2026-01-11 18:06:10 [http-nio-9091-exec-5] INFO  com.example.demo.aop.ServiceLogAspect - 【服务调用开始】DeviceService.getOperationalOfflineCountNow，参数：[]
2026-01-11 18:06:10 [http-nio-9091-exec-5] DEBUG org.hibernate.SQL - 
    select
        count(d1_0.deviceid) 
    from
        devices d1_0 
    where
        d1_0.operational_status='OFFLINE'
2026-01-11 18:06:10 [http-nio-9091-exec-5] INFO  com.example.demo.aop.ServiceLogAspect - 【服务调用成功】DeviceService.getOperationalOfflineCountNow，结果：3
2026-01-11 18:06:10 [http-nio-9091-exec-1] INFO  com.example.demo.aop.ServiceLogAspect - 【服务调用开始】DeviceService.getCountAll，参数：[]
2026-01-11 18:06:10 [http-nio-9091-exec-1] DEBUG org.hibernate.SQL - 
    select
        count(d1_0.deviceid) 
    from
        devices d1_0
2026-01-11 18:06:10 [http-nio-9091-exec-1] DEBUG c.b.dynamic.datasource.DynamicRoutingDataSource - dynamic-datasource switch to the primary datasource
2026-01-11 18:06:10 [http-nio-9091-exec-1] INFO  com.example.demo.aop.ServiceLogAspect - 【服务调用成功】DeviceService.getCountAll，结果：5
2026-01-11 18:06:10 [http-nio-9091-exec-7] INFO  com.example.demo.aop.ServiceLogAspect - 【服务调用开始】InspectDataService.getLatestInspectionsWithDeviceInfo，参数：[]
2026-01-11 18:06:10 [http-nio-9091-exec-6] INFO  com.example.demo.aop.ServiceLogAspect - 【服务调用开始】AlertService.getTodayAlertCount，参数：[2026-01-11 18:06:10]
2026-01-11 18:06:10 [http-nio-9091-exec-2] INFO  com.example.demo.aop.ServiceLogAspect - 【服务调用开始】DeviceService.getWaitCalibrationCountNow，参数：[]
2026-01-11 18:06:10 [http-nio-9091-exec-2] DEBUG org.hibernate.SQL - 
    select
        count(d1_0.deviceid) 
    from
        devices d1_0 
    where
        d1_0.calibration_status='PENDING'
2026-01-11 18:06:10 [http-nio-9091-exec-6] DEBUG org.hibernate.SQL - 
    select
        count(a1_0.id) 
    from
        alert a1_0 
    where
        date(a1_0.alert_time)=date(?)
2026-01-11 18:06:10 [http-nio-9091-exec-4] INFO  com.example.demo.aop.ServiceLogAspect - 【服务调用开始】DeviceService.getAllDevices，参数：[]
2026-01-11 18:06:10 [http-nio-9091-exec-2] DEBUG c.b.dynamic.datasource.DynamicRoutingDataSource - dynamic-datasource switch to the primary datasource
2026-01-11 18:06:10 [http-nio-9091-exec-7] DEBUG org.hibernate.SQL - 
    select
        id1_0.data_id,
        id1_0.batch_no,
        id1_0.create_time,
        d1_0.deviceid,
        d1_0.alert_status,
        d1_0.calibration_operator,
        d1_0.calibration_status,
        d1_0.created_at,
        d1_0.device_code,
        d1_0.device_name,
        d1_0.device_type,
        d1_0.last_calibration,
        d1_0.location,
        d1_0.monitor_status,
        d1_0.next_calibration,
        d1_0.operational_status,
        d1_0.self_calibration,
        d1_0.updated_at,
        id1_0.diameter,
        id1_0.friability,
        id1_0.hardness,
        id1_0.inspect_time,
        id1_0.is_valid,
        id1_0.product_id,
        p1_0.product_id,
        p1_0.product_name,
        p1_0.specification,
        id1_0.thickness,
        id1_0.weight 
    from
        inspection_data id1_0 
    left join
        devices d1_0 
            on d1_0.deviceid=id1_0.device_id 
    join
        product p1_0 
            on p1_0.product_id=id1_0.product_id 
    where
        id1_0.inspect_time=(
            select
                max(id2_0.inspect_time) 
            from
                inspection_data id2_0 
            where
                id2_0.device_id=id1_0.device_id 
                and id2_0.is_valid=1
        )
2026-01-11 18:06:10 [http-nio-9091-exec-4] DEBUG c.b.dynamic.datasource.DynamicRoutingDataSource - dynamic-datasource switch to the primary datasource
2026-01-11 18:06:10 [http-nio-9091-exec-6] DEBUG c.b.dynamic.datasource.DynamicRoutingDataSource - dynamic-datasource switch to the primary datasource
2026-01-11 18:06:10 [http-nio-9091-exec-2] INFO  com.example.demo.aop.ServiceLogAspect - 【服务调用成功】DeviceService.getWaitCalibrationCountNow，结果：1
2026-01-11 18:06:10 [http-nio-9091-exec-7] DEBUG c.b.dynamic.datasource.DynamicRoutingDataSource - dynamic-datasource switch to the primary datasource
2026-01-11 18:06:10 [http-nio-9091-exec-4] DEBUG org.hibernate.SQL - 
    select
        d1_0.deviceid,
        d1_0.alert_status,
        d1_0.calibration_operator,
        d1_0.calibration_status,
        d1_0.created_at,
        d1_0.device_code,
        d1_0.device_name,
        d1_0.device_type,
        d1_0.last_calibration,
        d1_0.location,
        d1_0.monitor_status,
        d1_0.next_calibration,
        d1_0.operational_status,
        d1_0.self_calibration,
        d1_0.updated_at 
    from
        devices d1_0
2026-01-11 18:06:10 [http-nio-9091-exec-6] INFO  com.example.demo.aop.ServiceLogAspect - 【服务调用成功】AlertService.getTodayAlertCount，结果：0
2026-01-11 18:06:10 [http-nio-9091-exec-7] INFO  com.example.demo.aop.ServiceLogAspect - 【服务调用成功】InspectDataService.getLatestInspectionsWithDeviceInfo，结果：[com.example.demo.entity.InspectionData@39906fe9, com.example.demo.entity.InspectionData@26f99f84]
2026-01-11 18:06:10 [http-nio-9091-exec-4] INFO  com.example.demo.aop.ServiceLogAspect - 【服务调用成功】DeviceService.getAllDevices，结果：[com.example.demo.entity.Device@691c3ad3, com.example.demo.entity.Device@4fc045da, com.example.demo.entity.Device@7d6439cf, com.example.demo.entity.Device@34d7cb77, com.example.demo.entity.Device@3c15b59c]
2026-01-11 18:06:11 [http-nio-9091-exec-9] INFO  com.example.demo.aop.ServiceLogAspect - 【服务调用开始】DeviceService.getCountAll，参数：[]
2026-01-11 18:06:11 [http-nio-9091-exec-9] DEBUG org.hibernate.SQL - 
    select
        count(d1_0.deviceid) 
    from
        devices d1_0
2026-01-11 18:06:11 [http-nio-9091-exec-9] DEBUG c.b.dynamic.datasource.DynamicRoutingDataSource - dynamic-datasource switch to the primary datasource
2026-01-11 18:06:11 [http-nio-9091-exec-9] INFO  com.example.demo.aop.ServiceLogAspect - 【服务调用成功】DeviceService.getCountAll，结果：5
2026-01-11 18:06:11 [http-nio-9091-exec-3] INFO  com.example.demo.aop.ServiceLogAspect - 【服务调用开始】DeviceService.getWaitCalibrationCountNow，参数：[]
2026-01-11 18:06:11 [http-nio-9091-exec-3] DEBUG org.hibernate.SQL - 
    select
        count(d1_0.deviceid) 
    from
        devices d1_0 
    where
        d1_0.calibration_status='PENDING'
2026-01-11 18:06:11 [http-nio-9091-exec-10] INFO  com.example.demo.aop.ServiceLogAspect - 【服务调用开始】AlertService.getDeviceAlertOverview，参数：[]
2026-01-11 18:06:11 [http-nio-9091-exec-8] INFO  com.example.demo.aop.ServiceLogAspect - 【服务调用开始】AlertService.getTodayAlertCount，参数：[2026-01-11 18:06:11]
2026-01-11 18:06:11 [http-nio-9091-exec-3] DEBUG c.b.dynamic.datasource.DynamicRoutingDataSource - dynamic-datasource switch to the primary datasource
2026-01-11 18:06:11 [http-nio-9091-exec-5] INFO  com.example.demo.aop.ServiceLogAspect - 【服务调用开始】AlertService.getAlertDetailsByTimeRange，参数：[2026-01-04T02:06, 2026-01-11T02:06, null, 0, 50]
2026-01-11 18:06:11 [http-nio-9091-exec-10] DEBUG c.b.dynamic.datasource.DynamicRoutingDataSource - dynamic-datasource switch to the primary datasource
2026-01-11 18:06:11 [http-nio-9091-exec-5] DEBUG org.hibernate.SQL - 
    select
        a1_0.alert_time,
        d1_0.device_code,
        d1_0.device_name,
        d1_0.device_type,
        d1_0.location,
        d1_0.monitor_status,
        a1_0.alert_type,
        a1_0.alert_level,
        a1_0.context 
    from
        alert a1_0 
    join
        devices d1_0 
            on d1_0.deviceid=a1_0.device_id 
    where
        (
            ? is null 
            or a1_0.alert_time>=?
        ) 
        and (
            ? is null 
            or a1_0.alert_time<=?
        ) 
        and (
            ? is null 
            or d1_0.device_code=?
        ) 
    order by
        a1_0.alert_time desc 
    limit
        ?
2026-01-11 18:06:11 [http-nio-9091-exec-8] DEBUG org.hibernate.SQL - 
    select
        count(a1_0.id) 
    from
        alert a1_0 
    where
        date(a1_0.alert_time)=date(?)
2026-01-11 18:06:11 [http-nio-9091-exec-3] INFO  com.example.demo.aop.ServiceLogAspect - 【服务调用成功】DeviceService.getWaitCalibrationCountNow，结果：1
2026-01-11 18:06:11 [http-nio-9091-exec-10] DEBUG org.hibernate.SQL - 
    select
        d1_0.deviceid,
        d1_0.alert_status,
        d1_0.calibration_operator,
        d1_0.calibration_status,
        d1_0.created_at,
        d1_0.device_code,
        d1_0.device_name,
        d1_0.device_type,
        d1_0.last_calibration,
        d1_0.location,
        d1_0.monitor_status,
        d1_0.next_calibration,
        d1_0.operational_status,
        d1_0.self_calibration,
        d1_0.updated_at 
    from
        devices d1_0
2026-01-11 18:06:11 [http-nio-9091-exec-5] DEBUG c.b.dynamic.datasource.DynamicRoutingDataSource - dynamic-datasource switch to the primary datasource
2026-01-11 18:06:11 [http-nio-9091-exec-8] DEBUG c.b.dynamic.datasource.DynamicRoutingDataSource - dynamic-datasource switch to the primary datasource
2026-01-11 18:06:11 [http-nio-9091-exec-8] INFO  com.example.demo.aop.ServiceLogAspect - 【服务调用成功】AlertService.getTodayAlertCount，结果：0
2026-01-11 18:06:11 [http-nio-9091-exec-5] INFO  com.example.demo.aop.ServiceLogAspect - 【服务调用成功】AlertService.getAlertDetailsByTimeRange，结果：{pageSize=50, currentPage=0, totalPages=0, totalElements=0, content=[]}
2026-01-11 18:06:11 [http-nio-9091-exec-10] DEBUG org.hibernate.SQL - 
    select
        a1_0.id,
        a1_0.alert_level,
        a1_0.alert_time,
        a1_0.alert_type,
        a1_0.context,
        a1_0.device_id 
    from
        alert a1_0 
    left join
        devices d1_0 
            on d1_0.deviceid=a1_0.device_id 
    where
        d1_0.deviceid=? 
    order by
        a1_0.alert_time desc 
    limit
        ?
2026-01-11 18:06:11 [http-nio-9091-exec-10] DEBUG org.hibernate.SQL - 
    select
        a1_0.id,
        a1_0.alert_level,
        a1_0.alert_time,
        a1_0.alert_type,
        a1_0.context,
        a1_0.device_id 
    from
        alert a1_0 
    left join
        devices d1_0 
            on d1_0.deviceid=a1_0.device_id 
    where
        d1_0.deviceid=? 
    order by
        a1_0.alert_time desc 
    limit
        ?
2026-01-11 18:06:11 [http-nio-9091-exec-10] DEBUG org.hibernate.SQL - 
    select
        a1_0.id,
        a1_0.alert_level,
        a1_0.alert_time,
        a1_0.alert_type,
        a1_0.context,
        a1_0.device_id 
    from
        alert a1_0 
    left join
        devices d1_0 
            on d1_0.deviceid=a1_0.device_id 
    where
        d1_0.deviceid=? 
    order by
        a1_0.alert_time desc 
    limit
        ?
2026-01-11 18:06:11 [http-nio-9091-exec-10] DEBUG org.hibernate.SQL - 
    select
        a1_0.id,
        a1_0.alert_level,
        a1_0.alert_time,
        a1_0.alert_type,
        a1_0.context,
        a1_0.device_id 
    from
        alert a1_0 
    left join
        devices d1_0 
            on d1_0.deviceid=a1_0.device_id 
    where
        d1_0.deviceid=? 
    order by
        a1_0.alert_time desc 
    limit
        ?
2026-01-11 18:06:11 [http-nio-9091-exec-10] DEBUG org.hibernate.SQL - 
    select
        a1_0.id,
        a1_0.alert_level,
        a1_0.alert_time,
        a1_0.alert_type,
        a1_0.context,
        a1_0.device_id 
    from
        alert a1_0 
    left join
        devices d1_0 
            on d1_0.deviceid=a1_0.device_id 
    where
        d1_0.deviceid=? 
    order by
        a1_0.alert_time desc 
    limit
        ?
2026-01-11 18:06:11 [http-nio-9091-exec-10] INFO  com.example.demo.aop.ServiceLogAspect - 【服务调用成功】AlertService.getDeviceAlertOverview，结果：[{deviceType=D4, operationalStatus=RUNNING, alertStatus=ON, latestAlertLevel=YELLOW, latestAlertTime=2025-07-13T10:05:04, location=loc1, deviceCode=001, deviceId=1, deviceName=Inoue Rin, monitorStatus=MONITORON, latestAlertContext=002}, {deviceType=DB, operationalStatus=RUNNING, alertStatus=OFF, latestAlertLevel=null, latestAlertTime=null, location=loc2, deviceCode=002, deviceId=2, deviceName=Kong Lan, monitorStatus=MONITORON, latestAlertContext=null}, {deviceType=DB, operationalStatus=OFFLINE, alertStatus=OFF, latestAlertLevel=null, latestAlertTime=null, location=loc3, deviceCode=003, deviceId=3, deviceName=Chic Kwok Yin, monitorStatus=MONITORINTERRUPT, latestAlertContext=null}, {deviceType=D4, operationalStatus=OFFLINE, alertStatus=OFF, latestAlertLevel=null, latestAlertTime=null, location=loc4, deviceCode=004, deviceId=4, deviceName=Lo Wai Lam, monitorStatus=MONITORON, latestAlertContext=null}, {deviceType=DB, operationalStatus=OFFLINE, alertStatus=OFF, latestAlertLevel=null, latestAlertTime=null, location=loc5, deviceCode=005, deviceId=5, deviceName=Saito Ayano, monitorStatus=MONITOROFF, latestAlertContext=null}]
2026-01-11 18:06:11 [http-nio-9091-exec-1] INFO  com.example.demo.aop.ServiceLogAspect - 【服务调用开始】DeviceService.getCountAll，参数：[]
2026-01-11 18:06:11 [http-nio-9091-exec-1] DEBUG org.hibernate.SQL - 
    select
        count(d1_0.deviceid) 
    from
        devices d1_0
2026-01-11 18:06:11 [http-nio-9091-exec-1] DEBUG c.b.dynamic.datasource.DynamicRoutingDataSource - dynamic-datasource switch to the primary datasource
2026-01-11 18:06:11 [http-nio-9091-exec-1] INFO  com.example.demo.aop.ServiceLogAspect - 【服务调用成功】DeviceService.getCountAll，结果：5
2026-01-11 18:06:11 [http-nio-9091-exec-6] INFO  com.example.demo.aop.ServiceLogAspect - 【服务调用开始】DeviceService.getWaitCalibrationCountNow，参数：[]
2026-01-11 18:06:11 [http-nio-9091-exec-6] DEBUG org.hibernate.SQL - 
    select
        count(d1_0.deviceid) 
    from
        devices d1_0 
    where
        d1_0.calibration_status='PENDING'
2026-01-11 18:06:11 [http-nio-9091-exec-7] INFO  com.example.demo.aop.ServiceLogAspect - 【服务调用开始】DeviceService.getAllDevices，参数：[]
2026-01-11 18:06:11 [http-nio-9091-exec-2] INFO  com.example.demo.aop.ServiceLogAspect - 【服务调用开始】AlertService.getTodayAlertCount，参数：[2026-01-11 18:06:11]
2026-01-11 18:06:11 [http-nio-9091-exec-7] DEBUG c.b.dynamic.datasource.DynamicRoutingDataSource - dynamic-datasource switch to the primary datasource
2026-01-11 18:06:11 [http-nio-9091-exec-6] DEBUG c.b.dynamic.datasource.DynamicRoutingDataSource - dynamic-datasource switch to the primary datasource
2026-01-11 18:06:11 [http-nio-9091-exec-2] DEBUG org.hibernate.SQL - 
    select
        count(a1_0.id) 
    from
        alert a1_0 
    where
        date(a1_0.alert_time)=date(?)
2026-01-11 18:06:11 [http-nio-9091-exec-6] INFO  com.example.demo.aop.ServiceLogAspect - 【服务调用成功】DeviceService.getWaitCalibrationCountNow，结果：1
2026-01-11 18:06:11 [http-nio-9091-exec-7] DEBUG org.hibernate.SQL - 
    select
        d1_0.deviceid,
        d1_0.alert_status,
        d1_0.calibration_operator,
        d1_0.calibration_status,
        d1_0.created_at,
        d1_0.device_code,
        d1_0.device_name,
        d1_0.device_type,
        d1_0.last_calibration,
        d1_0.location,
        d1_0.monitor_status,
        d1_0.next_calibration,
        d1_0.operational_status,
        d1_0.self_calibration,
        d1_0.updated_at 
    from
        devices d1_0
2026-01-11 18:06:11 [http-nio-9091-exec-2] DEBUG c.b.dynamic.datasource.DynamicRoutingDataSource - dynamic-datasource switch to the primary datasource
2026-01-11 18:06:11 [http-nio-9091-exec-2] INFO  com.example.demo.aop.ServiceLogAspect - 【服务调用成功】AlertService.getTodayAlertCount，结果：0
2026-01-11 18:06:11 [http-nio-9091-exec-7] INFO  com.example.demo.aop.ServiceLogAspect - 【服务调用成功】DeviceService.getAllDevices，结果：[com.example.demo.entity.Device@85f9dd5, com.example.demo.entity.Device@450594eb, com.example.demo.entity.Device@4178b021, com.example.demo.entity.Device@7b683fae, com.example.demo.entity.Device@fadb423]
2026-01-11 18:06:12 [http-nio-9091-exec-4] INFO  com.example.demo.aop.ServiceLogAspect - 【服务调用开始】DeviceService.getCountAll，参数：[]
2026-01-11 18:06:12 [http-nio-9091-exec-4] DEBUG org.hibernate.SQL - 
    select
        count(d1_0.deviceid) 
    from
        devices d1_0
2026-01-11 18:06:12 [http-nio-9091-exec-4] DEBUG c.b.dynamic.datasource.DynamicRoutingDataSource - dynamic-datasource switch to the primary datasource
2026-01-11 18:06:12 [http-nio-9091-exec-4] INFO  com.example.demo.aop.ServiceLogAspect - 【服务调用成功】DeviceService.getCountAll，结果：5
2026-01-11 18:06:12 [http-nio-9091-exec-9] INFO  com.example.demo.aop.ServiceLogAspect - 【服务调用开始】AlertService.getTodayAlertCount，参数：[2026-01-11 18:06:12]
2026-01-11 18:06:12 [http-nio-9091-exec-9] DEBUG org.hibernate.SQL - 
    select
        count(a1_0.id) 
    from
        alert a1_0 
    where
        date(a1_0.alert_time)=date(?)
2026-01-11 18:06:12 [http-nio-9091-exec-9] DEBUG c.b.dynamic.datasource.DynamicRoutingDataSource - dynamic-datasource switch to the primary datasource
2026-01-11 18:06:12 [http-nio-9091-exec-9] INFO  com.example.demo.aop.ServiceLogAspect - 【服务调用成功】AlertService.getTodayAlertCount，结果：0
2026-01-11 18:06:12 [http-nio-9091-exec-5] INFO  com.example.demo.aop.ServiceLogAspect - 【服务调用开始】DeviceService.getAllDevices，参数：[]
2026-01-11 18:06:12 [http-nio-9091-exec-3] INFO  com.example.demo.aop.ServiceLogAspect - 【服务调用开始】DeviceService.getWaitCalibrationCountNow，参数：[]
2026-01-11 18:06:12 [http-nio-9091-exec-5] DEBUG c.b.dynamic.datasource.DynamicRoutingDataSource - dynamic-datasource switch to the primary datasource
2026-01-11 18:06:12 [http-nio-9091-exec-3] DEBUG org.hibernate.SQL - 
    select
        count(d1_0.deviceid) 
    from
        devices d1_0 
    where
        d1_0.calibration_status='PENDING'
2026-01-11 18:06:12 [http-nio-9091-exec-3] DEBUG c.b.dynamic.datasource.DynamicRoutingDataSource - dynamic-datasource switch to the primary datasource
2026-01-11 18:06:12 [http-nio-9091-exec-5] DEBUG org.hibernate.SQL - 
    select
        d1_0.deviceid,
        d1_0.alert_status,
        d1_0.calibration_operator,
        d1_0.calibration_status,
        d1_0.created_at,
        d1_0.device_code,
        d1_0.device_name,
        d1_0.device_type,
        d1_0.last_calibration,
        d1_0.location,
        d1_0.monitor_status,
        d1_0.next_calibration,
        d1_0.operational_status,
        d1_0.self_calibration,
        d1_0.updated_at 
    from
        devices d1_0
2026-01-11 18:06:12 [http-nio-9091-exec-3] INFO  com.example.demo.aop.ServiceLogAspect - 【服务调用成功】DeviceService.getWaitCalibrationCountNow，结果：1
2026-01-11 18:06:12 [http-nio-9091-exec-5] INFO  com.example.demo.aop.ServiceLogAspect - 【服务调用成功】DeviceService.getAllDevices，结果：[com.example.demo.entity.Device@581b4d01, com.example.demo.entity.Device@790a3ad2, com.example.demo.entity.Device@6117df4, com.example.demo.entity.Device@50afd82f, com.example.demo.entity.Device@52def47e]
2026-01-11 18:06:12 [http-nio-9091-exec-8] INFO  com.example.demo.aop.ServiceLogAspect - 【服务调用开始】DeviceService.getCountAll，参数：[]
2026-01-11 18:06:12 [http-nio-9091-exec-8] DEBUG org.hibernate.SQL - 
    select
        count(d1_0.deviceid) 
    from
        devices d1_0
2026-01-11 18:06:12 [http-nio-9091-exec-8] DEBUG c.b.dynamic.datasource.DynamicRoutingDataSource - dynamic-datasource switch to the primary datasource
2026-01-11 18:06:12 [http-nio-9091-exec-8] INFO  com.example.demo.aop.ServiceLogAspect - 【服务调用成功】DeviceService.getCountAll，结果：5
2026-01-11 18:06:12 [http-nio-9091-exec-1] INFO  com.example.demo.aop.ServiceLogAspect - 【服务调用开始】DeviceService.getWaitCalibrationCountNow，参数：[]
2026-01-11 18:06:12 [http-nio-9091-exec-6] INFO  com.example.demo.aop.ServiceLogAspect - 【服务调用开始】DeviceService.getAllDevices，参数：[]
2026-01-11 18:06:12 [http-nio-9091-exec-2] INFO  com.example.demo.aop.ServiceLogAspect - 【服务调用开始】InspectDataService.getLatestInspectionsWithDeviceInfo，参数：[]
2026-01-11 18:06:12 [http-nio-9091-exec-10] INFO  com.example.demo.aop.ServiceLogAspect - 【服务调用开始】AlertService.getTodayAlertCount，参数：[2026-01-11 18:06:12]
2026-01-11 18:06:12 [http-nio-9091-exec-1] DEBUG org.hibernate.SQL - 
    select
        count(d1_0.deviceid) 
    from
        devices d1_0 
    where
        d1_0.calibration_status='PENDING'
2026-01-11 18:06:12 [http-nio-9091-exec-6] DEBUG c.b.dynamic.datasource.DynamicRoutingDataSource - dynamic-datasource switch to the primary datasource
2026-01-11 18:06:12 [http-nio-9091-exec-10] DEBUG org.hibernate.SQL - 
    select
        count(a1_0.id) 
    from
        alert a1_0 
    where
        date(a1_0.alert_time)=date(?)
2026-01-11 18:06:12 [http-nio-9091-exec-1] DEBUG c.b.dynamic.datasource.DynamicRoutingDataSource - dynamic-datasource switch to the primary datasource
2026-01-11 18:06:12 [http-nio-9091-exec-2] DEBUG org.hibernate.SQL - 
    select
        id1_0.data_id,
        id1_0.batch_no,
        id1_0.create_time,
        d1_0.deviceid,
        d1_0.alert_status,
        d1_0.calibration_operator,
        d1_0.calibration_status,
        d1_0.created_at,
        d1_0.device_code,
        d1_0.device_name,
        d1_0.device_type,
        d1_0.last_calibration,
        d1_0.location,
        d1_0.monitor_status,
        d1_0.next_calibration,
        d1_0.operational_status,
        d1_0.self_calibration,
        d1_0.updated_at,
        id1_0.diameter,
        id1_0.friability,
        id1_0.hardness,
        id1_0.inspect_time,
        id1_0.is_valid,
        id1_0.product_id,
        p1_0.product_id,
        p1_0.product_name,
        p1_0.specification,
        id1_0.thickness,
        id1_0.weight 
    from
        inspection_data id1_0 
    left join
        devices d1_0 
            on d1_0.deviceid=id1_0.device_id 
    join
        product p1_0 
            on p1_0.product_id=id1_0.product_id 
    where
        id1_0.inspect_time=(
            select
                max(id2_0.inspect_time) 
            from
                inspection_data id2_0 
            where
                id2_0.device_id=id1_0.device_id 
                and id2_0.is_valid=1
        )
2026-01-11 18:06:12 [http-nio-9091-exec-10] DEBUG c.b.dynamic.datasource.DynamicRoutingDataSource - dynamic-datasource switch to the primary datasource
2026-01-11 18:06:12 [http-nio-9091-exec-6] DEBUG org.hibernate.SQL - 
    select
        d1_0.deviceid,
        d1_0.alert_status,
        d1_0.calibration_operator,
        d1_0.calibration_status,
        d1_0.created_at,
        d1_0.device_code,
        d1_0.device_name,
        d1_0.device_type,
        d1_0.last_calibration,
        d1_0.location,
        d1_0.monitor_status,
        d1_0.next_calibration,
        d1_0.operational_status,
        d1_0.self_calibration,
        d1_0.updated_at 
    from
        devices d1_0
2026-01-11 18:06:12 [http-nio-9091-exec-1] INFO  com.example.demo.aop.ServiceLogAspect - 【服务调用成功】DeviceService.getWaitCalibrationCountNow，结果：1
2026-01-11 18:06:12 [http-nio-9091-exec-10] INFO  com.example.demo.aop.ServiceLogAspect - 【服务调用成功】AlertService.getTodayAlertCount，结果：0
2026-01-11 18:06:12 [http-nio-9091-exec-2] DEBUG c.b.dynamic.datasource.DynamicRoutingDataSource - dynamic-datasource switch to the primary datasource
2026-01-11 18:06:12 [http-nio-9091-exec-6] INFO  com.example.demo.aop.ServiceLogAspect - 【服务调用成功】DeviceService.getAllDevices，结果：[com.example.demo.entity.Device@2d89ec9f, com.example.demo.entity.Device@16fa5b98, com.example.demo.entity.Device@673b0c3b, com.example.demo.entity.Device@4b174756, com.example.demo.entity.Device@2998b7bf]
2026-01-11 18:06:12 [http-nio-9091-exec-2] INFO  com.example.demo.aop.ServiceLogAspect - 【服务调用成功】InspectDataService.getLatestInspectionsWithDeviceInfo，结果：[com.example.demo.entity.InspectionData@16645b3b, com.example.demo.entity.InspectionData@131d819]
2026-01-11 18:06:12 [http-nio-9091-exec-7] INFO  com.example.demo.aop.ServiceLogAspect - 【服务调用开始】PermissionAdminService.getAllStaff，参数：[]
2026-01-11 18:06:12 [http-nio-9091-exec-7] DEBUG c.b.dynamic.datasource.DynamicRoutingDataSource - dynamic-datasource switch to the primary datasource
2026-01-11 18:06:12 [http-nio-9091-exec-7] DEBUG org.hibernate.SQL - 
    select
        s1_0.staffid,
        s1_0.department,
        s1_0.password,
        s1_0.staffcode,
        s1_0.staffname 
    from
        staffinfo s1_0
2026-01-11 18:06:12 [http-nio-9091-exec-7] DEBUG org.hibernate.SQL - 
    select
        sr1_0.id,
        r1_0.roleid,
        r1_0.roledescription,
        r1_0.rolename,
        s1_0.staffid,
        s1_0.department,
        s1_0.password,
        s1_0.staffcode,
        s1_0.staffname 
    from
        staffrole sr1_0 
    left join
        roleinfo r1_0 
            on r1_0.roleid=sr1_0.roleid 
    left join
        staffinfo s1_0 
            on s1_0.staffid=sr1_0.staffid 
    where
        sr1_0.staffid=?
2026-01-11 18:06:12 [http-nio-9091-exec-7] DEBUG org.hibernate.SQL - 
    select
        sr1_0.id,
        r1_0.roleid,
        r1_0.roledescription,
        r1_0.rolename,
        s1_0.staffid,
        s1_0.department,
        s1_0.password,
        s1_0.staffcode,
        s1_0.staffname 
    from
        staffrole sr1_0 
    left join
        roleinfo r1_0 
            on r1_0.roleid=sr1_0.roleid 
    left join
        staffinfo s1_0 
            on s1_0.staffid=sr1_0.staffid 
    where
        sr1_0.staffid=?
2026-01-11 18:06:12 [http-nio-9091-exec-7] DEBUG org.hibernate.SQL - 
    select
        sr1_0.id,
        r1_0.roleid,
        r1_0.roledescription,
        r1_0.rolename,
        s1_0.staffid,
        s1_0.department,
        s1_0.password,
        s1_0.staffcode,
        s1_0.staffname 
    from
        staffrole sr1_0 
    left join
        roleinfo r1_0 
            on r1_0.roleid=sr1_0.roleid 
    left join
        staffinfo s1_0 
            on s1_0.staffid=sr1_0.staffid 
    where
        sr1_0.staffid=?
2026-01-11 18:06:12 [http-nio-9091-exec-7] DEBUG org.hibernate.SQL - 
    select
        sr1_0.id,
        r1_0.roleid,
        r1_0.roledescription,
        r1_0.rolename,
        s1_0.staffid,
        s1_0.department,
        s1_0.password,
        s1_0.staffcode,
        s1_0.staffname 
    from
        staffrole sr1_0 
    left join
        roleinfo r1_0 
            on r1_0.roleid=sr1_0.roleid 
    left join
        staffinfo s1_0 
            on s1_0.staffid=sr1_0.staffid 
    where
        sr1_0.staffid=?
2026-01-11 18:06:12 [http-nio-9091-exec-7] INFO  com.example.demo.aop.ServiceLogAspect - 【服务调用成功】PermissionAdminService.getAllStaff，结果：[com.example.demo.entity.Staff@1529ca78, com.example.demo.entity.Staff@1ae3a141, com.example.demo.entity.Staff@3e7ae557, com.example.demo.entity.Staff@3c0df78f]
2026-01-11 18:06:12 [http-nio-9091-exec-4] INFO  com.example.demo.aop.ServiceLogAspect - 【服务调用开始】RoleService.getAllRoles，参数：[]
2026-01-11 18:06:12 [http-nio-9091-exec-4] DEBUG c.b.dynamic.datasource.DynamicRoutingDataSource - dynamic-datasource switch to the primary datasource
2026-01-11 18:06:12 [http-nio-9091-exec-4] DEBUG org.hibernate.SQL - 
    select
        r1_0.roleid,
        r1_0.roledescription,
        r1_0.rolename 
    from
        roleinfo r1_0
2026-01-11 18:06:12 [http-nio-9091-exec-4] INFO  com.example.demo.aop.ServiceLogAspect - 【服务调用成功】RoleService.getAllRoles，结果：[com.example.demo.entity.Role@689b12d1, com.example.demo.entity.Role@d14045, com.example.demo.entity.Role@701b1fba, com.example.demo.entity.Role@295a35a2, com.example.demo.entity.Role@46b0834c]
2026-01-11 18:06:13 [http-nio-9091-exec-9] INFO  com.example.demo.aop.ServiceLogAspect - 【服务调用开始】DeviceService.getCountAll，参数：[]
2026-01-11 18:06:13 [http-nio-9091-exec-9] DEBUG org.hibernate.SQL - 
    select
        count(d1_0.deviceid) 
    from
        devices d1_0
2026-01-11 18:06:13 [http-nio-9091-exec-9] DEBUG c.b.dynamic.datasource.DynamicRoutingDataSource - dynamic-datasource switch to the primary datasource
2026-01-11 18:06:13 [http-nio-9091-exec-9] INFO  com.example.demo.aop.ServiceLogAspect - 【服务调用成功】DeviceService.getCountAll，结果：5
2026-01-11 18:06:13 [http-nio-9091-exec-5] INFO  com.example.demo.aop.ServiceLogAspect - 【服务调用开始】DeviceService.getWaitCalibrationCountNow，参数：[]
2026-01-11 18:06:13 [http-nio-9091-exec-10] INFO  com.example.demo.aop.ServiceLogAspect - 【服务调用开始】InspectDataService.getLatestInspectionsWithDeviceInfo，参数：[]
2026-01-11 18:06:13 [http-nio-9091-exec-8] INFO  com.example.demo.aop.ServiceLogAspect - 【服务调用开始】DeviceService.getAllDevices，参数：[]
2026-01-11 18:06:13 [http-nio-9091-exec-5] DEBUG org.hibernate.SQL - 
    select
        count(d1_0.deviceid) 
    from
        devices d1_0 
    where
        d1_0.calibration_status='PENDING'
2026-01-11 18:06:13 [http-nio-9091-exec-3] INFO  com.example.demo.aop.ServiceLogAspect - 【服务调用开始】AlertService.getTodayAlertCount，参数：[2026-01-11 18:06:13]
2026-01-11 18:06:13 [http-nio-9091-exec-8] DEBUG c.b.dynamic.datasource.DynamicRoutingDataSource - dynamic-datasource switch to the primary datasource
2026-01-11 18:06:13 [http-nio-9091-exec-10] DEBUG org.hibernate.SQL - 
    select
        id1_0.data_id,
        id1_0.batch_no,
        id1_0.create_time,
        d1_0.deviceid,
        d1_0.alert_status,
        d1_0.calibration_operator,
        d1_0.calibration_status,
        d1_0.created_at,
        d1_0.device_code,
        d1_0.device_name,
        d1_0.device_type,
        d1_0.last_calibration,
        d1_0.location,
        d1_0.monitor_status,
        d1_0.next_calibration,
        d1_0.operational_status,
        d1_0.self_calibration,
        d1_0.updated_at,
        id1_0.diameter,
        id1_0.friability,
        id1_0.hardness,
        id1_0.inspect_time,
        id1_0.is_valid,
        id1_0.product_id,
        p1_0.product_id,
        p1_0.product_name,
        p1_0.specification,
        id1_0.thickness,
        id1_0.weight 
    from
        inspection_data id1_0 
    left join
        devices d1_0 
            on d1_0.deviceid=id1_0.device_id 
    join
        product p1_0 
            on p1_0.product_id=id1_0.product_id 
    where
        id1_0.inspect_time=(
            select
                max(id2_0.inspect_time) 
            from
                inspection_data id2_0 
            where
                id2_0.device_id=id1_0.device_id 
                and id2_0.is_valid=1
        )
2026-01-11 18:06:13 [http-nio-9091-exec-3] DEBUG org.hibernate.SQL - 
    select
        count(a1_0.id) 
    from
        alert a1_0 
    where
        date(a1_0.alert_time)=date(?)
2026-01-11 18:06:13 [http-nio-9091-exec-5] DEBUG c.b.dynamic.datasource.DynamicRoutingDataSource - dynamic-datasource switch to the primary datasource
2026-01-11 18:06:13 [http-nio-9091-exec-8] DEBUG org.hibernate.SQL - 
    select
        d1_0.deviceid,
        d1_0.alert_status,
        d1_0.calibration_operator,
        d1_0.calibration_status,
        d1_0.created_at,
        d1_0.device_code,
        d1_0.device_name,
        d1_0.device_type,
        d1_0.last_calibration,
        d1_0.location,
        d1_0.monitor_status,
        d1_0.next_calibration,
        d1_0.operational_status,
        d1_0.self_calibration,
        d1_0.updated_at 
    from
        devices d1_0
2026-01-11 18:06:13 [http-nio-9091-exec-10] DEBUG c.b.dynamic.datasource.DynamicRoutingDataSource - dynamic-datasource switch to the primary datasource
2026-01-11 18:06:13 [http-nio-9091-exec-5] INFO  com.example.demo.aop.ServiceLogAspect - 【服务调用成功】DeviceService.getWaitCalibrationCountNow，结果：1
2026-01-11 18:06:13 [http-nio-9091-exec-3] DEBUG c.b.dynamic.datasource.DynamicRoutingDataSource - dynamic-datasource switch to the primary datasource
2026-01-11 18:06:13 [http-nio-9091-exec-3] INFO  com.example.demo.aop.ServiceLogAspect - 【服务调用成功】AlertService.getTodayAlertCount，结果：0
2026-01-11 18:06:13 [http-nio-9091-exec-8] INFO  com.example.demo.aop.ServiceLogAspect - 【服务调用成功】DeviceService.getAllDevices，结果：[com.example.demo.entity.Device@83e8753, com.example.demo.entity.Device@18f3c83e, com.example.demo.entity.Device@23d6002d, com.example.demo.entity.Device@256d093e, com.example.demo.entity.Device@599506df]
2026-01-11 18:06:13 [http-nio-9091-exec-10] INFO  com.example.demo.aop.ServiceLogAspect - 【服务调用成功】InspectDataService.getLatestInspectionsWithDeviceInfo，结果：[com.example.demo.entity.InspectionData@4dde4fa1, com.example.demo.entity.InspectionData@73380e38]
2026-01-11 18:06:14 [http-nio-9091-exec-1] INFO  com.example.demo.aop.ServiceLogAspect - 【服务调用开始】PermissionAdminService.getAllStaff，参数：[]
2026-01-11 18:06:14 [http-nio-9091-exec-1] DEBUG c.b.dynamic.datasource.DynamicRoutingDataSource - dynamic-datasource switch to the primary datasource
2026-01-11 18:06:14 [http-nio-9091-exec-1] DEBUG org.hibernate.SQL - 
    select
        s1_0.staffid,
        s1_0.department,
        s1_0.password,
        s1_0.staffcode,
        s1_0.staffname 
    from
        staffinfo s1_0
2026-01-11 18:06:14 [http-nio-9091-exec-1] DEBUG org.hibernate.SQL - 
    select
        sr1_0.id,
        r1_0.roleid,
        r1_0.roledescription,
        r1_0.rolename,
        s1_0.staffid,
        s1_0.department,
        s1_0.password,
        s1_0.staffcode,
        s1_0.staffname 
    from
        staffrole sr1_0 
    left join
        roleinfo r1_0 
            on r1_0.roleid=sr1_0.roleid 
    left join
        staffinfo s1_0 
            on s1_0.staffid=sr1_0.staffid 
    where
        sr1_0.staffid=?
2026-01-11 18:06:14 [http-nio-9091-exec-1] DEBUG org.hibernate.SQL - 
    select
        sr1_0.id,
        r1_0.roleid,
        r1_0.roledescription,
        r1_0.rolename,
        s1_0.staffid,
        s1_0.department,
        s1_0.password,
        s1_0.staffcode,
        s1_0.staffname 
    from
        staffrole sr1_0 
    left join
        roleinfo r1_0 
            on r1_0.roleid=sr1_0.roleid 
    left join
        staffinfo s1_0 
            on s1_0.staffid=sr1_0.staffid 
    where
        sr1_0.staffid=?
2026-01-11 18:06:14 [http-nio-9091-exec-1] DEBUG org.hibernate.SQL - 
    select
        sr1_0.id,
        r1_0.roleid,
        r1_0.roledescription,
        r1_0.rolename,
        s1_0.staffid,
        s1_0.department,
        s1_0.password,
        s1_0.staffcode,
        s1_0.staffname 
    from
        staffrole sr1_0 
    left join
        roleinfo r1_0 
            on r1_0.roleid=sr1_0.roleid 
    left join
        staffinfo s1_0 
            on s1_0.staffid=sr1_0.staffid 
    where
        sr1_0.staffid=?
2026-01-11 18:06:14 [http-nio-9091-exec-1] DEBUG org.hibernate.SQL - 
    select
        sr1_0.id,
        r1_0.roleid,
        r1_0.roledescription,
        r1_0.rolename,
        s1_0.staffid,
        s1_0.department,
        s1_0.password,
        s1_0.staffcode,
        s1_0.staffname 
    from
        staffrole sr1_0 
    left join
        roleinfo r1_0 
            on r1_0.roleid=sr1_0.roleid 
    left join
        staffinfo s1_0 
            on s1_0.staffid=sr1_0.staffid 
    where
        sr1_0.staffid=?
2026-01-11 18:06:14 [http-nio-9091-exec-1] INFO  com.example.demo.aop.ServiceLogAspect - 【服务调用成功】PermissionAdminService.getAllStaff，结果：[com.example.demo.entity.Staff@3b062ac4, com.example.demo.entity.Staff@3f094a12, com.example.demo.entity.Staff@178dd8e1, com.example.demo.entity.Staff@5fed5f61]
2026-01-11 18:06:14 [http-nio-9091-exec-6] INFO  com.example.demo.aop.ServiceLogAspect - 【服务调用开始】RoleService.getAllRoles，参数：[]
2026-01-11 18:06:14 [http-nio-9091-exec-6] DEBUG c.b.dynamic.datasource.DynamicRoutingDataSource - dynamic-datasource switch to the primary datasource
2026-01-11 18:06:14 [http-nio-9091-exec-6] DEBUG org.hibernate.SQL - 
    select
        r1_0.roleid,
        r1_0.roledescription,
        r1_0.rolename 
    from
        roleinfo r1_0
2026-01-11 18:06:14 [http-nio-9091-exec-6] INFO  com.example.demo.aop.ServiceLogAspect - 【服务调用成功】RoleService.getAllRoles，结果：[com.example.demo.entity.Role@62f6d345, com.example.demo.entity.Role@62900b7, com.example.demo.entity.Role@62d628e9, com.example.demo.entity.Role@69891570, com.example.demo.entity.Role@6a87d1e7]
2026-01-11 18:06:14 [http-nio-9091-exec-2] INFO  com.example.demo.aop.ServiceLogAspect - 【服务调用开始】DeviceService.getCountAll，参数：[]
2026-01-11 18:06:14 [http-nio-9091-exec-2] DEBUG org.hibernate.SQL - 
    select
        count(d1_0.deviceid) 
    from
        devices d1_0
2026-01-11 18:06:14 [http-nio-9091-exec-4] INFO  com.example.demo.aop.ServiceLogAspect - 【服务调用开始】DeviceService.getWaitCalibrationCountNow，参数：[]
2026-01-11 18:06:14 [http-nio-9091-exec-4] DEBUG org.hibernate.SQL - 
    select
        count(d1_0.deviceid) 
    from
        devices d1_0 
    where
        d1_0.calibration_status='PENDING'
2026-01-11 18:06:14 [http-nio-9091-exec-9] INFO  com.example.demo.aop.ServiceLogAspect - 【服务调用开始】DeviceService.getAllDevices，参数：[]
2026-01-11 18:06:14 [http-nio-9091-exec-7] INFO  com.example.demo.aop.ServiceLogAspect - 【服务调用开始】AlertService.getTodayAlertCount，参数：[2026-01-11 18:06:14]
2026-01-11 18:06:14 [http-nio-9091-exec-9] DEBUG c.b.dynamic.datasource.DynamicRoutingDataSource - dynamic-datasource switch to the primary datasource
2026-01-11 18:06:14 [http-nio-9091-exec-2] DEBUG c.b.dynamic.datasource.DynamicRoutingDataSource - dynamic-datasource switch to the primary datasource
2026-01-11 18:06:14 [http-nio-9091-exec-4] DEBUG c.b.dynamic.datasource.DynamicRoutingDataSource - dynamic-datasource switch to the primary datasource
2026-01-11 18:06:14 [http-nio-9091-exec-7] DEBUG org.hibernate.SQL - 
    select
        count(a1_0.id) 
    from
        alert a1_0 
    where
        date(a1_0.alert_time)=date(?)
2026-01-11 18:06:14 [http-nio-9091-exec-2] INFO  com.example.demo.aop.ServiceLogAspect - 【服务调用成功】DeviceService.getCountAll，结果：5
2026-01-11 18:06:14 [http-nio-9091-exec-4] INFO  com.example.demo.aop.ServiceLogAspect - 【服务调用成功】DeviceService.getWaitCalibrationCountNow，结果：1
2026-01-11 18:06:14 [http-nio-9091-exec-9] DEBUG org.hibernate.SQL - 
    select
        d1_0.deviceid,
        d1_0.alert_status,
        d1_0.calibration_operator,
        d1_0.calibration_status,
        d1_0.created_at,
        d1_0.device_code,
        d1_0.device_name,
        d1_0.device_type,
        d1_0.last_calibration,
        d1_0.location,
        d1_0.monitor_status,
        d1_0.next_calibration,
        d1_0.operational_status,
        d1_0.self_calibration,
        d1_0.updated_at 
    from
        devices d1_0
2026-01-11 18:06:14 [http-nio-9091-exec-5] INFO  com.example.demo.aop.ServiceLogAspect - 【服务调用开始】InspectDataService.getLatestInspectionsWithDeviceInfo，参数：[]
2026-01-11 18:06:14 [http-nio-9091-exec-7] DEBUG c.b.dynamic.datasource.DynamicRoutingDataSource - dynamic-datasource switch to the primary datasource
2026-01-11 18:06:14 [http-nio-9091-exec-5] DEBUG org.hibernate.SQL - 
    select
        id1_0.data_id,
        id1_0.batch_no,
        id1_0.create_time,
        d1_0.deviceid,
        d1_0.alert_status,
        d1_0.calibration_operator,
        d1_0.calibration_status,
        d1_0.created_at,
        d1_0.device_code,
        d1_0.device_name,
        d1_0.device_type,
        d1_0.last_calibration,
        d1_0.location,
        d1_0.monitor_status,
        d1_0.next_calibration,
        d1_0.operational_status,
        d1_0.self_calibration,
        d1_0.updated_at,
        id1_0.diameter,
        id1_0.friability,
        id1_0.hardness,
        id1_0.inspect_time,
        id1_0.is_valid,
        id1_0.product_id,
        p1_0.product_id,
        p1_0.product_name,
        p1_0.specification,
        id1_0.thickness,
        id1_0.weight 
    from
        inspection_data id1_0 
    left join
        devices d1_0 
            on d1_0.deviceid=id1_0.device_id 
    join
        product p1_0 
            on p1_0.product_id=id1_0.product_id 
    where
        id1_0.inspect_time=(
            select
                max(id2_0.inspect_time) 
            from
                inspection_data id2_0 
            where
                id2_0.device_id=id1_0.device_id 
                and id2_0.is_valid=1
        )
2026-01-11 18:06:14 [http-nio-9091-exec-7] INFO  com.example.demo.aop.ServiceLogAspect - 【服务调用成功】AlertService.getTodayAlertCount，结果：0
2026-01-11 18:06:14 [http-nio-9091-exec-9] INFO  com.example.demo.aop.ServiceLogAspect - 【服务调用成功】DeviceService.getAllDevices，结果：[com.example.demo.entity.Device@649cc28d, com.example.demo.entity.Device@53a4a9c8, com.example.demo.entity.Device@3280ec65, com.example.demo.entity.Device@31003de4, com.example.demo.entity.Device@338a19e3]
2026-01-11 18:06:14 [http-nio-9091-exec-5] DEBUG c.b.dynamic.datasource.DynamicRoutingDataSource - dynamic-datasource switch to the primary datasource
2026-01-11 18:06:14 [http-nio-9091-exec-5] INFO  com.example.demo.aop.ServiceLogAspect - 【服务调用成功】InspectDataService.getLatestInspectionsWithDeviceInfo，结果：[com.example.demo.entity.InspectionData@2675b2f5, com.example.demo.entity.InspectionData@7a6d4599]
2026-01-11 18:06:15 [http-nio-9091-exec-10] INFO  com.example.demo.aop.ServiceLogAspect - 【服务调用开始】DeviceService.getWaitCalibrationCountNow，参数：[]
2026-01-11 18:06:15 [http-nio-9091-exec-3] INFO  com.example.demo.aop.ServiceLogAspect - 【服务调用开始】DeviceService.getCountAll，参数：[]
2026-01-11 18:06:15 [http-nio-9091-exec-8] INFO  com.example.demo.aop.ServiceLogAspect - 【服务调用开始】AlertService.getTodayAlertCount，参数：[2026-01-11 18:06:15]
2026-01-11 18:06:15 [http-nio-9091-exec-10] DEBUG org.hibernate.SQL - 
    select
        count(d1_0.deviceid) 
    from
        devices d1_0 
    where
        d1_0.calibration_status='PENDING'
2026-01-11 18:06:15 [http-nio-9091-exec-3] DEBUG org.hibernate.SQL - 
    select
        count(d1_0.deviceid) 
    from
        devices d1_0
2026-01-11 18:06:15 [http-nio-9091-exec-10] DEBUG c.b.dynamic.datasource.DynamicRoutingDataSource - dynamic-datasource switch to the primary datasource
2026-01-11 18:06:15 [http-nio-9091-exec-8] DEBUG org.hibernate.SQL - 
    select
        count(a1_0.id) 
    from
        alert a1_0 
    where
        date(a1_0.alert_time)=date(?)
2026-01-11 18:06:15 [http-nio-9091-exec-1] INFO  com.example.demo.aop.ServiceLogAspect - 【服务调用开始】DeviceService.getAllDevices，参数：[]
2026-01-11 18:06:15 [http-nio-9091-exec-3] DEBUG c.b.dynamic.datasource.DynamicRoutingDataSource - dynamic-datasource switch to the primary datasource
2026-01-11 18:06:15 [http-nio-9091-exec-1] DEBUG c.b.dynamic.datasource.DynamicRoutingDataSource - dynamic-datasource switch to the primary datasource
2026-01-11 18:06:15 [http-nio-9091-exec-10] INFO  com.example.demo.aop.ServiceLogAspect - 【服务调用成功】DeviceService.getWaitCalibrationCountNow，结果：1
2026-01-11 18:06:15 [http-nio-9091-exec-8] DEBUG c.b.dynamic.datasource.DynamicRoutingDataSource - dynamic-datasource switch to the primary datasource
2026-01-11 18:06:15 [http-nio-9091-exec-3] INFO  com.example.demo.aop.ServiceLogAspect - 【服务调用成功】DeviceService.getCountAll，结果：5
2026-01-11 18:06:15 [http-nio-9091-exec-8] INFO  com.example.demo.aop.ServiceLogAspect - 【服务调用成功】AlertService.getTodayAlertCount，结果：0
2026-01-11 18:06:15 [http-nio-9091-exec-1] DEBUG org.hibernate.SQL - 
    select
        d1_0.deviceid,
        d1_0.alert_status,
        d1_0.calibration_operator,
        d1_0.calibration_status,
        d1_0.created_at,
        d1_0.device_code,
        d1_0.device_name,
        d1_0.device_type,
        d1_0.last_calibration,
        d1_0.location,
        d1_0.monitor_status,
        d1_0.next_calibration,
        d1_0.operational_status,
        d1_0.self_calibration,
        d1_0.updated_at 
    from
        devices d1_0
2026-01-11 18:06:15 [http-nio-9091-exec-1] INFO  com.example.demo.aop.ServiceLogAspect - 【服务调用成功】DeviceService.getAllDevices，结果：[com.example.demo.entity.Device@74ebb57, com.example.demo.entity.Device@5bfd1a59, com.example.demo.entity.Device@3c693cec, com.example.demo.entity.Device@4061962c, com.example.demo.entity.Device@32070974]
2026-01-11 18:06:15 [http-nio-9091-exec-6] INFO  com.example.demo.aop.ServiceLogAspect - 【服务调用开始】DeviceService.getCountAll，参数：[]
2026-01-11 18:06:15 [http-nio-9091-exec-6] DEBUG org.hibernate.SQL - 
    select
        count(d1_0.deviceid) 
    from
        devices d1_0
2026-01-11 18:06:15 [http-nio-9091-exec-6] DEBUG c.b.dynamic.datasource.DynamicRoutingDataSource - dynamic-datasource switch to the primary datasource
2026-01-11 18:06:15 [http-nio-9091-exec-6] INFO  com.example.demo.aop.ServiceLogAspect - 【服务调用成功】DeviceService.getCountAll，结果：5
2026-01-11 18:06:15 [http-nio-9091-exec-4] INFO  com.example.demo.aop.ServiceLogAspect - 【服务调用开始】DeviceService.getWaitCalibrationCountNow，参数：[]
2026-01-11 18:06:15 [http-nio-9091-exec-4] DEBUG org.hibernate.SQL - 
    select
        count(d1_0.deviceid) 
    from
        devices d1_0 
    where
        d1_0.calibration_status='PENDING'
2026-01-11 18:06:15 [http-nio-9091-exec-2] INFO  com.example.demo.aop.ServiceLogAspect - 【服务调用开始】AlertService.getTodayAlertCount，参数：[2026-01-11 18:06:15]
2026-01-11 18:06:15 [http-nio-9091-exec-4] DEBUG c.b.dynamic.datasource.DynamicRoutingDataSource - dynamic-datasource switch to the primary datasource
2026-01-11 18:06:15 [http-nio-9091-exec-2] DEBUG org.hibernate.SQL - 
    select
        count(a1_0.id) 
    from
        alert a1_0 
    where
        date(a1_0.alert_time)=date(?)
2026-01-11 18:06:15 [http-nio-9091-exec-2] DEBUG c.b.dynamic.datasource.DynamicRoutingDataSource - dynamic-datasource switch to the primary datasource
2026-01-11 18:06:15 [http-nio-9091-exec-7] INFO  com.example.demo.aop.ServiceLogAspect - 【服务调用开始】DeviceService.getAllDevices，参数：[]
2026-01-11 18:06:15 [http-nio-9091-exec-4] INFO  com.example.demo.aop.ServiceLogAspect - 【服务调用成功】DeviceService.getWaitCalibrationCountNow，结果：1
2026-01-11 18:06:15 [http-nio-9091-exec-7] DEBUG c.b.dynamic.datasource.DynamicRoutingDataSource - dynamic-datasource switch to the primary datasource
2026-01-11 18:06:15 [http-nio-9091-exec-2] INFO  com.example.demo.aop.ServiceLogAspect - 【服务调用成功】AlertService.getTodayAlertCount，结果：0
2026-01-11 18:06:15 [http-nio-9091-exec-7] DEBUG org.hibernate.SQL - 
    select
        d1_0.deviceid,
        d1_0.alert_status,
        d1_0.calibration_operator,
        d1_0.calibration_status,
        d1_0.created_at,
        d1_0.device_code,
        d1_0.device_name,
        d1_0.device_type,
        d1_0.last_calibration,
        d1_0.location,
        d1_0.monitor_status,
        d1_0.next_calibration,
        d1_0.operational_status,
        d1_0.self_calibration,
        d1_0.updated_at 
    from
        devices d1_0
2026-01-11 18:06:15 [http-nio-9091-exec-7] INFO  com.example.demo.aop.ServiceLogAspect - 【服务调用成功】DeviceService.getAllDevices，结果：[com.example.demo.entity.Device@55ad1add, com.example.demo.entity.Device@2f595545, com.example.demo.entity.Device@2987ae7d, com.example.demo.entity.Device@61b238fa, com.example.demo.entity.Device@5cf4ade3]
2026-01-11 18:06:16 [http-nio-9091-exec-9] INFO  com.example.demo.aop.ServiceLogAspect - 【服务调用开始】DeviceService.getCountAll，参数：[]
2026-01-11 18:06:16 [http-nio-9091-exec-9] DEBUG org.hibernate.SQL - 
    select
        count(d1_0.deviceid) 
    from
        devices d1_0
2026-01-11 18:06:16 [http-nio-9091-exec-9] DEBUG c.b.dynamic.datasource.DynamicRoutingDataSource - dynamic-datasource switch to the primary datasource
2026-01-11 18:06:16 [http-nio-9091-exec-9] INFO  com.example.demo.aop.ServiceLogAspect - 【服务调用成功】DeviceService.getCountAll，结果：5
2026-01-11 18:06:16 [http-nio-9091-exec-5] INFO  com.example.demo.aop.ServiceLogAspect - 【服务调用开始】AlertService.getTodayAlertCount，参数：[2026-01-11 18:06:16]
2026-01-11 18:06:16 [http-nio-9091-exec-3] INFO  com.example.demo.aop.ServiceLogAspect - 【服务调用开始】DeviceService.getAllDevices，参数：[]
2026-01-11 18:06:16 [http-nio-9091-exec-10] INFO  com.example.demo.aop.ServiceLogAspect - 【服务调用开始】DeviceService.getWaitCalibrationCountNow，参数：[]
2026-01-11 18:06:16 [http-nio-9091-exec-3] DEBUG c.b.dynamic.datasource.DynamicRoutingDataSource - dynamic-datasource switch to the primary datasource
2026-01-11 18:06:16 [http-nio-9091-exec-8] INFO  com.example.demo.aop.ServiceLogAspect - 【服务调用开始】InspectDataService.getLatestInspectionsWithDeviceInfo，参数：[]
2026-01-11 18:06:16 [http-nio-9091-exec-10] DEBUG org.hibernate.SQL - 
    select
        count(d1_0.deviceid) 
    from
        devices d1_0 
    where
        d1_0.calibration_status='PENDING'
2026-01-11 18:06:16 [http-nio-9091-exec-5] DEBUG org.hibernate.SQL - 
    select
        count(a1_0.id) 
    from
        alert a1_0 
    where
        date(a1_0.alert_time)=date(?)
2026-01-11 18:06:16 [http-nio-9091-exec-3] DEBUG org.hibernate.SQL - 
    select
        d1_0.deviceid,
        d1_0.alert_status,
        d1_0.calibration_operator,
        d1_0.calibration_status,
        d1_0.created_at,
        d1_0.device_code,
        d1_0.device_name,
        d1_0.device_type,
        d1_0.last_calibration,
        d1_0.location,
        d1_0.monitor_status,
        d1_0.next_calibration,
        d1_0.operational_status,
        d1_0.self_calibration,
        d1_0.updated_at 
    from
        devices d1_0
2026-01-11 18:06:16 [http-nio-9091-exec-8] DEBUG org.hibernate.SQL - 
    select
        id1_0.data_id,
        id1_0.batch_no,
        id1_0.create_time,
        d1_0.deviceid,
        d1_0.alert_status,
        d1_0.calibration_operator,
        d1_0.calibration_status,
        d1_0.created_at,
        d1_0.device_code,
        d1_0.device_name,
        d1_0.device_type,
        d1_0.last_calibration,
        d1_0.location,
        d1_0.monitor_status,
        d1_0.next_calibration,
        d1_0.operational_status,
        d1_0.self_calibration,
        d1_0.updated_at,
        id1_0.diameter,
        id1_0.friability,
        id1_0.hardness,
        id1_0.inspect_time,
        id1_0.is_valid,
        id1_0.product_id,
        p1_0.product_id,
        p1_0.product_name,
        p1_0.specification,
        id1_0.thickness,
        id1_0.weight 
    from
        inspection_data id1_0 
    left join
        devices d1_0 
            on d1_0.deviceid=id1_0.device_id 
    join
        product p1_0 
            on p1_0.product_id=id1_0.product_id 
    where
        id1_0.inspect_time=(
            select
                max(id2_0.inspect_time) 
            from
                inspection_data id2_0 
            where
                id2_0.device_id=id1_0.device_id 
                and id2_0.is_valid=1
        )
2026-01-11 18:06:16 [http-nio-9091-exec-10] DEBUG c.b.dynamic.datasource.DynamicRoutingDataSource - dynamic-datasource switch to the primary datasource
2026-01-11 18:06:16 [http-nio-9091-exec-5] DEBUG c.b.dynamic.datasource.DynamicRoutingDataSource - dynamic-datasource switch to the primary datasource
2026-01-11 18:06:16 [http-nio-9091-exec-10] INFO  com.example.demo.aop.ServiceLogAspect - 【服务调用成功】DeviceService.getWaitCalibrationCountNow，结果：1
2026-01-11 18:06:16 [http-nio-9091-exec-8] DEBUG c.b.dynamic.datasource.DynamicRoutingDataSource - dynamic-datasource switch to the primary datasource
2026-01-11 18:06:16 [http-nio-9091-exec-5] INFO  com.example.demo.aop.ServiceLogAspect - 【服务调用成功】AlertService.getTodayAlertCount，结果：0
2026-01-11 18:06:16 [http-nio-9091-exec-3] INFO  com.example.demo.aop.ServiceLogAspect - 【服务调用成功】DeviceService.getAllDevices，结果：[com.example.demo.entity.Device@4d95abce, com.example.demo.entity.Device@64cd063d, com.example.demo.entity.Device@7eb42c1d, com.example.demo.entity.Device@56471e22, com.example.demo.entity.Device@366c14ff]
2026-01-11 18:06:16 [http-nio-9091-exec-8] INFO  com.example.demo.aop.ServiceLogAspect - 【服务调用成功】InspectDataService.getLatestInspectionsWithDeviceInfo，结果：[com.example.demo.entity.InspectionData@4c2b3413, com.example.demo.entity.InspectionData@1c103afb]
2026-01-11 18:06:17 [http-nio-9091-exec-6] INFO  com.example.demo.aop.ServiceLogAspect - 【服务调用开始】DeviceService.getCountAll，参数：[]
2026-01-11 18:06:17 [http-nio-9091-exec-4] INFO  com.example.demo.aop.ServiceLogAspect - 【服务调用开始】DeviceService.getWaitCalibrationCountNow，参数：[]
2026-01-11 18:06:17 [http-nio-9091-exec-1] INFO  com.example.demo.aop.ServiceLogAspect - 【服务调用开始】AlertService.getTodayAlertCount，参数：[2026-01-11 18:06:17]
2026-01-11 18:06:17 [http-nio-9091-exec-6] DEBUG org.hibernate.SQL - 
    select
        count(d1_0.deviceid) 
    from
        devices d1_0
2026-01-11 18:06:17 [http-nio-9091-exec-1] DEBUG org.hibernate.SQL - 
    select
        count(a1_0.id) 
    from
        alert a1_0 
    where
        date(a1_0.alert_time)=date(?)
2026-01-11 18:06:17 [http-nio-9091-exec-2] INFO  com.example.demo.aop.ServiceLogAspect - 【服务调用开始】AlertService.getDeviceAlertOverview，参数：[]
2026-01-11 18:06:17 [http-nio-9091-exec-4] DEBUG org.hibernate.SQL - 
    select
        count(d1_0.deviceid) 
    from
        devices d1_0 
    where
        d1_0.calibration_status='PENDING'
2026-01-11 18:06:17 [http-nio-9091-exec-6] DEBUG c.b.dynamic.datasource.DynamicRoutingDataSource - dynamic-datasource switch to the primary datasource
2026-01-11 18:06:17 [http-nio-9091-exec-2] DEBUG c.b.dynamic.datasource.DynamicRoutingDataSource - dynamic-datasource switch to the primary datasource
2026-01-11 18:06:17 [http-nio-9091-exec-7] INFO  com.example.demo.aop.ServiceLogAspect - 【服务调用开始】AlertService.getAlertDetailsByTimeRange，参数：[2026-01-04T02:06, 2026-01-11T02:06, null, 0, 50]
2026-01-11 18:06:17 [http-nio-9091-exec-1] DEBUG c.b.dynamic.datasource.DynamicRoutingDataSource - dynamic-datasource switch to the primary datasource
2026-01-11 18:06:17 [http-nio-9091-exec-4] DEBUG c.b.dynamic.datasource.DynamicRoutingDataSource - dynamic-datasource switch to the primary datasource
2026-01-11 18:06:17 [http-nio-9091-exec-7] DEBUG org.hibernate.SQL - 
    select
        a1_0.alert_time,
        d1_0.device_code,
        d1_0.device_name,
        d1_0.device_type,
        d1_0.location,
        d1_0.monitor_status,
        a1_0.alert_type,
        a1_0.alert_level,
        a1_0.context 
    from
        alert a1_0 
    join
        devices d1_0 
            on d1_0.deviceid=a1_0.device_id 
    where
        (
            ? is null 
            or a1_0.alert_time>=?
        ) 
        and (
            ? is null 
            or a1_0.alert_time<=?
        ) 
        and (
            ? is null 
            or d1_0.device_code=?
        ) 
    order by
        a1_0.alert_time desc 
    limit
        ?
2026-01-11 18:06:17 [http-nio-9091-exec-6] INFO  com.example.demo.aop.ServiceLogAspect - 【服务调用成功】DeviceService.getCountAll，结果：5
2026-01-11 18:06:17 [http-nio-9091-exec-1] INFO  com.example.demo.aop.ServiceLogAspect - 【服务调用成功】AlertService.getTodayAlertCount，结果：0
2026-01-11 18:06:17 [http-nio-9091-exec-4] INFO  com.example.demo.aop.ServiceLogAspect - 【服务调用成功】DeviceService.getWaitCalibrationCountNow，结果：1
2026-01-11 18:06:17 [http-nio-9091-exec-2] DEBUG org.hibernate.SQL - 
    select
        d1_0.deviceid,
        d1_0.alert_status,
        d1_0.calibration_operator,
        d1_0.calibration_status,
        d1_0.created_at,
        d1_0.device_code,
        d1_0.device_name,
        d1_0.device_type,
        d1_0.last_calibration,
        d1_0.location,
        d1_0.monitor_status,
        d1_0.next_calibration,
        d1_0.operational_status,
        d1_0.self_calibration,
        d1_0.updated_at 
    from
        devices d1_0
2026-01-11 18:06:17 [http-nio-9091-exec-7] DEBUG c.b.dynamic.datasource.DynamicRoutingDataSource - dynamic-datasource switch to the primary datasource
2026-01-11 18:06:17 [http-nio-9091-exec-7] INFO  com.example.demo.aop.ServiceLogAspect - 【服务调用成功】AlertService.getAlertDetailsByTimeRange，结果：{pageSize=50, currentPage=0, totalPages=0, totalElements=0, content=[]}
2026-01-11 18:06:17 [http-nio-9091-exec-2] DEBUG org.hibernate.SQL - 
    select
        a1_0.id,
        a1_0.alert_level,
        a1_0.alert_time,
        a1_0.alert_type,
        a1_0.context,
        a1_0.device_id 
    from
        alert a1_0 
    left join
        devices d1_0 
            on d1_0.deviceid=a1_0.device_id 
    where
        d1_0.deviceid=? 
    order by
        a1_0.alert_time desc 
    limit
        ?
2026-01-11 18:06:17 [http-nio-9091-exec-2] DEBUG org.hibernate.SQL - 
    select
        a1_0.id,
        a1_0.alert_level,
        a1_0.alert_time,
        a1_0.alert_type,
        a1_0.context,
        a1_0.device_id 
    from
        alert a1_0 
    left join
        devices d1_0 
            on d1_0.deviceid=a1_0.device_id 
    where
        d1_0.deviceid=? 
    order by
        a1_0.alert_time desc 
    limit
        ?
2026-01-11 18:06:17 [http-nio-9091-exec-2] DEBUG org.hibernate.SQL - 
    select
        a1_0.id,
        a1_0.alert_level,
        a1_0.alert_time,
        a1_0.alert_type,
        a1_0.context,
        a1_0.device_id 
    from
        alert a1_0 
    left join
        devices d1_0 
            on d1_0.deviceid=a1_0.device_id 
    where
        d1_0.deviceid=? 
    order by
        a1_0.alert_time desc 
    limit
        ?
2026-01-11 18:06:17 [http-nio-9091-exec-2] DEBUG org.hibernate.SQL - 
    select
        a1_0.id,
        a1_0.alert_level,
        a1_0.alert_time,
        a1_0.alert_type,
        a1_0.context,
        a1_0.device_id 
    from
        alert a1_0 
    left join
        devices d1_0 
            on d1_0.deviceid=a1_0.device_id 
    where
        d1_0.deviceid=? 
    order by
        a1_0.alert_time desc 
    limit
        ?
2026-01-11 18:06:17 [http-nio-9091-exec-2] DEBUG org.hibernate.SQL - 
    select
        a1_0.id,
        a1_0.alert_level,
        a1_0.alert_time,
        a1_0.alert_type,
        a1_0.context,
        a1_0.device_id 
    from
        alert a1_0 
    left join
        devices d1_0 
            on d1_0.deviceid=a1_0.device_id 
    where
        d1_0.deviceid=? 
    order by
        a1_0.alert_time desc 
    limit
        ?
2026-01-11 18:06:17 [http-nio-9091-exec-2] INFO  com.example.demo.aop.ServiceLogAspect - 【服务调用成功】AlertService.getDeviceAlertOverview，结果：[{deviceType=D4, operationalStatus=RUNNING, alertStatus=ON, latestAlertLevel=YELLOW, latestAlertTime=2025-07-13T10:05:04, location=loc1, deviceCode=001, deviceId=1, deviceName=Inoue Rin, monitorStatus=MONITORON, latestAlertContext=002}, {deviceType=DB, operationalStatus=RUNNING, alertStatus=OFF, latestAlertLevel=null, latestAlertTime=null, location=loc2, deviceCode=002, deviceId=2, deviceName=Kong Lan, monitorStatus=MONITORON, latestAlertContext=null}, {deviceType=DB, operationalStatus=OFFLINE, alertStatus=OFF, latestAlertLevel=null, latestAlertTime=null, location=loc3, deviceCode=003, deviceId=3, deviceName=Chic Kwok Yin, monitorStatus=MONITORINTERRUPT, latestAlertContext=null}, {deviceType=D4, operationalStatus=OFFLINE, alertStatus=OFF, latestAlertLevel=null, latestAlertTime=null, location=loc4, deviceCode=004, deviceId=4, deviceName=Lo Wai Lam, monitorStatus=MONITORON, latestAlertContext=null}, {deviceType=DB, operationalStatus=OFFLINE, alertStatus=OFF, latestAlertLevel=null, latestAlertTime=null, location=loc5, deviceCode=005, deviceId=5, deviceName=Saito Ayano, monitorStatus=MONITOROFF, latestAlertContext=null}]
2026-01-11 18:06:42 [http-nio-9091-exec-5] INFO  com.example.demo.aop.ServiceLogAspect - 【服务调用开始】AlertService.getDeviceAlertOverview，参数：[]
2026-01-11 18:06:42 [http-nio-9091-exec-10] INFO  com.example.demo.aop.ServiceLogAspect - 【服务调用开始】DeviceService.getCountAll，参数：[]
2026-01-11 18:06:42 [http-nio-9091-exec-10] DEBUG org.hibernate.SQL - 
    select
        count(d1_0.deviceid) 
    from
        devices d1_0
2026-01-11 18:06:42 [http-nio-9091-exec-9] INFO  com.example.demo.aop.ServiceLogAspect - 【服务调用开始】AlertService.getTodayAlertCount，参数：[2026-01-11 18:06:42]
2026-01-11 18:06:42 [http-nio-9091-exec-3] INFO  com.example.demo.aop.ServiceLogAspect - 【服务调用开始】DeviceService.getWaitCalibrationCountNow，参数：[]
2026-01-11 18:06:42 [http-nio-9091-exec-5] DEBUG c.b.dynamic.datasource.DynamicRoutingDataSource - dynamic-datasource switch to the primary datasource
2026-01-11 18:06:42 [http-nio-9091-exec-1] INFO  com.example.demo.aop.ServiceLogAspect - 【服务调用开始】UserService.getStaffByStaffcode，参数：[admin]
2026-01-11 18:06:42 [http-nio-9091-exec-8] INFO  com.example.demo.aop.ServiceLogAspect - 【服务调用开始】AlertService.getAlertDetailsByTimeRange，参数：[2026-01-04T02:06, 2026-01-11T02:06, null, 0, 50]
2026-01-11 18:06:42 [http-nio-9091-exec-9] DEBUG org.hibernate.SQL - 
    select
        count(a1_0.id) 
    from
        alert a1_0 
    where
        date(a1_0.alert_time)=date(?)
2026-01-11 18:06:42 [http-nio-9091-exec-3] DEBUG org.hibernate.SQL - 
    select
        count(d1_0.deviceid) 
    from
        devices d1_0 
    where
        d1_0.calibration_status='PENDING'
2026-01-11 18:06:42 [http-nio-9091-exec-10] DEBUG c.b.dynamic.datasource.DynamicRoutingDataSource - dynamic-datasource switch to the primary datasource
2026-01-11 18:06:42 [http-nio-9091-exec-5] DEBUG org.hibernate.SQL - 
    select
        d1_0.deviceid,
        d1_0.alert_status,
        d1_0.calibration_operator,
        d1_0.calibration_status,
        d1_0.created_at,
        d1_0.device_code,
        d1_0.device_name,
        d1_0.device_type,
        d1_0.last_calibration,
        d1_0.location,
        d1_0.monitor_status,
        d1_0.next_calibration,
        d1_0.operational_status,
        d1_0.self_calibration,
        d1_0.updated_at 
    from
        devices d1_0
2026-01-11 18:06:42 [http-nio-9091-exec-1] DEBUG org.hibernate.SQL - 
    select
        s1_0.staffid,
        s1_0.department,
        s1_0.password,
        s1_0.staffcode,
        s1_0.staffname 
    from
        staffinfo s1_0 
    where
        s1_0.staffcode=?
2026-01-11 18:06:42 [http-nio-9091-exec-8] DEBUG org.hibernate.SQL - 
    select
        a1_0.alert_time,
        d1_0.device_code,
        d1_0.device_name,
        d1_0.device_type,
        d1_0.location,
        d1_0.monitor_status,
        a1_0.alert_type,
        a1_0.alert_level,
        a1_0.context 
    from
        alert a1_0 
    join
        devices d1_0 
            on d1_0.deviceid=a1_0.device_id 
    where
        (
            ? is null 
            or a1_0.alert_time>=?
        ) 
        and (
            ? is null 
            or a1_0.alert_time<=?
        ) 
        and (
            ? is null 
            or d1_0.device_code=?
        ) 
    order by
        a1_0.alert_time desc 
    limit
        ?
2026-01-11 18:06:42 [http-nio-9091-exec-9] DEBUG c.b.dynamic.datasource.DynamicRoutingDataSource - dynamic-datasource switch to the primary datasource
2026-01-11 18:06:42 [http-nio-9091-exec-3] DEBUG c.b.dynamic.datasource.DynamicRoutingDataSource - dynamic-datasource switch to the primary datasource
2026-01-11 18:06:42 [http-nio-9091-exec-10] INFO  com.example.demo.aop.ServiceLogAspect - 【服务调用成功】DeviceService.getCountAll，结果：5
2026-01-11 18:06:42 [http-nio-9091-exec-9] INFO  com.example.demo.aop.ServiceLogAspect - 【服务调用成功】AlertService.getTodayAlertCount，结果：0
2026-01-11 18:06:42 [http-nio-9091-exec-5] DEBUG org.hibernate.SQL - 
    select
        a1_0.id,
        a1_0.alert_level,
        a1_0.alert_time,
        a1_0.alert_type,
        a1_0.context,
        a1_0.device_id 
    from
        alert a1_0 
    left join
        devices d1_0 
            on d1_0.deviceid=a1_0.device_id 
    where
        d1_0.deviceid=? 
    order by
        a1_0.alert_time desc 
    limit
        ?
2026-01-11 18:06:42 [http-nio-9091-exec-1] DEBUG c.b.dynamic.datasource.DynamicRoutingDataSource - dynamic-datasource switch to the primary datasource
2026-01-11 18:06:42 [http-nio-9091-exec-3] INFO  com.example.demo.aop.ServiceLogAspect - 【服务调用成功】DeviceService.getWaitCalibrationCountNow，结果：1
2026-01-11 18:06:42 [http-nio-9091-exec-8] DEBUG c.b.dynamic.datasource.DynamicRoutingDataSource - dynamic-datasource switch to the primary datasource
2026-01-11 18:06:42 [http-nio-9091-exec-5] DEBUG org.hibernate.SQL - 
    select
        a1_0.id,
        a1_0.alert_level,
        a1_0.alert_time,
        a1_0.alert_type,
        a1_0.context,
        a1_0.device_id 
    from
        alert a1_0 
    left join
        devices d1_0 
            on d1_0.deviceid=a1_0.device_id 
    where
        d1_0.deviceid=? 
    order by
        a1_0.alert_time desc 
    limit
        ?
2026-01-11 18:06:42 [http-nio-9091-exec-8] INFO  com.example.demo.aop.ServiceLogAspect - 【服务调用成功】AlertService.getAlertDetailsByTimeRange，结果：{pageSize=50, currentPage=0, totalPages=0, totalElements=0, content=[]}
2026-01-11 18:06:42 [http-nio-9091-exec-1] DEBUG org.hibernate.SQL - 
    select
        sr1_0.id,
        r1_0.roleid,
        r1_0.roledescription,
        r1_0.rolename,
        s1_0.staffid,
        s1_0.department,
        s1_0.password,
        s1_0.staffcode,
        s1_0.staffname 
    from
        staffrole sr1_0 
    left join
        roleinfo r1_0 
            on r1_0.roleid=sr1_0.roleid 
    left join
        staffinfo s1_0 
            on s1_0.staffid=sr1_0.staffid 
    where
        sr1_0.staffid=?
2026-01-11 18:06:42 [http-nio-9091-exec-1] INFO  com.example.demo.aop.ServiceLogAspect - 【服务调用成功】UserService.getStaffByStaffcode，结果：com.example.demo.entity.Staff@2e3b57e7
2026-01-11 18:06:42 [http-nio-9091-exec-5] DEBUG org.hibernate.SQL - 
    select
        a1_0.id,
        a1_0.alert_level,
        a1_0.alert_time,
        a1_0.alert_type,
        a1_0.context,
        a1_0.device_id 
    from
        alert a1_0 
    left join
        devices d1_0 
            on d1_0.deviceid=a1_0.device_id 
    where
        d1_0.deviceid=? 
    order by
        a1_0.alert_time desc 
    limit
        ?
2026-01-11 18:06:42 [http-nio-9091-exec-1] INFO  com.example.demo.aop.ServiceLogAspect - 【服务调用开始】RoleService.getRoleById，参数：[1]
2026-01-11 18:06:42 [http-nio-9091-exec-1] DEBUG org.hibernate.SQL - 
    select
        r1_0.roleid,
        r1_0.roledescription,
        r1_0.rolename 
    from
        roleinfo r1_0 
    where
        r1_0.roleid=?
2026-01-11 18:06:42 [http-nio-9091-exec-5] DEBUG org.hibernate.SQL - 
    select
        a1_0.id,
        a1_0.alert_level,
        a1_0.alert_time,
        a1_0.alert_type,
        a1_0.context,
        a1_0.device_id 
    from
        alert a1_0 
    left join
        devices d1_0 
            on d1_0.deviceid=a1_0.device_id 
    where
        d1_0.deviceid=? 
    order by
        a1_0.alert_time desc 
    limit
        ?
2026-01-11 18:06:42 [http-nio-9091-exec-1] INFO  com.example.demo.aop.ServiceLogAspect - 【服务调用成功】RoleService.getRoleById，结果：com.example.demo.entity.Role@3eace763
2026-01-11 18:06:42 [http-nio-9091-exec-5] DEBUG org.hibernate.SQL - 
    select
        a1_0.id,
        a1_0.alert_level,
        a1_0.alert_time,
        a1_0.alert_type,
        a1_0.context,
        a1_0.device_id 
    from
        alert a1_0 
    left join
        devices d1_0 
            on d1_0.deviceid=a1_0.device_id 
    where
        d1_0.deviceid=? 
    order by
        a1_0.alert_time desc 
    limit
        ?
2026-01-11 18:06:42 [http-nio-9091-exec-5] INFO  com.example.demo.aop.ServiceLogAspect - 【服务调用成功】AlertService.getDeviceAlertOverview，结果：[{deviceType=D4, operationalStatus=RUNNING, alertStatus=ON, latestAlertLevel=YELLOW, latestAlertTime=2025-07-13T10:05:04, location=loc1, deviceCode=001, deviceId=1, deviceName=Inoue Rin, monitorStatus=MONITORON, latestAlertContext=002}, {deviceType=DB, operationalStatus=RUNNING, alertStatus=OFF, latestAlertLevel=null, latestAlertTime=null, location=loc2, deviceCode=002, deviceId=2, deviceName=Kong Lan, monitorStatus=MONITORON, latestAlertContext=null}, {deviceType=DB, operationalStatus=OFFLINE, alertStatus=OFF, latestAlertLevel=null, latestAlertTime=null, location=loc3, deviceCode=003, deviceId=3, deviceName=Chic Kwok Yin, monitorStatus=MONITORINTERRUPT, latestAlertContext=null}, {deviceType=D4, operationalStatus=OFFLINE, alertStatus=OFF, latestAlertLevel=null, latestAlertTime=null, location=loc4, deviceCode=004, deviceId=4, deviceName=Lo Wai Lam, monitorStatus=MONITORON, latestAlertContext=null}, {deviceType=DB, operationalStatus=OFFLINE, alertStatus=OFF, latestAlertLevel=null, latestAlertTime=null, location=loc5, deviceCode=005, deviceId=5, deviceName=Saito Ayano, monitorStatus=MONITOROFF, latestAlertContext=null}]
2026-01-11 18:06:42 [http-nio-9091-exec-6] INFO  com.example.demo.aop.ServiceLogAspect - 【服务调用开始】DeviceService.getCountAll，参数：[]
2026-01-11 18:06:42 [http-nio-9091-exec-6] DEBUG org.hibernate.SQL - 
    select
        count(d1_0.deviceid) 
    from
        devices d1_0
2026-01-11 18:06:42 [http-nio-9091-exec-7] INFO  com.example.demo.aop.ServiceLogAspect - 【服务调用开始】DeviceService.getWaitCalibrationCountNow，参数：[]
2026-01-11 18:06:42 [http-nio-9091-exec-7] DEBUG org.hibernate.SQL - 
    select
        count(d1_0.deviceid) 
    from
        devices d1_0 
    where
        d1_0.calibration_status='PENDING'
2026-01-11 18:06:42 [http-nio-9091-exec-4] INFO  com.example.demo.aop.ServiceLogAspect - 【服务调用开始】AlertService.getTodayAlertCount，参数：[2026-01-11 18:06:42]
2026-01-11 18:06:42 [http-nio-9091-exec-6] DEBUG c.b.dynamic.datasource.DynamicRoutingDataSource - dynamic-datasource switch to the primary datasource
2026-01-11 18:06:42 [http-nio-9091-exec-7] DEBUG c.b.dynamic.datasource.DynamicRoutingDataSource - dynamic-datasource switch to the primary datasource
2026-01-11 18:06:42 [http-nio-9091-exec-4] DEBUG org.hibernate.SQL - 
    select
        count(a1_0.id) 
    from
        alert a1_0 
    where
        date(a1_0.alert_time)=date(?)
2026-01-11 18:06:42 [http-nio-9091-exec-6] INFO  com.example.demo.aop.ServiceLogAspect - 【服务调用成功】DeviceService.getCountAll，结果：5
2026-01-11 18:06:42 [http-nio-9091-exec-7] INFO  com.example.demo.aop.ServiceLogAspect - 【服务调用成功】DeviceService.getWaitCalibrationCountNow，结果：1
2026-01-11 18:06:42 [http-nio-9091-exec-4] DEBUG c.b.dynamic.datasource.DynamicRoutingDataSource - dynamic-datasource switch to the primary datasource
2026-01-11 18:06:42 [http-nio-9091-exec-4] INFO  com.example.demo.aop.ServiceLogAspect - 【服务调用成功】AlertService.getTodayAlertCount，结果：0
2026-01-11 18:06:45 [http-nio-9091-exec-2] INFO  com.example.demo.aop.ServiceLogAspect - 【服务调用开始】DeviceService.getCountAll，参数：[]
2026-01-11 18:06:45 [http-nio-9091-exec-2] DEBUG org.hibernate.SQL - 
    select
        count(d1_0.deviceid) 
    from
        devices d1_0
2026-01-11 18:06:45 [http-nio-9091-exec-2] DEBUG c.b.dynamic.datasource.DynamicRoutingDataSource - dynamic-datasource switch to the primary datasource
2026-01-11 18:06:45 [http-nio-9091-exec-2] INFO  com.example.demo.aop.ServiceLogAspect - 【服务调用成功】DeviceService.getCountAll，结果：5
2026-01-11 18:06:45 [http-nio-9091-exec-3] INFO  com.example.demo.aop.ServiceLogAspect - 【服务调用开始】DeviceService.getAllDevices，参数：[]
2026-01-11 18:06:45 [http-nio-9091-exec-9] INFO  com.example.demo.aop.ServiceLogAspect - 【服务调用开始】DeviceService.getWaitCalibrationCountNow，参数：[]
2026-01-11 18:06:45 [http-nio-9091-exec-3] DEBUG c.b.dynamic.datasource.DynamicRoutingDataSource - dynamic-datasource switch to the primary datasource
2026-01-11 18:06:45 [http-nio-9091-exec-10] INFO  com.example.demo.aop.ServiceLogAspect - 【服务调用开始】AlertService.getTodayAlertCount，参数：[2026-01-11 18:06:45]
2026-01-11 18:06:45 [http-nio-9091-exec-9] DEBUG org.hibernate.SQL - 
    select
        count(d1_0.deviceid) 
    from
        devices d1_0 
    where
        d1_0.calibration_status='PENDING'
2026-01-11 18:06:45 [http-nio-9091-exec-9] DEBUG c.b.dynamic.datasource.DynamicRoutingDataSource - dynamic-datasource switch to the primary datasource
2026-01-11 18:06:45 [http-nio-9091-exec-10] DEBUG org.hibernate.SQL - 
    select
        count(a1_0.id) 
    from
        alert a1_0 
    where
        date(a1_0.alert_time)=date(?)
2026-01-11 18:06:45 [http-nio-9091-exec-3] DEBUG org.hibernate.SQL - 
    select
        d1_0.deviceid,
        d1_0.alert_status,
        d1_0.calibration_operator,
        d1_0.calibration_status,
        d1_0.created_at,
        d1_0.device_code,
        d1_0.device_name,
        d1_0.device_type,
        d1_0.last_calibration,
        d1_0.location,
        d1_0.monitor_status,
        d1_0.next_calibration,
        d1_0.operational_status,
        d1_0.self_calibration,
        d1_0.updated_at 
    from
        devices d1_0
2026-01-11 18:06:45 [http-nio-9091-exec-9] INFO  com.example.demo.aop.ServiceLogAspect - 【服务调用成功】DeviceService.getWaitCalibrationCountNow，结果：1
2026-01-11 18:06:45 [http-nio-9091-exec-8] INFO  com.example.demo.aop.ServiceLogAspect - 【服务调用开始】InspectDataService.getLatestInspectionsWithDeviceInfo，参数：[]
2026-01-11 18:06:45 [http-nio-9091-exec-10] DEBUG c.b.dynamic.datasource.DynamicRoutingDataSource - dynamic-datasource switch to the primary datasource
2026-01-11 18:06:45 [http-nio-9091-exec-10] INFO  com.example.demo.aop.ServiceLogAspect - 【服务调用成功】AlertService.getTodayAlertCount，结果：0
2026-01-11 18:06:45 [http-nio-9091-exec-8] DEBUG org.hibernate.SQL - 
    select
        id1_0.data_id,
        id1_0.batch_no,
        id1_0.create_time,
        d1_0.deviceid,
        d1_0.alert_status,
        d1_0.calibration_operator,
        d1_0.calibration_status,
        d1_0.created_at,
        d1_0.device_code,
        d1_0.device_name,
        d1_0.device_type,
        d1_0.last_calibration,
        d1_0.location,
        d1_0.monitor_status,
        d1_0.next_calibration,
        d1_0.operational_status,
        d1_0.self_calibration,
        d1_0.updated_at,
        id1_0.diameter,
        id1_0.friability,
        id1_0.hardness,
        id1_0.inspect_time,
        id1_0.is_valid,
        id1_0.product_id,
        p1_0.product_id,
        p1_0.product_name,
        p1_0.specification,
        id1_0.thickness,
        id1_0.weight 
    from
        inspection_data id1_0 
    left join
        devices d1_0 
            on d1_0.deviceid=id1_0.device_id 
    join
        product p1_0 
            on p1_0.product_id=id1_0.product_id 
    where
        id1_0.inspect_time=(
            select
                max(id2_0.inspect_time) 
            from
                inspection_data id2_0 
            where
                id2_0.device_id=id1_0.device_id 
                and id2_0.is_valid=1
        )
2026-01-11 18:06:45 [http-nio-9091-exec-3] INFO  com.example.demo.aop.ServiceLogAspect - 【服务调用成功】DeviceService.getAllDevices，结果：[com.example.demo.entity.Device@46bbd4b0, com.example.demo.entity.Device@11df23e6, com.example.demo.entity.Device@52cb3dad, com.example.demo.entity.Device@5ee56f9a, com.example.demo.entity.Device@46632ea2]
2026-01-11 18:06:45 [http-nio-9091-exec-8] DEBUG c.b.dynamic.datasource.DynamicRoutingDataSource - dynamic-datasource switch to the primary datasource
2026-01-11 18:06:45 [http-nio-9091-exec-8] INFO  com.example.demo.aop.ServiceLogAspect - 【服务调用成功】InspectDataService.getLatestInspectionsWithDeviceInfo，结果：[com.example.demo.entity.InspectionData@66c4fc66, com.example.demo.entity.InspectionData@3eecead7]
2026-01-11 18:07:03 [http-nio-9091-exec-7] INFO  com.example.demo.aop.ServiceLogAspect - 【服务调用开始】DeviceService.getAllDevices，参数：[]
2026-01-11 18:07:03 [http-nio-9091-exec-6] INFO  com.example.demo.aop.ServiceLogAspect - 【服务调用开始】DeviceService.getWaitCalibrationCountNow，参数：[]
2026-01-11 18:07:03 [http-nio-9091-exec-1] INFO  com.example.demo.aop.ServiceLogAspect - 【服务调用开始】DeviceService.getCountAll，参数：[]
2026-01-11 18:07:03 [http-nio-9091-exec-7] DEBUG c.b.dynamic.datasource.DynamicRoutingDataSource - dynamic-datasource switch to the primary datasource
2026-01-11 18:07:03 [http-nio-9091-exec-1] DEBUG org.hibernate.SQL - 
    select
        count(d1_0.deviceid) 
    from
        devices d1_0
2026-01-11 18:07:03 [http-nio-9091-exec-5] INFO  com.example.demo.aop.ServiceLogAspect - 【服务调用开始】AlertService.getTodayAlertCount，参数：[2026-01-11 18:07:03]
2026-01-11 18:07:03 [http-nio-9091-exec-6] DEBUG org.hibernate.SQL - 
    select
        count(d1_0.deviceid) 
    from
        devices d1_0 
    where
        d1_0.calibration_status='PENDING'
2026-01-11 18:07:03 [http-nio-9091-exec-1] DEBUG c.b.dynamic.datasource.DynamicRoutingDataSource - dynamic-datasource switch to the primary datasource
2026-01-11 18:07:03 [http-nio-9091-exec-6] DEBUG c.b.dynamic.datasource.DynamicRoutingDataSource - dynamic-datasource switch to the primary datasource
2026-01-11 18:07:03 [http-nio-9091-exec-5] DEBUG org.hibernate.SQL - 
    select
        count(a1_0.id) 
    from
        alert a1_0 
    where
        date(a1_0.alert_time)=date(?)
2026-01-11 18:07:03 [http-nio-9091-exec-7] DEBUG org.hibernate.SQL - 
    select
        d1_0.deviceid,
        d1_0.alert_status,
        d1_0.calibration_operator,
        d1_0.calibration_status,
        d1_0.created_at,
        d1_0.device_code,
        d1_0.device_name,
        d1_0.device_type,
        d1_0.last_calibration,
        d1_0.location,
        d1_0.monitor_status,
        d1_0.next_calibration,
        d1_0.operational_status,
        d1_0.self_calibration,
        d1_0.updated_at 
    from
        devices d1_0
2026-01-11 18:07:03 [http-nio-9091-exec-5] DEBUG c.b.dynamic.datasource.DynamicRoutingDataSource - dynamic-datasource switch to the primary datasource
2026-01-11 18:07:03 [http-nio-9091-exec-1] INFO  com.example.demo.aop.ServiceLogAspect - 【服务调用成功】DeviceService.getCountAll，结果：5
2026-01-11 18:07:03 [http-nio-9091-exec-6] INFO  com.example.demo.aop.ServiceLogAspect - 【服务调用成功】DeviceService.getWaitCalibrationCountNow，结果：1
2026-01-11 18:07:03 [http-nio-9091-exec-5] INFO  com.example.demo.aop.ServiceLogAspect - 【服务调用成功】AlertService.getTodayAlertCount，结果：0
2026-01-11 18:07:03 [http-nio-9091-exec-7] INFO  com.example.demo.aop.ServiceLogAspect - 【服务调用成功】DeviceService.getAllDevices，结果：[com.example.demo.entity.Device@7a541ea5, com.example.demo.entity.Device@4fbba881, com.example.demo.entity.Device@1d682ba7, com.example.demo.entity.Device@2dbbed02, com.example.demo.entity.Device@77c07f26]
2026-01-11 18:07:28 [http-nio-9091-exec-4] INFO  com.example.demo.aop.ServiceLogAspect - 【服务调用开始】DeviceService.getAllDevices，参数：[]
2026-01-11 18:07:28 [http-nio-9091-exec-4] DEBUG c.b.dynamic.datasource.DynamicRoutingDataSource - dynamic-datasource switch to the primary datasource
2026-01-11 18:07:28 [http-nio-9091-exec-4] DEBUG org.hibernate.SQL - 
    select
        d1_0.deviceid,
        d1_0.alert_status,
        d1_0.calibration_operator,
        d1_0.calibration_status,
        d1_0.created_at,
        d1_0.device_code,
        d1_0.device_name,
        d1_0.device_type,
        d1_0.last_calibration,
        d1_0.location,
        d1_0.monitor_status,
        d1_0.next_calibration,
        d1_0.operational_status,
        d1_0.self_calibration,
        d1_0.updated_at 
    from
        devices d1_0
2026-01-11 18:07:28 [http-nio-9091-exec-4] INFO  com.example.demo.aop.ServiceLogAspect - 【服务调用成功】DeviceService.getAllDevices，结果：[com.example.demo.entity.Device@56a491e6, com.example.demo.entity.Device@467a6c98, com.example.demo.entity.Device@6c20d981, com.example.demo.entity.Device@59b3e71f, com.example.demo.entity.Device@2bea766e]
2026-01-11 18:07:29 [http-nio-9091-exec-2] INFO  com.example.demo.aop.ServiceLogAspect - 【服务调用开始】DeviceService.getAllDevices，参数：[]
2026-01-11 18:07:29 [http-nio-9091-exec-2] DEBUG c.b.dynamic.datasource.DynamicRoutingDataSource - dynamic-datasource switch to the primary datasource
2026-01-11 18:07:29 [http-nio-9091-exec-2] DEBUG org.hibernate.SQL - 
    select
        d1_0.deviceid,
        d1_0.alert_status,
        d1_0.calibration_operator,
        d1_0.calibration_status,
        d1_0.created_at,
        d1_0.device_code,
        d1_0.device_name,
        d1_0.device_type,
        d1_0.last_calibration,
        d1_0.location,
        d1_0.monitor_status,
        d1_0.next_calibration,
        d1_0.operational_status,
        d1_0.self_calibration,
        d1_0.updated_at 
    from
        devices d1_0
2026-01-11 18:07:29 [http-nio-9091-exec-2] INFO  com.example.demo.aop.ServiceLogAspect - 【服务调用成功】DeviceService.getAllDevices，结果：[com.example.demo.entity.Device@1a0365d6, com.example.demo.entity.Device@7aa45f87, com.example.demo.entity.Device@30d47dc8, com.example.demo.entity.Device@2d4492e6, com.example.demo.entity.Device@2c686f4d]
2026-01-11 18:07:29 [http-nio-9091-exec-9] INFO  com.example.demo.aop.ServiceLogAspect - 【服务调用开始】InspectDataService.getLatestInspectionsWithDeviceInfo，参数：[]
2026-01-11 18:07:29 [http-nio-9091-exec-9] DEBUG org.hibernate.SQL - 
    select
        id1_0.data_id,
        id1_0.batch_no,
        id1_0.create_time,
        d1_0.deviceid,
        d1_0.alert_status,
        d1_0.calibration_operator,
        d1_0.calibration_status,
        d1_0.created_at,
        d1_0.device_code,
        d1_0.device_name,
        d1_0.device_type,
        d1_0.last_calibration,
        d1_0.location,
        d1_0.monitor_status,
        d1_0.next_calibration,
        d1_0.operational_status,
        d1_0.self_calibration,
        d1_0.updated_at,
        id1_0.diameter,
        id1_0.friability,
        id1_0.hardness,
        id1_0.inspect_time,
        id1_0.is_valid,
        id1_0.product_id,
        p1_0.product_id,
        p1_0.product_name,
        p1_0.specification,
        id1_0.thickness,
        id1_0.weight 
    from
        inspection_data id1_0 
    left join
        devices d1_0 
            on d1_0.deviceid=id1_0.device_id 
    join
        product p1_0 
            on p1_0.product_id=id1_0.product_id 
    where
        id1_0.inspect_time=(
            select
                max(id2_0.inspect_time) 
            from
                inspection_data id2_0 
            where
                id2_0.device_id=id1_0.device_id 
                and id2_0.is_valid=1
        )
2026-01-11 18:07:29 [http-nio-9091-exec-9] DEBUG c.b.dynamic.datasource.DynamicRoutingDataSource - dynamic-datasource switch to the primary datasource
2026-01-11 18:07:29 [http-nio-9091-exec-9] INFO  com.example.demo.aop.ServiceLogAspect - 【服务调用成功】InspectDataService.getLatestInspectionsWithDeviceInfo，结果：[com.example.demo.entity.InspectionData@7c6bbc21, com.example.demo.entity.InspectionData@4ed8d12d]
2026-01-11 18:07:29 [http-nio-9091-exec-10] INFO  com.example.demo.aop.ServiceLogAspect - 【服务调用开始】DeviceService.getAllDevices，参数：[]
2026-01-11 18:07:29 [http-nio-9091-exec-10] DEBUG c.b.dynamic.datasource.DynamicRoutingDataSource - dynamic-datasource switch to the primary datasource
2026-01-11 18:07:29 [http-nio-9091-exec-10] DEBUG org.hibernate.SQL - 
    select
        d1_0.deviceid,
        d1_0.alert_status,
        d1_0.calibration_operator,
        d1_0.calibration_status,
        d1_0.created_at,
        d1_0.device_code,
        d1_0.device_name,
        d1_0.device_type,
        d1_0.last_calibration,
        d1_0.location,
        d1_0.monitor_status,
        d1_0.next_calibration,
        d1_0.operational_status,
        d1_0.self_calibration,
        d1_0.updated_at 
    from
        devices d1_0
2026-01-11 18:07:29 [http-nio-9091-exec-10] INFO  com.example.demo.aop.ServiceLogAspect - 【服务调用成功】DeviceService.getAllDevices，结果：[com.example.demo.entity.Device@2f76308c, com.example.demo.entity.Device@43b2780, com.example.demo.entity.Device@f6f7b1f, com.example.demo.entity.Device@5cc614a8, com.example.demo.entity.Device@422abdec]
2026-01-11 18:07:30 [http-nio-9091-exec-3] INFO  com.example.demo.aop.ServiceLogAspect - 【服务调用开始】DeviceService.getAllDevices，参数：[]
2026-01-11 18:07:30 [http-nio-9091-exec-3] DEBUG c.b.dynamic.datasource.DynamicRoutingDataSource - dynamic-datasource switch to the primary datasource
2026-01-11 18:07:30 [http-nio-9091-exec-3] DEBUG org.hibernate.SQL - 
    select
        d1_0.deviceid,
        d1_0.alert_status,
        d1_0.calibration_operator,
        d1_0.calibration_status,
        d1_0.created_at,
        d1_0.device_code,
        d1_0.device_name,
        d1_0.device_type,
        d1_0.last_calibration,
        d1_0.location,
        d1_0.monitor_status,
        d1_0.next_calibration,
        d1_0.operational_status,
        d1_0.self_calibration,
        d1_0.updated_at 
    from
        devices d1_0
2026-01-11 18:07:30 [http-nio-9091-exec-3] INFO  com.example.demo.aop.ServiceLogAspect - 【服务调用成功】DeviceService.getAllDevices，结果：[com.example.demo.entity.Device@2db23db2, com.example.demo.entity.Device@39678e20, com.example.demo.entity.Device@1dbbc91a, com.example.demo.entity.Device@4354a3d1, com.example.demo.entity.Device@7fb759a4]
2026-01-11 18:07:30 [http-nio-9091-exec-8] INFO  com.example.demo.aop.ServiceLogAspect - 【服务调用开始】AlertService.getDeviceAlertOverview，参数：[]
2026-01-11 18:07:30 [http-nio-9091-exec-8] DEBUG c.b.dynamic.datasource.DynamicRoutingDataSource - dynamic-datasource switch to the primary datasource
2026-01-11 18:07:30 [http-nio-9091-exec-8] DEBUG org.hibernate.SQL - 
    select
        d1_0.deviceid,
        d1_0.alert_status,
        d1_0.calibration_operator,
        d1_0.calibration_status,
        d1_0.created_at,
        d1_0.device_code,
        d1_0.device_name,
        d1_0.device_type,
        d1_0.last_calibration,
        d1_0.location,
        d1_0.monitor_status,
        d1_0.next_calibration,
        d1_0.operational_status,
        d1_0.self_calibration,
        d1_0.updated_at 
    from
        devices d1_0
2026-01-11 18:07:30 [http-nio-9091-exec-6] INFO  com.example.demo.aop.ServiceLogAspect - 【服务调用开始】AlertService.getAlertDetailsByTimeRange，参数：[2026-01-04T02:07, 2026-01-11T02:07, null, 0, 50]
2026-01-11 18:07:30 [http-nio-9091-exec-6] DEBUG org.hibernate.SQL - 
    select
        a1_0.alert_time,
        d1_0.device_code,
        d1_0.device_name,
        d1_0.device_type,
        d1_0.location,
        d1_0.monitor_status,
        a1_0.alert_type,
        a1_0.alert_level,
        a1_0.context 
    from
        alert a1_0 
    join
        devices d1_0 
            on d1_0.deviceid=a1_0.device_id 
    where
        (
            ? is null 
            or a1_0.alert_time>=?
        ) 
        and (
            ? is null 
            or a1_0.alert_time<=?
        ) 
        and (
            ? is null 
            or d1_0.device_code=?
        ) 
    order by
        a1_0.alert_time desc 
    limit
        ?
2026-01-11 18:07:30 [http-nio-9091-exec-8] DEBUG org.hibernate.SQL - 
    select
        a1_0.id,
        a1_0.alert_level,
        a1_0.alert_time,
        a1_0.alert_type,
        a1_0.context,
        a1_0.device_id 
    from
        alert a1_0 
    left join
        devices d1_0 
            on d1_0.deviceid=a1_0.device_id 
    where
        d1_0.deviceid=? 
    order by
        a1_0.alert_time desc 
    limit
        ?
2026-01-11 18:07:30 [http-nio-9091-exec-6] DEBUG c.b.dynamic.datasource.DynamicRoutingDataSource - dynamic-datasource switch to the primary datasource
2026-01-11 18:07:30 [http-nio-9091-exec-6] INFO  com.example.demo.aop.ServiceLogAspect - 【服务调用成功】AlertService.getAlertDetailsByTimeRange，结果：{pageSize=50, currentPage=0, totalPages=0, totalElements=0, content=[]}
2026-01-11 18:07:30 [http-nio-9091-exec-8] DEBUG org.hibernate.SQL - 
    select
        a1_0.id,
        a1_0.alert_level,
        a1_0.alert_time,
        a1_0.alert_type,
        a1_0.context,
        a1_0.device_id 
    from
        alert a1_0 
    left join
        devices d1_0 
            on d1_0.deviceid=a1_0.device_id 
    where
        d1_0.deviceid=? 
    order by
        a1_0.alert_time desc 
    limit
        ?
2026-01-11 18:07:30 [http-nio-9091-exec-8] DEBUG org.hibernate.SQL - 
    select
        a1_0.id,
        a1_0.alert_level,
        a1_0.alert_time,
        a1_0.alert_type,
        a1_0.context,
        a1_0.device_id 
    from
        alert a1_0 
    left join
        devices d1_0 
            on d1_0.deviceid=a1_0.device_id 
    where
        d1_0.deviceid=? 
    order by
        a1_0.alert_time desc 
    limit
        ?
2026-01-11 18:07:30 [http-nio-9091-exec-8] DEBUG org.hibernate.SQL - 
    select
        a1_0.id,
        a1_0.alert_level,
        a1_0.alert_time,
        a1_0.alert_type,
        a1_0.context,
        a1_0.device_id 
    from
        alert a1_0 
    left join
        devices d1_0 
            on d1_0.deviceid=a1_0.device_id 
    where
        d1_0.deviceid=? 
    order by
        a1_0.alert_time desc 
    limit
        ?
2026-01-11 18:07:30 [http-nio-9091-exec-8] DEBUG org.hibernate.SQL - 
    select
        a1_0.id,
        a1_0.alert_level,
        a1_0.alert_time,
        a1_0.alert_type,
        a1_0.context,
        a1_0.device_id 
    from
        alert a1_0 
    left join
        devices d1_0 
            on d1_0.deviceid=a1_0.device_id 
    where
        d1_0.deviceid=? 
    order by
        a1_0.alert_time desc 
    limit
        ?
2026-01-11 18:07:30 [http-nio-9091-exec-8] INFO  com.example.demo.aop.ServiceLogAspect - 【服务调用成功】AlertService.getDeviceAlertOverview，结果：[{deviceType=D4, operationalStatus=RUNNING, alertStatus=ON, latestAlertLevel=YELLOW, latestAlertTime=2025-07-13T10:05:04, location=loc1, deviceCode=001, deviceId=1, deviceName=Inoue Rin, monitorStatus=MONITORON, latestAlertContext=002}, {deviceType=DB, operationalStatus=RUNNING, alertStatus=OFF, latestAlertLevel=null, latestAlertTime=null, location=loc2, deviceCode=002, deviceId=2, deviceName=Kong Lan, monitorStatus=MONITORON, latestAlertContext=null}, {deviceType=DB, operationalStatus=OFFLINE, alertStatus=OFF, latestAlertLevel=null, latestAlertTime=null, location=loc3, deviceCode=003, deviceId=3, deviceName=Chic Kwok Yin, monitorStatus=MONITORINTERRUPT, latestAlertContext=null}, {deviceType=D4, operationalStatus=OFFLINE, alertStatus=OFF, latestAlertLevel=null, latestAlertTime=null, location=loc4, deviceCode=004, deviceId=4, deviceName=Lo Wai Lam, monitorStatus=MONITORON, latestAlertContext=null}, {deviceType=DB, operationalStatus=OFFLINE, alertStatus=OFF, latestAlertLevel=null, latestAlertTime=null, location=loc5, deviceCode=005, deviceId=5, deviceName=Saito Ayano, monitorStatus=MONITOROFF, latestAlertContext=null}]
2026-01-11 18:07:31 [http-nio-9091-exec-1] INFO  com.example.demo.aop.ServiceLogAspect - 【服务调用开始】DeviceService.getAllDevices，参数：[]
2026-01-11 18:07:31 [http-nio-9091-exec-1] DEBUG c.b.dynamic.datasource.DynamicRoutingDataSource - dynamic-datasource switch to the primary datasource
2026-01-11 18:07:31 [http-nio-9091-exec-1] DEBUG org.hibernate.SQL - 
    select
        d1_0.deviceid,
        d1_0.alert_status,
        d1_0.calibration_operator,
        d1_0.calibration_status,
        d1_0.created_at,
        d1_0.device_code,
        d1_0.device_name,
        d1_0.device_type,
        d1_0.last_calibration,
        d1_0.location,
        d1_0.monitor_status,
        d1_0.next_calibration,
        d1_0.operational_status,
        d1_0.self_calibration,
        d1_0.updated_at 
    from
        devices d1_0
2026-01-11 18:07:31 [http-nio-9091-exec-1] INFO  com.example.demo.aop.ServiceLogAspect - 【服务调用成功】DeviceService.getAllDevices，结果：[com.example.demo.entity.Device@6a5d8dbe, com.example.demo.entity.Device@29b4061d, com.example.demo.entity.Device@6140f84, com.example.demo.entity.Device@4a067629, com.example.demo.entity.Device@4cb022aa]
2026-01-11 18:07:31 [http-nio-9091-exec-5] INFO  com.example.demo.aop.ServiceLogAspect - 【服务调用开始】InspectDataService.getLatestInspectionsWithDeviceInfo，参数：[]
2026-01-11 18:07:31 [http-nio-9091-exec-5] DEBUG org.hibernate.SQL - 
    select
        id1_0.data_id,
        id1_0.batch_no,
        id1_0.create_time,
        d1_0.deviceid,
        d1_0.alert_status,
        d1_0.calibration_operator,
        d1_0.calibration_status,
        d1_0.created_at,
        d1_0.device_code,
        d1_0.device_name,
        d1_0.device_type,
        d1_0.last_calibration,
        d1_0.location,
        d1_0.monitor_status,
        d1_0.next_calibration,
        d1_0.operational_status,
        d1_0.self_calibration,
        d1_0.updated_at,
        id1_0.diameter,
        id1_0.friability,
        id1_0.hardness,
        id1_0.inspect_time,
        id1_0.is_valid,
        id1_0.product_id,
        p1_0.product_id,
        p1_0.product_name,
        p1_0.specification,
        id1_0.thickness,
        id1_0.weight 
    from
        inspection_data id1_0 
    left join
        devices d1_0 
            on d1_0.deviceid=id1_0.device_id 
    join
        product p1_0 
            on p1_0.product_id=id1_0.product_id 
    where
        id1_0.inspect_time=(
            select
                max(id2_0.inspect_time) 
            from
                inspection_data id2_0 
            where
                id2_0.device_id=id1_0.device_id 
                and id2_0.is_valid=1
        )
2026-01-11 18:07:31 [http-nio-9091-exec-5] DEBUG c.b.dynamic.datasource.DynamicRoutingDataSource - dynamic-datasource switch to the primary datasource
2026-01-11 18:07:31 [http-nio-9091-exec-5] INFO  com.example.demo.aop.ServiceLogAspect - 【服务调用成功】InspectDataService.getLatestInspectionsWithDeviceInfo，结果：[com.example.demo.entity.InspectionData@6b89d2e6, com.example.demo.entity.InspectionData@442ee368]
2026-01-11 18:07:31 [http-nio-9091-exec-7] INFO  com.example.demo.aop.ServiceLogAspect - 【服务调用开始】AlertService.getAlertDetails，参数：[0, 10]
2026-01-11 18:07:31 [http-nio-9091-exec-7] DEBUG org.hibernate.SQL - 
    select
        a1_0.alert_time,
        d1_0.device_code,
        d1_0.device_name,
        d1_0.device_type,
        d1_0.location,
        d1_0.monitor_status,
        a1_0.alert_type,
        a1_0.alert_level,
        a1_0.context 
    from
        alert a1_0 
    join
        devices d1_0 
            on d1_0.deviceid=a1_0.device_id 
    order by
        a1_0.alert_time desc 
    limit
        ?
2026-01-11 18:07:31 [http-nio-9091-exec-7] DEBUG c.b.dynamic.datasource.DynamicRoutingDataSource - dynamic-datasource switch to the primary datasource
2026-01-11 18:07:31 [http-nio-9091-exec-7] INFO  com.example.demo.aop.ServiceLogAspect - 【服务调用成功】AlertService.getAlertDetails，结果：{pageSize=10, currentPage=0, totalPages=1, totalElements=3, content=[{deviceType=D4, alertType=DRUG, location=loc1, context=002, monitorStatus=MONITORON, deviceCode=001, alertTime=2025-07-13T10:05:04, alertLevel=YELLOW, deviceName=Inoue Rin}, {deviceType=D4, alertType=DRUG, location=loc1, context=001, monitorStatus=MONITORON, deviceCode=001, alertTime=2025-07-13T10:05:01, alertLevel=RED, deviceName=Inoue Rin}, {deviceType=D4, alertType=MECHINE, location=loc1, context=000, monitorStatus=MONITORON, deviceCode=001, alertTime=2025-07-11T10:04:58, alertLevel=YELLOW, deviceName=Inoue Rin}]}
2026-01-11 18:07:31 [http-nio-9091-exec-4] INFO  com.example.demo.aop.ServiceLogAspect - 【服务调用开始】AlertService.getWeekAlertSummary，参数：[2026-01-11 10:07:31]
2026-01-11 18:07:31 [http-nio-9091-exec-4] DEBUG org.hibernate.SQL - 
    select
        count(a1_0.id) 
    from
        alert a1_0 
    where
        yearweek(a1_0.alert_time, 1)=yearweek(?, 1) 
        and a1_0.alert_level='YELLOW'
2026-01-11 18:07:31 [http-nio-9091-exec-2] INFO  com.example.demo.aop.ServiceLogAspect - 【服务调用开始】DeviceService.getDeviceByStaffCode，参数：[admin]
2026-01-11 18:07:31 [http-nio-9091-exec-4] DEBUG c.b.dynamic.datasource.DynamicRoutingDataSource - dynamic-datasource switch to the primary datasource
2026-01-11 18:07:31 [http-nio-9091-exec-9] INFO  com.example.demo.aop.ServiceLogAspect - 【服务调用开始】DeviceService.getMonitorOnCountNow，参数：[]
2026-01-11 18:07:31 [http-nio-9091-exec-2] DEBUG org.hibernate.SQL - 
    select
        d1_0.deviceid,
        d1_0.alert_status,
        d1_0.calibration_operator,
        d1_0.calibration_status,
        d1_0.created_at,
        d1_0.device_code,
        d1_0.device_name,
        d1_0.device_type,
        d1_0.last_calibration,
        d1_0.location,
        d1_0.monitor_status,
        d1_0.next_calibration,
        d1_0.operational_status,
        d1_0.self_calibration,
        d1_0.updated_at 
    from
        staffdevice sd1_0 
    join
        devices d1_0 
            on d1_0.device_code=sd1_0.device_code 
    where
        sd1_0.staffcode=?
2026-01-11 18:07:31 [http-nio-9091-exec-9] DEBUG org.hibernate.SQL - 
    select
        count(d1_0.deviceid) 
    from
        devices d1_0 
    where
        d1_0.monitor_status='MONITORON'
2026-01-11 18:07:31 [http-nio-9091-exec-9] DEBUG c.b.dynamic.datasource.DynamicRoutingDataSource - dynamic-datasource switch to the primary datasource
2026-01-11 18:07:31 [http-nio-9091-exec-4] DEBUG org.hibernate.SQL - 
    select
        count(a1_0.id) 
    from
        alert a1_0 
    where
        yearweek(a1_0.alert_time, 1)=yearweek(?, 1) 
        and a1_0.alert_level='RED'
2026-01-11 18:07:31 [http-nio-9091-exec-2] DEBUG c.b.dynamic.datasource.DynamicRoutingDataSource - dynamic-datasource switch to the primary datasource
2026-01-11 18:07:31 [http-nio-9091-exec-9] INFO  com.example.demo.aop.ServiceLogAspect - 【服务调用成功】DeviceService.getMonitorOnCountNow，结果：3
2026-01-11 18:07:31 [http-nio-9091-exec-9] INFO  com.example.demo.aop.ServiceLogAspect - 【服务调用开始】DeviceService.getAlertOnCountNow，参数：[]
2026-01-11 18:07:31 [http-nio-9091-exec-2] INFO  com.example.demo.aop.ServiceLogAspect - 【服务调用成功】DeviceService.getDeviceByStaffCode，结果：[]
2026-01-11 18:07:31 [http-nio-9091-exec-9] DEBUG org.hibernate.SQL - 
    select
        count(d1_0.deviceid) 
    from
        devices d1_0 
    where
        d1_0.alert_status='ON'
2026-01-11 18:07:31 [http-nio-9091-exec-4] DEBUG org.hibernate.SQL - 
    select
        count(a1_0.id) 
    from
        alert a1_0 
    where
        yearweek(a1_0.alert_time, 1)=yearweek(?, 1) 
        and a1_0.alert_type='MECHINE'
2026-01-11 18:07:31 [http-nio-9091-exec-9] INFO  com.example.demo.aop.ServiceLogAspect - 【服务调用成功】DeviceService.getAlertOnCountNow，结果：1
2026-01-11 18:07:31 [http-nio-9091-exec-9] INFO  com.example.demo.aop.ServiceLogAspect - 【服务调用开始】DeviceService.getOperationalOnCountNow，参数：[]
2026-01-11 18:07:31 [http-nio-9091-exec-9] DEBUG org.hibernate.SQL - 
    select
        count(d1_0.deviceid) 
    from
        devices d1_0 
    where
        d1_0.operational_status='RUNNING'
2026-01-11 18:07:31 [http-nio-9091-exec-4] INFO  com.example.demo.aop.ServiceLogAspect - 【服务调用成功】AlertService.getWeekAlertSummary，结果：{redAlert=0, yellowAlert=0, machineFailure=0}
2026-01-11 18:07:31 [http-nio-9091-exec-9] INFO  com.example.demo.aop.ServiceLogAspect - 【服务调用成功】DeviceService.getOperationalOnCountNow，结果：2
2026-01-11 18:07:31 [http-nio-9091-exec-9] INFO  com.example.demo.aop.ServiceLogAspect - 【服务调用开始】DeviceService.getOperationalOfflineCountNow，参数：[]
2026-01-11 18:07:31 [http-nio-9091-exec-9] DEBUG org.hibernate.SQL - 
    select
        count(d1_0.deviceid) 
    from
        devices d1_0 
    where
        d1_0.operational_status='OFFLINE'
2026-01-11 18:07:31 [http-nio-9091-exec-9] INFO  com.example.demo.aop.ServiceLogAspect - 【服务调用成功】DeviceService.getOperationalOfflineCountNow，结果：3
2026-01-11 18:07:32 [http-nio-9091-exec-10] INFO  com.example.demo.aop.ServiceLogAspect - 【服务调用开始】DeviceService.getAllDevices，参数：[]
2026-01-11 18:07:32 [http-nio-9091-exec-10] DEBUG c.b.dynamic.datasource.DynamicRoutingDataSource - dynamic-datasource switch to the primary datasource
2026-01-11 18:07:32 [http-nio-9091-exec-10] DEBUG org.hibernate.SQL - 
    select
        d1_0.deviceid,
        d1_0.alert_status,
        d1_0.calibration_operator,
        d1_0.calibration_status,
        d1_0.created_at,
        d1_0.device_code,
        d1_0.device_name,
        d1_0.device_type,
        d1_0.last_calibration,
        d1_0.location,
        d1_0.monitor_status,
        d1_0.next_calibration,
        d1_0.operational_status,
        d1_0.self_calibration,
        d1_0.updated_at 
    from
        devices d1_0
2026-01-11 18:07:32 [http-nio-9091-exec-3] INFO  com.example.demo.aop.ServiceLogAspect - 【服务调用开始】InspectDataService.getLatestInspectionsWithDeviceInfo，参数：[]
2026-01-11 18:07:32 [http-nio-9091-exec-10] INFO  com.example.demo.aop.ServiceLogAspect - 【服务调用成功】DeviceService.getAllDevices，结果：[com.example.demo.entity.Device@1859bf04, com.example.demo.entity.Device@3b619326, com.example.demo.entity.Device@398710d6, com.example.demo.entity.Device@436e70a, com.example.demo.entity.Device@5142d917]
2026-01-11 18:07:32 [http-nio-9091-exec-3] DEBUG org.hibernate.SQL - 
    select
        id1_0.data_id,
        id1_0.batch_no,
        id1_0.create_time,
        d1_0.deviceid,
        d1_0.alert_status,
        d1_0.calibration_operator,
        d1_0.calibration_status,
        d1_0.created_at,
        d1_0.device_code,
        d1_0.device_name,
        d1_0.device_type,
        d1_0.last_calibration,
        d1_0.location,
        d1_0.monitor_status,
        d1_0.next_calibration,
        d1_0.operational_status,
        d1_0.self_calibration,
        d1_0.updated_at,
        id1_0.diameter,
        id1_0.friability,
        id1_0.hardness,
        id1_0.inspect_time,
        id1_0.is_valid,
        id1_0.product_id,
        p1_0.product_id,
        p1_0.product_name,
        p1_0.specification,
        id1_0.thickness,
        id1_0.weight 
    from
        inspection_data id1_0 
    left join
        devices d1_0 
            on d1_0.deviceid=id1_0.device_id 
    join
        product p1_0 
            on p1_0.product_id=id1_0.product_id 
    where
        id1_0.inspect_time=(
            select
                max(id2_0.inspect_time) 
            from
                inspection_data id2_0 
            where
                id2_0.device_id=id1_0.device_id 
                and id2_0.is_valid=1
        )
2026-01-11 18:07:32 [http-nio-9091-exec-3] DEBUG c.b.dynamic.datasource.DynamicRoutingDataSource - dynamic-datasource switch to the primary datasource
2026-01-11 18:07:32 [http-nio-9091-exec-3] INFO  com.example.demo.aop.ServiceLogAspect - 【服务调用成功】InspectDataService.getLatestInspectionsWithDeviceInfo，结果：[com.example.demo.entity.InspectionData@439704af, com.example.demo.entity.InspectionData@604f8552]
2026-01-11 18:07:32 [http-nio-9091-exec-6] INFO  com.example.demo.aop.ServiceLogAspect - 【服务调用开始】AlertService.getDeviceAlertOverview，参数：[]
2026-01-11 18:07:32 [http-nio-9091-exec-6] DEBUG c.b.dynamic.datasource.DynamicRoutingDataSource - dynamic-datasource switch to the primary datasource
2026-01-11 18:07:32 [http-nio-9091-exec-6] DEBUG org.hibernate.SQL - 
    select
        d1_0.deviceid,
        d1_0.alert_status,
        d1_0.calibration_operator,
        d1_0.calibration_status,
        d1_0.created_at,
        d1_0.device_code,
        d1_0.device_name,
        d1_0.device_type,
        d1_0.last_calibration,
        d1_0.location,
        d1_0.monitor_status,
        d1_0.next_calibration,
        d1_0.operational_status,
        d1_0.self_calibration,
        d1_0.updated_at 
    from
        devices d1_0
2026-01-11 18:07:32 [http-nio-9091-exec-8] INFO  com.example.demo.aop.ServiceLogAspect - 【服务调用开始】AlertService.getAlertDetailsByTimeRange，参数：[2026-01-04T02:07, 2026-01-11T02:07, null, 0, 50]
2026-01-11 18:07:32 [http-nio-9091-exec-8] DEBUG org.hibernate.SQL - 
    select
        a1_0.alert_time,
        d1_0.device_code,
        d1_0.device_name,
        d1_0.device_type,
        d1_0.location,
        d1_0.monitor_status,
        a1_0.alert_type,
        a1_0.alert_level,
        a1_0.context 
    from
        alert a1_0 
    join
        devices d1_0 
            on d1_0.deviceid=a1_0.device_id 
    where
        (
            ? is null 
            or a1_0.alert_time>=?
        ) 
        and (
            ? is null 
            or a1_0.alert_time<=?
        ) 
        and (
            ? is null 
            or d1_0.device_code=?
        ) 
    order by
        a1_0.alert_time desc 
    limit
        ?
2026-01-11 18:07:32 [http-nio-9091-exec-8] DEBUG c.b.dynamic.datasource.DynamicRoutingDataSource - dynamic-datasource switch to the primary datasource
2026-01-11 18:07:32 [http-nio-9091-exec-6] DEBUG org.hibernate.SQL - 
    select
        a1_0.id,
        a1_0.alert_level,
        a1_0.alert_time,
        a1_0.alert_type,
        a1_0.context,
        a1_0.device_id 
    from
        alert a1_0 
    left join
        devices d1_0 
            on d1_0.deviceid=a1_0.device_id 
    where
        d1_0.deviceid=? 
    order by
        a1_0.alert_time desc 
    limit
        ?
2026-01-11 18:07:32 [http-nio-9091-exec-8] INFO  com.example.demo.aop.ServiceLogAspect - 【服务调用成功】AlertService.getAlertDetailsByTimeRange，结果：{pageSize=50, currentPage=0, totalPages=0, totalElements=0, content=[]}
2026-01-11 18:07:32 [http-nio-9091-exec-6] DEBUG org.hibernate.SQL - 
    select
        a1_0.id,
        a1_0.alert_level,
        a1_0.alert_time,
        a1_0.alert_type,
        a1_0.context,
        a1_0.device_id 
    from
        alert a1_0 
    left join
        devices d1_0 
            on d1_0.deviceid=a1_0.device_id 
    where
        d1_0.deviceid=? 
    order by
        a1_0.alert_time desc 
    limit
        ?
2026-01-11 18:07:32 [http-nio-9091-exec-6] DEBUG org.hibernate.SQL - 
    select
        a1_0.id,
        a1_0.alert_level,
        a1_0.alert_time,
        a1_0.alert_type,
        a1_0.context,
        a1_0.device_id 
    from
        alert a1_0 
    left join
        devices d1_0 
            on d1_0.deviceid=a1_0.device_id 
    where
        d1_0.deviceid=? 
    order by
        a1_0.alert_time desc 
    limit
        ?
2026-01-11 18:07:32 [http-nio-9091-exec-6] DEBUG org.hibernate.SQL - 
    select
        a1_0.id,
        a1_0.alert_level,
        a1_0.alert_time,
        a1_0.alert_type,
        a1_0.context,
        a1_0.device_id 
    from
        alert a1_0 
    left join
        devices d1_0 
            on d1_0.deviceid=a1_0.device_id 
    where
        d1_0.deviceid=? 
    order by
        a1_0.alert_time desc 
    limit
        ?
2026-01-11 18:07:32 [http-nio-9091-exec-6] DEBUG org.hibernate.SQL - 
    select
        a1_0.id,
        a1_0.alert_level,
        a1_0.alert_time,
        a1_0.alert_type,
        a1_0.context,
        a1_0.device_id 
    from
        alert a1_0 
    left join
        devices d1_0 
            on d1_0.deviceid=a1_0.device_id 
    where
        d1_0.deviceid=? 
    order by
        a1_0.alert_time desc 
    limit
        ?
2026-01-11 18:07:32 [http-nio-9091-exec-6] INFO  com.example.demo.aop.ServiceLogAspect - 【服务调用成功】AlertService.getDeviceAlertOverview，结果：[{deviceType=D4, operationalStatus=RUNNING, alertStatus=ON, latestAlertLevel=YELLOW, latestAlertTime=2025-07-13T10:05:04, location=loc1, deviceCode=001, deviceId=1, deviceName=Inoue Rin, monitorStatus=MONITORON, latestAlertContext=002}, {deviceType=DB, operationalStatus=RUNNING, alertStatus=OFF, latestAlertLevel=null, latestAlertTime=null, location=loc2, deviceCode=002, deviceId=2, deviceName=Kong Lan, monitorStatus=MONITORON, latestAlertContext=null}, {deviceType=DB, operationalStatus=OFFLINE, alertStatus=OFF, latestAlertLevel=null, latestAlertTime=null, location=loc3, deviceCode=003, deviceId=3, deviceName=Chic Kwok Yin, monitorStatus=MONITORINTERRUPT, latestAlertContext=null}, {deviceType=D4, operationalStatus=OFFLINE, alertStatus=OFF, latestAlertLevel=null, latestAlertTime=null, location=loc4, deviceCode=004, deviceId=4, deviceName=Lo Wai Lam, monitorStatus=MONITORON, latestAlertContext=null}, {deviceType=DB, operationalStatus=OFFLINE, alertStatus=OFF, latestAlertLevel=null, latestAlertTime=null, location=loc5, deviceCode=005, deviceId=5, deviceName=Saito Ayano, monitorStatus=MONITOROFF, latestAlertContext=null}]
2026-01-11 18:07:33 [http-nio-9091-exec-1] INFO  com.example.demo.aop.ServiceLogAspect - 【服务调用开始】DeviceService.getAllDevices，参数：[]
2026-01-11 18:07:33 [http-nio-9091-exec-1] DEBUG c.b.dynamic.datasource.DynamicRoutingDataSource - dynamic-datasource switch to the primary datasource
2026-01-11 18:07:33 [http-nio-9091-exec-1] DEBUG org.hibernate.SQL - 
    select
        d1_0.deviceid,
        d1_0.alert_status,
        d1_0.calibration_operator,
        d1_0.calibration_status,
        d1_0.created_at,
        d1_0.device_code,
        d1_0.device_name,
        d1_0.device_type,
        d1_0.last_calibration,
        d1_0.location,
        d1_0.monitor_status,
        d1_0.next_calibration,
        d1_0.operational_status,
        d1_0.self_calibration,
        d1_0.updated_at 
    from
        devices d1_0
2026-01-11 18:07:33 [http-nio-9091-exec-1] INFO  com.example.demo.aop.ServiceLogAspect - 【服务调用成功】DeviceService.getAllDevices，结果：[com.example.demo.entity.Device@3af21b34, com.example.demo.entity.Device@363df74, com.example.demo.entity.Device@7dffc582, com.example.demo.entity.Device@74ea5b34, com.example.demo.entity.Device@5e6bd526]
2026-01-11 18:07:33 [http-nio-9091-exec-5] INFO  com.example.demo.aop.ServiceLogAspect - 【服务调用开始】DeviceService.getAllDevices，参数：[]
2026-01-11 18:07:33 [http-nio-9091-exec-5] DEBUG c.b.dynamic.datasource.DynamicRoutingDataSource - dynamic-datasource switch to the primary datasource
2026-01-11 18:07:33 [http-nio-9091-exec-5] DEBUG org.hibernate.SQL - 
    select
        d1_0.deviceid,
        d1_0.alert_status,
        d1_0.calibration_operator,
        d1_0.calibration_status,
        d1_0.created_at,
        d1_0.device_code,
        d1_0.device_name,
        d1_0.device_type,
        d1_0.last_calibration,
        d1_0.location,
        d1_0.monitor_status,
        d1_0.next_calibration,
        d1_0.operational_status,
        d1_0.self_calibration,
        d1_0.updated_at 
    from
        devices d1_0
2026-01-11 18:07:33 [http-nio-9091-exec-5] INFO  com.example.demo.aop.ServiceLogAspect - 【服务调用成功】DeviceService.getAllDevices，结果：[com.example.demo.entity.Device@38a89ac1, com.example.demo.entity.Device@1fd60e1, com.example.demo.entity.Device@644d1a6e, com.example.demo.entity.Device@2a9b8817, com.example.demo.entity.Device@56197117]
2026-01-11 18:07:33 [http-nio-9091-exec-7] INFO  com.example.demo.aop.ServiceLogAspect - 【服务调用开始】DeviceService.getAllDevices，参数：[]
2026-01-11 18:07:33 [http-nio-9091-exec-7] DEBUG c.b.dynamic.datasource.DynamicRoutingDataSource - dynamic-datasource switch to the primary datasource
2026-01-11 18:07:33 [http-nio-9091-exec-2] INFO  com.example.demo.aop.ServiceLogAspect - 【服务调用开始】InspectDataService.getLatestInspectionsWithDeviceInfo，参数：[]
2026-01-11 18:07:33 [http-nio-9091-exec-7] DEBUG org.hibernate.SQL - 
    select
        d1_0.deviceid,
        d1_0.alert_status,
        d1_0.calibration_operator,
        d1_0.calibration_status,
        d1_0.created_at,
        d1_0.device_code,
        d1_0.device_name,
        d1_0.device_type,
        d1_0.last_calibration,
        d1_0.location,
        d1_0.monitor_status,
        d1_0.next_calibration,
        d1_0.operational_status,
        d1_0.self_calibration,
        d1_0.updated_at 
    from
        devices d1_0
2026-01-11 18:07:33 [http-nio-9091-exec-2] DEBUG org.hibernate.SQL - 
    select
        id1_0.data_id,
        id1_0.batch_no,
        id1_0.create_time,
        d1_0.deviceid,
        d1_0.alert_status,
        d1_0.calibration_operator,
        d1_0.calibration_status,
        d1_0.created_at,
        d1_0.device_code,
        d1_0.device_name,
        d1_0.device_type,
        d1_0.last_calibration,
        d1_0.location,
        d1_0.monitor_status,
        d1_0.next_calibration,
        d1_0.operational_status,
        d1_0.self_calibration,
        d1_0.updated_at,
        id1_0.diameter,
        id1_0.friability,
        id1_0.hardness,
        id1_0.inspect_time,
        id1_0.is_valid,
        id1_0.product_id,
        p1_0.product_id,
        p1_0.product_name,
        p1_0.specification,
        id1_0.thickness,
        id1_0.weight 
    from
        inspection_data id1_0 
    left join
        devices d1_0 
            on d1_0.deviceid=id1_0.device_id 
    join
        product p1_0 
            on p1_0.product_id=id1_0.product_id 
    where
        id1_0.inspect_time=(
            select
                max(id2_0.inspect_time) 
            from
                inspection_data id2_0 
            where
                id2_0.device_id=id1_0.device_id 
                and id2_0.is_valid=1
        )
2026-01-11 18:07:33 [http-nio-9091-exec-2] DEBUG c.b.dynamic.datasource.DynamicRoutingDataSource - dynamic-datasource switch to the primary datasource
2026-01-11 18:07:33 [http-nio-9091-exec-7] INFO  com.example.demo.aop.ServiceLogAspect - 【服务调用成功】DeviceService.getAllDevices，结果：[com.example.demo.entity.Device@219fabcb, com.example.demo.entity.Device@3275d96, com.example.demo.entity.Device@4ccddebc, com.example.demo.entity.Device@39fe989, com.example.demo.entity.Device@5f82cbc2]
2026-01-11 18:07:33 [http-nio-9091-exec-2] INFO  com.example.demo.aop.ServiceLogAspect - 【服务调用成功】InspectDataService.getLatestInspectionsWithDeviceInfo，结果：[com.example.demo.entity.InspectionData@45fef258, com.example.demo.entity.InspectionData@1a309b06]
2026-01-11 18:07:34 [http-nio-9091-exec-4] INFO  com.example.demo.aop.ServiceLogAspect - 【服务调用开始】DeviceService.getAllDevices，参数：[]
2026-01-11 18:07:34 [http-nio-9091-exec-4] DEBUG c.b.dynamic.datasource.DynamicRoutingDataSource - dynamic-datasource switch to the primary datasource
2026-01-11 18:07:34 [http-nio-9091-exec-4] DEBUG org.hibernate.SQL - 
    select
        d1_0.deviceid,
        d1_0.alert_status,
        d1_0.calibration_operator,
        d1_0.calibration_status,
        d1_0.created_at,
        d1_0.device_code,
        d1_0.device_name,
        d1_0.device_type,
        d1_0.last_calibration,
        d1_0.location,
        d1_0.monitor_status,
        d1_0.next_calibration,
        d1_0.operational_status,
        d1_0.self_calibration,
        d1_0.updated_at 
    from
        devices d1_0
2026-01-11 18:07:34 [http-nio-9091-exec-4] INFO  com.example.demo.aop.ServiceLogAspect - 【服务调用成功】DeviceService.getAllDevices，结果：[com.example.demo.entity.Device@52751b4d, com.example.demo.entity.Device@6687a20d, com.example.demo.entity.Device@473de563, com.example.demo.entity.Device@48cee199, com.example.demo.entity.Device@329b24be]
2026-01-11 18:07:37 [http-nio-9091-exec-10] INFO  com.example.demo.aop.ServiceLogAspect - 【服务调用开始】InspectDataService.getLatestInspectionsWithDeviceInfo，参数：[]
2026-01-11 18:07:37 [http-nio-9091-exec-9] INFO  com.example.demo.aop.ServiceLogAspect - 【服务调用开始】DeviceService.getAllDevices，参数：[]
2026-01-11 18:07:37 [http-nio-9091-exec-9] DEBUG c.b.dynamic.datasource.DynamicRoutingDataSource - dynamic-datasource switch to the primary datasource
2026-01-11 18:07:37 [http-nio-9091-exec-10] DEBUG org.hibernate.SQL - 
    select
        id1_0.data_id,
        id1_0.batch_no,
        id1_0.create_time,
        d1_0.deviceid,
        d1_0.alert_status,
        d1_0.calibration_operator,
        d1_0.calibration_status,
        d1_0.created_at,
        d1_0.device_code,
        d1_0.device_name,
        d1_0.device_type,
        d1_0.last_calibration,
        d1_0.location,
        d1_0.monitor_status,
        d1_0.next_calibration,
        d1_0.operational_status,
        d1_0.self_calibration,
        d1_0.updated_at,
        id1_0.diameter,
        id1_0.friability,
        id1_0.hardness,
        id1_0.inspect_time,
        id1_0.is_valid,
        id1_0.product_id,
        p1_0.product_id,
        p1_0.product_name,
        p1_0.specification,
        id1_0.thickness,
        id1_0.weight 
    from
        inspection_data id1_0 
    left join
        devices d1_0 
            on d1_0.deviceid=id1_0.device_id 
    join
        product p1_0 
            on p1_0.product_id=id1_0.product_id 
    where
        id1_0.inspect_time=(
            select
                max(id2_0.inspect_time) 
            from
                inspection_data id2_0 
            where
                id2_0.device_id=id1_0.device_id 
                and id2_0.is_valid=1
        )
2026-01-11 18:07:37 [http-nio-9091-exec-9] DEBUG org.hibernate.SQL - 
    select
        d1_0.deviceid,
        d1_0.alert_status,
        d1_0.calibration_operator,
        d1_0.calibration_status,
        d1_0.created_at,
        d1_0.device_code,
        d1_0.device_name,
        d1_0.device_type,
        d1_0.last_calibration,
        d1_0.location,
        d1_0.monitor_status,
        d1_0.next_calibration,
        d1_0.operational_status,
        d1_0.self_calibration,
        d1_0.updated_at 
    from
        devices d1_0
2026-01-11 18:07:37 [http-nio-9091-exec-10] DEBUG c.b.dynamic.datasource.DynamicRoutingDataSource - dynamic-datasource switch to the primary datasource
2026-01-11 18:07:37 [http-nio-9091-exec-10] INFO  com.example.demo.aop.ServiceLogAspect - 【服务调用成功】InspectDataService.getLatestInspectionsWithDeviceInfo，结果：[com.example.demo.entity.InspectionData@47763070, com.example.demo.entity.InspectionData@5dba9316]
2026-01-11 18:07:37 [http-nio-9091-exec-9] INFO  com.example.demo.aop.ServiceLogAspect - 【服务调用成功】DeviceService.getAllDevices，结果：[com.example.demo.entity.Device@3e02981a, com.example.demo.entity.Device@24d4ddfc, com.example.demo.entity.Device@4640d7ed, com.example.demo.entity.Device@49fec219, com.example.demo.entity.Device@63965174]
2026-01-11 18:07:37 [http-nio-9091-exec-3] INFO  com.example.demo.aop.ServiceLogAspect - 【服务调用开始】AlertService.getAlertDetails，参数：[0, 10]
2026-01-11 18:07:37 [http-nio-9091-exec-3] DEBUG org.hibernate.SQL - 
    select
        a1_0.alert_time,
        d1_0.device_code,
        d1_0.device_name,
        d1_0.device_type,
        d1_0.location,
        d1_0.monitor_status,
        a1_0.alert_type,
        a1_0.alert_level,
        a1_0.context 
    from
        alert a1_0 
    join
        devices d1_0 
            on d1_0.deviceid=a1_0.device_id 
    order by
        a1_0.alert_time desc 
    limit
        ?
2026-01-11 18:07:37 [http-nio-9091-exec-3] DEBUG c.b.dynamic.datasource.DynamicRoutingDataSource - dynamic-datasource switch to the primary datasource
2026-01-11 18:07:37 [http-nio-9091-exec-3] INFO  com.example.demo.aop.ServiceLogAspect - 【服务调用成功】AlertService.getAlertDetails，结果：{pageSize=10, currentPage=0, totalPages=1, totalElements=3, content=[{deviceType=D4, alertType=DRUG, location=loc1, context=002, monitorStatus=MONITORON, deviceCode=001, alertTime=2025-07-13T10:05:04, alertLevel=YELLOW, deviceName=Inoue Rin}, {deviceType=D4, alertType=DRUG, location=loc1, context=001, monitorStatus=MONITORON, deviceCode=001, alertTime=2025-07-13T10:05:01, alertLevel=RED, deviceName=Inoue Rin}, {deviceType=D4, alertType=MECHINE, location=loc1, context=000, monitorStatus=MONITORON, deviceCode=001, alertTime=2025-07-11T10:04:58, alertLevel=YELLOW, deviceName=Inoue Rin}]}
2026-01-11 18:07:37 [http-nio-9091-exec-6] INFO  com.example.demo.aop.ServiceLogAspect - 【服务调用开始】DeviceService.getDeviceByStaffCode，参数：[admin]
2026-01-11 18:07:37 [http-nio-9091-exec-8] INFO  com.example.demo.aop.ServiceLogAspect - 【服务调用开始】AlertService.getWeekAlertSummary，参数：[2026-01-11 10:07:37]
2026-01-11 18:07:37 [http-nio-9091-exec-6] DEBUG org.hibernate.SQL - 
    select
        d1_0.deviceid,
        d1_0.alert_status,
        d1_0.calibration_operator,
        d1_0.calibration_status,
        d1_0.created_at,
        d1_0.device_code,
        d1_0.device_name,
        d1_0.device_type,
        d1_0.last_calibration,
        d1_0.location,
        d1_0.monitor_status,
        d1_0.next_calibration,
        d1_0.operational_status,
        d1_0.self_calibration,
        d1_0.updated_at 
    from
        staffdevice sd1_0 
    join
        devices d1_0 
            on d1_0.device_code=sd1_0.device_code 
    where
        sd1_0.staffcode=?
2026-01-11 18:07:37 [http-nio-9091-exec-8] DEBUG org.hibernate.SQL - 
    select
        count(a1_0.id) 
    from
        alert a1_0 
    where
        yearweek(a1_0.alert_time, 1)=yearweek(?, 1) 
        and a1_0.alert_level='YELLOW'
2026-01-11 18:07:37 [http-nio-9091-exec-6] DEBUG c.b.dynamic.datasource.DynamicRoutingDataSource - dynamic-datasource switch to the primary datasource
2026-01-11 18:07:37 [http-nio-9091-exec-1] INFO  com.example.demo.aop.ServiceLogAspect - 【服务调用开始】DeviceService.getMonitorOnCountNow，参数：[]
2026-01-11 18:07:37 [http-nio-9091-exec-8] DEBUG c.b.dynamic.datasource.DynamicRoutingDataSource - dynamic-datasource switch to the primary datasource
2026-01-11 18:07:37 [http-nio-9091-exec-1] DEBUG org.hibernate.SQL - 
    select
        count(d1_0.deviceid) 
    from
        devices d1_0 
    where
        d1_0.monitor_status='MONITORON'
2026-01-11 18:07:37 [http-nio-9091-exec-1] DEBUG c.b.dynamic.datasource.DynamicRoutingDataSource - dynamic-datasource switch to the primary datasource
2026-01-11 18:07:37 [http-nio-9091-exec-6] INFO  com.example.demo.aop.ServiceLogAspect - 【服务调用成功】DeviceService.getDeviceByStaffCode，结果：[]
2026-01-11 18:07:37 [http-nio-9091-exec-8] DEBUG org.hibernate.SQL - 
    select
        count(a1_0.id) 
    from
        alert a1_0 
    where
        yearweek(a1_0.alert_time, 1)=yearweek(?, 1) 
        and a1_0.alert_level='RED'
2026-01-11 18:07:37 [http-nio-9091-exec-1] INFO  com.example.demo.aop.ServiceLogAspect - 【服务调用成功】DeviceService.getMonitorOnCountNow，结果：3
2026-01-11 18:07:37 [http-nio-9091-exec-1] INFO  com.example.demo.aop.ServiceLogAspect - 【服务调用开始】DeviceService.getAlertOnCountNow，参数：[]
2026-01-11 18:07:37 [http-nio-9091-exec-1] DEBUG org.hibernate.SQL - 
    select
        count(d1_0.deviceid) 
    from
        devices d1_0 
    where
        d1_0.alert_status='ON'
2026-01-11 18:07:37 [http-nio-9091-exec-8] DEBUG org.hibernate.SQL - 
    select
        count(a1_0.id) 
    from
        alert a1_0 
    where
        yearweek(a1_0.alert_time, 1)=yearweek(?, 1) 
        and a1_0.alert_type='MECHINE'
2026-01-11 18:07:37 [http-nio-9091-exec-1] INFO  com.example.demo.aop.ServiceLogAspect - 【服务调用成功】DeviceService.getAlertOnCountNow，结果：1
2026-01-11 18:07:37 [http-nio-9091-exec-8] INFO  com.example.demo.aop.ServiceLogAspect - 【服务调用成功】AlertService.getWeekAlertSummary，结果：{redAlert=0, yellowAlert=0, machineFailure=0}
2026-01-11 18:07:37 [http-nio-9091-exec-1] INFO  com.example.demo.aop.ServiceLogAspect - 【服务调用开始】DeviceService.getOperationalOnCountNow，参数：[]
2026-01-11 18:07:37 [http-nio-9091-exec-1] DEBUG org.hibernate.SQL - 
    select
        count(d1_0.deviceid) 
    from
        devices d1_0 
    where
        d1_0.operational_status='RUNNING'
2026-01-11 18:07:37 [http-nio-9091-exec-1] INFO  com.example.demo.aop.ServiceLogAspect - 【服务调用成功】DeviceService.getOperationalOnCountNow，结果：2
2026-01-11 18:07:37 [http-nio-9091-exec-1] INFO  com.example.demo.aop.ServiceLogAspect - 【服务调用开始】DeviceService.getOperationalOfflineCountNow，参数：[]
2026-01-11 18:07:37 [http-nio-9091-exec-1] DEBUG org.hibernate.SQL - 
    select
        count(d1_0.deviceid) 
    from
        devices d1_0 
    where
        d1_0.operational_status='OFFLINE'
2026-01-11 18:07:37 [http-nio-9091-exec-1] INFO  com.example.demo.aop.ServiceLogAspect - 【服务调用成功】DeviceService.getOperationalOfflineCountNow，结果：3
2026-01-11 18:11:23 [http-nio-9091-exec-7] INFO  com.example.demo.aop.ServiceLogAspect - 【服务调用开始】DeviceService.getCountAll，参数：[]
2026-01-11 18:11:23 [http-nio-9091-exec-7] DEBUG org.hibernate.SQL - 
    select
        count(d1_0.deviceid) 
    from
        devices d1_0
2026-01-11 18:11:23 [http-nio-9091-exec-5] INFO  com.example.demo.aop.ServiceLogAspect - 【服务调用开始】AlertService.getTodayAlertCount，参数：[2026-01-11 18:11:23]
2026-01-11 18:11:23 [http-nio-9091-exec-7] DEBUG c.b.dynamic.datasource.DynamicRoutingDataSource - dynamic-datasource switch to the primary datasource
2026-01-11 18:11:23 [http-nio-9091-exec-2] INFO  com.example.demo.aop.ServiceLogAspect - 【服务调用开始】DeviceService.getWaitCalibrationCountNow，参数：[]
2026-01-11 18:11:23 [http-nio-9091-exec-2] DEBUG org.hibernate.SQL - 
    select
        count(d1_0.deviceid) 
    from
        devices d1_0 
    where
        d1_0.calibration_status='PENDING'
2026-01-11 18:11:23 [http-nio-9091-exec-5] DEBUG org.hibernate.SQL - 
    select
        count(a1_0.id) 
    from
        alert a1_0 
    where
        date(a1_0.alert_time)=date(?)
2026-01-11 18:11:23 [http-nio-9091-exec-2] DEBUG c.b.dynamic.datasource.DynamicRoutingDataSource - dynamic-datasource switch to the primary datasource
2026-01-11 18:11:23 [http-nio-9091-exec-7] INFO  com.example.demo.aop.ServiceLogAspect - 【服务调用成功】DeviceService.getCountAll，结果：5
2026-01-11 18:11:23 [http-nio-9091-exec-4] INFO  com.example.demo.aop.ServiceLogAspect - 【服务调用开始】AlertService.getAlertDetails，参数：[0, 10]
2026-01-11 18:11:23 [http-nio-9091-exec-5] DEBUG c.b.dynamic.datasource.DynamicRoutingDataSource - dynamic-datasource switch to the primary datasource
2026-01-11 18:11:23 [http-nio-9091-exec-2] INFO  com.example.demo.aop.ServiceLogAspect - 【服务调用成功】DeviceService.getWaitCalibrationCountNow，结果：1
2026-01-11 18:11:23 [http-nio-9091-exec-4] DEBUG org.hibernate.SQL - 
    select
        a1_0.alert_time,
        d1_0.device_code,
        d1_0.device_name,
        d1_0.device_type,
        d1_0.location,
        d1_0.monitor_status,
        a1_0.alert_type,
        a1_0.alert_level,
        a1_0.context 
    from
        alert a1_0 
    join
        devices d1_0 
            on d1_0.deviceid=a1_0.device_id 
    order by
        a1_0.alert_time desc 
    limit
        ?
2026-01-11 18:11:23 [http-nio-9091-exec-4] DEBUG c.b.dynamic.datasource.DynamicRoutingDataSource - dynamic-datasource switch to the primary datasource
2026-01-11 18:11:23 [http-nio-9091-exec-5] INFO  com.example.demo.aop.ServiceLogAspect - 【服务调用成功】AlertService.getTodayAlertCount，结果：0
2026-01-11 18:11:23 [http-nio-9091-exec-4] INFO  com.example.demo.aop.ServiceLogAspect - 【服务调用成功】AlertService.getAlertDetails，结果：{pageSize=10, currentPage=0, totalPages=1, totalElements=3, content=[{deviceType=D4, alertType=DRUG, location=loc1, context=002, monitorStatus=MONITORON, deviceCode=001, alertTime=2025-07-13T10:05:04, alertLevel=YELLOW, deviceName=Inoue Rin}, {deviceType=D4, alertType=DRUG, location=loc1, context=001, monitorStatus=MONITORON, deviceCode=001, alertTime=2025-07-13T10:05:01, alertLevel=RED, deviceName=Inoue Rin}, {deviceType=D4, alertType=MECHINE, location=loc1, context=000, monitorStatus=MONITORON, deviceCode=001, alertTime=2025-07-11T10:04:58, alertLevel=YELLOW, deviceName=Inoue Rin}]}
2026-01-11 18:11:23 [http-nio-9091-exec-10] INFO  com.example.demo.aop.ServiceLogAspect - 【服务调用开始】DeviceService.getMonitorOnCountNow，参数：[]
2026-01-11 18:11:23 [http-nio-9091-exec-9] INFO  com.example.demo.aop.ServiceLogAspect - 【服务调用开始】DeviceService.getDeviceByStaffCode，参数：[admin]
2026-01-11 18:11:23 [http-nio-9091-exec-10] DEBUG org.hibernate.SQL - 
    select
        count(d1_0.deviceid) 
    from
        devices d1_0 
    where
        d1_0.monitor_status='MONITORON'
2026-01-11 18:11:23 [http-nio-9091-exec-9] DEBUG org.hibernate.SQL - 
    select
        d1_0.deviceid,
        d1_0.alert_status,
        d1_0.calibration_operator,
        d1_0.calibration_status,
        d1_0.created_at,
        d1_0.device_code,
        d1_0.device_name,
        d1_0.device_type,
        d1_0.last_calibration,
        d1_0.location,
        d1_0.monitor_status,
        d1_0.next_calibration,
        d1_0.operational_status,
        d1_0.self_calibration,
        d1_0.updated_at 
    from
        staffdevice sd1_0 
    join
        devices d1_0 
            on d1_0.device_code=sd1_0.device_code 
    where
        sd1_0.staffcode=?
2026-01-11 18:11:23 [http-nio-9091-exec-10] DEBUG c.b.dynamic.datasource.DynamicRoutingDataSource - dynamic-datasource switch to the primary datasource
2026-01-11 18:11:23 [http-nio-9091-exec-9] DEBUG c.b.dynamic.datasource.DynamicRoutingDataSource - dynamic-datasource switch to the primary datasource
2026-01-11 18:11:23 [http-nio-9091-exec-10] INFO  com.example.demo.aop.ServiceLogAspect - 【服务调用成功】DeviceService.getMonitorOnCountNow，结果：3
2026-01-11 18:11:23 [http-nio-9091-exec-10] INFO  com.example.demo.aop.ServiceLogAspect - 【服务调用开始】DeviceService.getAlertOnCountNow，参数：[]
2026-01-11 18:11:23 [http-nio-9091-exec-10] DEBUG org.hibernate.SQL - 
    select
        count(d1_0.deviceid) 
    from
        devices d1_0 
    where
        d1_0.alert_status='ON'
2026-01-11 18:11:23 [http-nio-9091-exec-9] INFO  com.example.demo.aop.ServiceLogAspect - 【服务调用成功】DeviceService.getDeviceByStaffCode，结果：[]
2026-01-11 18:11:23 [http-nio-9091-exec-10] INFO  com.example.demo.aop.ServiceLogAspect - 【服务调用成功】DeviceService.getAlertOnCountNow，结果：1
2026-01-11 18:11:23 [http-nio-9091-exec-6] INFO  com.example.demo.aop.ServiceLogAspect - 【服务调用开始】UserService.getStaffByStaffcode，参数：[admin]
2026-01-11 18:11:23 [http-nio-9091-exec-10] INFO  com.example.demo.aop.ServiceLogAspect - 【服务调用开始】DeviceService.getOperationalOnCountNow，参数：[]
2026-01-11 18:11:23 [http-nio-9091-exec-10] DEBUG org.hibernate.SQL - 
    select
        count(d1_0.deviceid) 
    from
        devices d1_0 
    where
        d1_0.operational_status='RUNNING'
2026-01-11 18:11:23 [http-nio-9091-exec-6] DEBUG org.hibernate.SQL - 
    select
        s1_0.staffid,
        s1_0.department,
        s1_0.password,
        s1_0.staffcode,
        s1_0.staffname 
    from
        staffinfo s1_0 
    where
        s1_0.staffcode=?
2026-01-11 18:11:23 [http-nio-9091-exec-3] INFO  com.example.demo.aop.ServiceLogAspect - 【服务调用开始】AlertService.getWeekAlertSummary，参数：[2026-01-11 10:11:23]
2026-01-11 18:11:23 [http-nio-9091-exec-10] INFO  com.example.demo.aop.ServiceLogAspect - 【服务调用成功】DeviceService.getOperationalOnCountNow，结果：2
2026-01-11 18:11:23 [http-nio-9091-exec-10] INFO  com.example.demo.aop.ServiceLogAspect - 【服务调用开始】DeviceService.getOperationalOfflineCountNow，参数：[]
2026-01-11 18:11:23 [http-nio-9091-exec-6] DEBUG c.b.dynamic.datasource.DynamicRoutingDataSource - dynamic-datasource switch to the primary datasource
2026-01-11 18:11:23 [http-nio-9091-exec-10] DEBUG org.hibernate.SQL - 
    select
        count(d1_0.deviceid) 
    from
        devices d1_0 
    where
        d1_0.operational_status='OFFLINE'
2026-01-11 18:11:23 [http-nio-9091-exec-3] DEBUG org.hibernate.SQL - 
    select
        count(a1_0.id) 
    from
        alert a1_0 
    where
        yearweek(a1_0.alert_time, 1)=yearweek(?, 1) 
        and a1_0.alert_level='YELLOW'
2026-01-11 18:11:23 [http-nio-9091-exec-3] DEBUG c.b.dynamic.datasource.DynamicRoutingDataSource - dynamic-datasource switch to the primary datasource
2026-01-11 18:11:23 [http-nio-9091-exec-6] DEBUG org.hibernate.SQL - 
    select
        sr1_0.id,
        r1_0.roleid,
        r1_0.roledescription,
        r1_0.rolename,
        s1_0.staffid,
        s1_0.department,
        s1_0.password,
        s1_0.staffcode,
        s1_0.staffname 
    from
        staffrole sr1_0 
    left join
        roleinfo r1_0 
            on r1_0.roleid=sr1_0.roleid 
    left join
        staffinfo s1_0 
            on s1_0.staffid=sr1_0.staffid 
    where
        sr1_0.staffid=?
2026-01-11 18:11:23 [http-nio-9091-exec-10] INFO  com.example.demo.aop.ServiceLogAspect - 【服务调用成功】DeviceService.getOperationalOfflineCountNow，结果：3
2026-01-11 18:11:23 [http-nio-9091-exec-3] DEBUG org.hibernate.SQL - 
    select
        count(a1_0.id) 
    from
        alert a1_0 
    where
        yearweek(a1_0.alert_time, 1)=yearweek(?, 1) 
        and a1_0.alert_level='RED'
2026-01-11 18:11:23 [http-nio-9091-exec-6] INFO  com.example.demo.aop.ServiceLogAspect - 【服务调用成功】UserService.getStaffByStaffcode，结果：com.example.demo.entity.Staff@2ebd491d
2026-01-11 18:11:23 [http-nio-9091-exec-3] DEBUG org.hibernate.SQL - 
    select
        count(a1_0.id) 
    from
        alert a1_0 
    where
        yearweek(a1_0.alert_time, 1)=yearweek(?, 1) 
        and a1_0.alert_type='MECHINE'
2026-01-11 18:11:23 [http-nio-9091-exec-6] INFO  com.example.demo.aop.ServiceLogAspect - 【服务调用开始】RoleService.getRoleById，参数：[1]
2026-01-11 18:11:23 [http-nio-9091-exec-6] DEBUG org.hibernate.SQL - 
    select
        r1_0.roleid,
        r1_0.roledescription,
        r1_0.rolename 
    from
        roleinfo r1_0 
    where
        r1_0.roleid=?
2026-01-11 18:11:23 [http-nio-9091-exec-3] INFO  com.example.demo.aop.ServiceLogAspect - 【服务调用成功】AlertService.getWeekAlertSummary，结果：{redAlert=0, yellowAlert=0, machineFailure=0}
2026-01-11 18:11:23 [http-nio-9091-exec-6] INFO  com.example.demo.aop.ServiceLogAspect - 【服务调用成功】RoleService.getRoleById，结果：com.example.demo.entity.Role@66d5987a
2026-01-11 18:11:23 [http-nio-9091-exec-1] INFO  com.example.demo.aop.ServiceLogAspect - 【服务调用开始】DeviceService.getCountAll，参数：[]
2026-01-11 18:11:23 [http-nio-9091-exec-8] INFO  com.example.demo.aop.ServiceLogAspect - 【服务调用开始】AlertService.getTodayAlertCount，参数：[2026-01-11 18:11:23]
2026-01-11 18:11:23 [http-nio-9091-exec-1] DEBUG org.hibernate.SQL - 
    select
        count(d1_0.deviceid) 
    from
        devices d1_0
2026-01-11 18:11:23 [http-nio-9091-exec-1] DEBUG c.b.dynamic.datasource.DynamicRoutingDataSource - dynamic-datasource switch to the primary datasource
2026-01-11 18:11:23 [http-nio-9091-exec-8] DEBUG org.hibernate.SQL - 
    select
        count(a1_0.id) 
    from
        alert a1_0 
    where
        date(a1_0.alert_time)=date(?)
2026-01-11 18:11:23 [http-nio-9091-exec-7] INFO  com.example.demo.aop.ServiceLogAspect - 【服务调用开始】DeviceService.getWaitCalibrationCountNow，参数：[]
2026-01-11 18:11:23 [http-nio-9091-exec-7] DEBUG org.hibernate.SQL - 
    select
        count(d1_0.deviceid) 
    from
        devices d1_0 
    where
        d1_0.calibration_status='PENDING'
2026-01-11 18:11:23 [http-nio-9091-exec-8] DEBUG c.b.dynamic.datasource.DynamicRoutingDataSource - dynamic-datasource switch to the primary datasource
2026-01-11 18:11:23 [http-nio-9091-exec-1] INFO  com.example.demo.aop.ServiceLogAspect - 【服务调用成功】DeviceService.getCountAll，结果：5
2026-01-11 18:11:23 [http-nio-9091-exec-7] DEBUG c.b.dynamic.datasource.DynamicRoutingDataSource - dynamic-datasource switch to the primary datasource
2026-01-11 18:11:23 [http-nio-9091-exec-8] INFO  com.example.demo.aop.ServiceLogAspect - 【服务调用成功】AlertService.getTodayAlertCount，结果：0
2026-01-11 18:11:23 [http-nio-9091-exec-7] INFO  com.example.demo.aop.ServiceLogAspect - 【服务调用成功】DeviceService.getWaitCalibrationCountNow，结果：1
2026-01-11 18:15:55 [http-nio-9091-exec-4] INFO  com.example.demo.aop.ServiceLogAspect - 【服务调用开始】DeviceService.getCountAll，参数：[]
2026-01-11 18:15:55 [http-nio-9091-exec-2] INFO  com.example.demo.aop.ServiceLogAspect - 【服务调用开始】UserService.getStaffByStaffcode，参数：[admin]
2026-01-11 18:15:55 [http-nio-9091-exec-4] DEBUG org.hibernate.SQL - 
    select
        count(d1_0.deviceid) 
    from
        devices d1_0
2026-01-11 18:15:55 [http-nio-9091-exec-2] DEBUG org.hibernate.SQL - 
    select
        s1_0.staffid,
        s1_0.department,
        s1_0.password,
        s1_0.staffcode,
        s1_0.staffname 
    from
        staffinfo s1_0 
    where
        s1_0.staffcode=?
2026-01-11 18:15:55 [http-nio-9091-exec-5] INFO  com.example.demo.aop.ServiceLogAspect - 【服务调用开始】AlertService.getTodayAlertCount，参数：[2026-01-11 18:15:55]
2026-01-11 18:15:55 [http-nio-9091-exec-4] DEBUG c.b.dynamic.datasource.DynamicRoutingDataSource - dynamic-datasource switch to the primary datasource
2026-01-11 18:15:55 [http-nio-9091-exec-9] INFO  com.example.demo.aop.ServiceLogAspect - 【服务调用开始】DeviceService.getWaitCalibrationCountNow，参数：[]
2026-01-11 18:15:55 [http-nio-9091-exec-2] DEBUG c.b.dynamic.datasource.DynamicRoutingDataSource - dynamic-datasource switch to the primary datasource
2026-01-11 18:15:55 [http-nio-9091-exec-9] DEBUG org.hibernate.SQL - 
    select
        count(d1_0.deviceid) 
    from
        devices d1_0 
    where
        d1_0.calibration_status='PENDING'
2026-01-11 18:15:55 [http-nio-9091-exec-5] DEBUG org.hibernate.SQL - 
    select
        count(a1_0.id) 
    from
        alert a1_0 
    where
        date(a1_0.alert_time)=date(?)
2026-01-11 18:15:55 [http-nio-9091-exec-9] DEBUG c.b.dynamic.datasource.DynamicRoutingDataSource - dynamic-datasource switch to the primary datasource
2026-01-11 18:15:55 [http-nio-9091-exec-4] INFO  com.example.demo.aop.ServiceLogAspect - 【服务调用成功】DeviceService.getCountAll，结果：5
2026-01-11 18:15:55 [http-nio-9091-exec-5] DEBUG c.b.dynamic.datasource.DynamicRoutingDataSource - dynamic-datasource switch to the primary datasource
2026-01-11 18:15:55 [http-nio-9091-exec-2] DEBUG org.hibernate.SQL - 
    select
        sr1_0.id,
        r1_0.roleid,
        r1_0.roledescription,
        r1_0.rolename,
        s1_0.staffid,
        s1_0.department,
        s1_0.password,
        s1_0.staffcode,
        s1_0.staffname 
    from
        staffrole sr1_0 
    left join
        roleinfo r1_0 
            on r1_0.roleid=sr1_0.roleid 
    left join
        staffinfo s1_0 
            on s1_0.staffid=sr1_0.staffid 
    where
        sr1_0.staffid=?
2026-01-11 18:15:55 [http-nio-9091-exec-9] INFO  com.example.demo.aop.ServiceLogAspect - 【服务调用成功】DeviceService.getWaitCalibrationCountNow，结果：1
2026-01-11 18:15:55 [http-nio-9091-exec-10] INFO  com.example.demo.aop.ServiceLogAspect - 【服务调用开始】DeviceService.getMonitorOnCountNow，参数：[]
2026-01-11 18:15:55 [http-nio-9091-exec-5] INFO  com.example.demo.aop.ServiceLogAspect - 【服务调用成功】AlertService.getTodayAlertCount，结果：0
2026-01-11 18:15:55 [http-nio-9091-exec-10] DEBUG org.hibernate.SQL - 
    select
        count(d1_0.deviceid) 
    from
        devices d1_0 
    where
        d1_0.monitor_status='MONITORON'
2026-01-11 18:15:55 [http-nio-9091-exec-10] DEBUG c.b.dynamic.datasource.DynamicRoutingDataSource - dynamic-datasource switch to the primary datasource
2026-01-11 18:15:55 [http-nio-9091-exec-2] INFO  com.example.demo.aop.ServiceLogAspect - 【服务调用成功】UserService.getStaffByStaffcode，结果：com.example.demo.entity.Staff@3ff47164
2026-01-11 18:15:55 [http-nio-9091-exec-10] INFO  com.example.demo.aop.ServiceLogAspect - 【服务调用成功】DeviceService.getMonitorOnCountNow，结果：3
2026-01-11 18:15:55 [http-nio-9091-exec-2] INFO  com.example.demo.aop.ServiceLogAspect - 【服务调用开始】RoleService.getRoleById，参数：[1]
2026-01-11 18:15:55 [http-nio-9091-exec-2] DEBUG org.hibernate.SQL - 
    select
        r1_0.roleid,
        r1_0.roledescription,
        r1_0.rolename 
    from
        roleinfo r1_0 
    where
        r1_0.roleid=?
2026-01-11 18:15:55 [http-nio-9091-exec-2] INFO  com.example.demo.aop.ServiceLogAspect - 【服务调用成功】RoleService.getRoleById，结果：com.example.demo.entity.Role@51e759ed
2026-01-11 18:15:55 [http-nio-9091-exec-3] INFO  com.example.demo.aop.ServiceLogAspect - 【服务调用开始】DeviceService.getCountAll，参数：[]
2026-01-11 18:15:55 [http-nio-9091-exec-6] INFO  com.example.demo.aop.ServiceLogAspect - 【服务调用开始】DeviceService.getMonitorInterruptCountNow，参数：[]
2026-01-11 18:15:55 [http-nio-9091-exec-3] DEBUG org.hibernate.SQL - 
    select
        count(d1_0.deviceid) 
    from
        devices d1_0
2026-01-11 18:15:55 [http-nio-9091-exec-3] DEBUG c.b.dynamic.datasource.DynamicRoutingDataSource - dynamic-datasource switch to the primary datasource
2026-01-11 18:15:55 [http-nio-9091-exec-3] INFO  com.example.demo.aop.ServiceLogAspect - 【服务调用成功】DeviceService.getCountAll，结果：5
2026-01-11 18:15:55 [http-nio-9091-exec-1] INFO  com.example.demo.aop.ServiceLogAspect - 【服务调用开始】DeviceService.getMonitorOffCountNow，参数：[]
2026-01-11 18:15:55 [http-nio-9091-exec-8] INFO  com.example.demo.aop.ServiceLogAspect - 【服务调用开始】AlertService.getAlertDetails，参数：[0, 10]
2026-01-11 18:15:55 [http-nio-9091-exec-1] DEBUG org.hibernate.SQL - 
    select
        count(d1_0.deviceid) 
    from
        devices d1_0 
    where
        d1_0.monitor_status='MONITOROFF'
2026-01-11 18:15:55 [http-nio-9091-exec-6] DEBUG org.hibernate.SQL - 
    select
        count(d1_0.deviceid) 
    from
        devices d1_0 
    where
        d1_0.monitor_status='MONITORINTERRUPT'
2026-01-11 18:15:55 [http-nio-9091-exec-8] DEBUG org.hibernate.SQL - 
    select
        a1_0.alert_time,
        d1_0.device_code,
        d1_0.device_name,
        d1_0.device_type,
        d1_0.location,
        d1_0.monitor_status,
        a1_0.alert_type,
        a1_0.alert_level,
        a1_0.context 
    from
        alert a1_0 
    join
        devices d1_0 
            on d1_0.deviceid=a1_0.device_id 
    order by
        a1_0.alert_time desc 
    limit
        ?
2026-01-11 18:15:55 [http-nio-9091-exec-1] DEBUG c.b.dynamic.datasource.DynamicRoutingDataSource - dynamic-datasource switch to the primary datasource
2026-01-11 18:15:55 [http-nio-9091-exec-6] DEBUG c.b.dynamic.datasource.DynamicRoutingDataSource - dynamic-datasource switch to the primary datasource
2026-01-11 18:15:55 [http-nio-9091-exec-8] DEBUG c.b.dynamic.datasource.DynamicRoutingDataSource - dynamic-datasource switch to the primary datasource
2026-01-11 18:15:55 [http-nio-9091-exec-6] INFO  com.example.demo.aop.ServiceLogAspect - 【服务调用成功】DeviceService.getMonitorInterruptCountNow，结果：1
2026-01-11 18:15:55 [http-nio-9091-exec-1] INFO  com.example.demo.aop.ServiceLogAspect - 【服务调用成功】DeviceService.getMonitorOffCountNow，结果：1
2026-01-11 18:15:55 [http-nio-9091-exec-8] INFO  com.example.demo.aop.ServiceLogAspect - 【服务调用成功】AlertService.getAlertDetails，结果：{pageSize=10, currentPage=0, totalPages=1, totalElements=3, content=[{deviceType=D4, alertType=DRUG, location=loc1, context=002, monitorStatus=MONITORON, deviceCode=001, alertTime=2025-07-13T10:05:04, alertLevel=YELLOW, deviceName=Inoue Rin}, {deviceType=D4, alertType=DRUG, location=loc1, context=001, monitorStatus=MONITORON, deviceCode=001, alertTime=2025-07-13T10:05:01, alertLevel=RED, deviceName=Inoue Rin}, {deviceType=D4, alertType=MECHINE, location=loc1, context=000, monitorStatus=MONITORON, deviceCode=001, alertTime=2025-07-11T10:04:58, alertLevel=YELLOW, deviceName=Inoue Rin}]}
2026-01-11 18:15:55 [http-nio-9091-exec-7] INFO  com.example.demo.aop.ServiceLogAspect - 【服务调用开始】AlertService.getWeekAlertSummary，参数：[2026-01-11 10:15:55]
2026-01-11 18:15:55 [http-nio-9091-exec-9] INFO  com.example.demo.aop.ServiceLogAspect - 【服务调用开始】DeviceService.getMonitorOnCountNow，参数：[]
2026-01-11 18:15:55 [http-nio-9091-exec-4] INFO  com.example.demo.aop.ServiceLogAspect - 【服务调用开始】DeviceService.getDeviceByStaffCode，参数：[admin]
2026-01-11 18:15:55 [http-nio-9091-exec-7] DEBUG org.hibernate.SQL - 
    select
        count(a1_0.id) 
    from
        alert a1_0 
    where
        yearweek(a1_0.alert_time, 1)=yearweek(?, 1) 
        and a1_0.alert_level='YELLOW'
2026-01-11 18:15:55 [http-nio-9091-exec-9] DEBUG org.hibernate.SQL - 
    select
        count(d1_0.deviceid) 
    from
        devices d1_0 
    where
        d1_0.monitor_status='MONITORON'
2026-01-11 18:15:55 [http-nio-9091-exec-7] DEBUG c.b.dynamic.datasource.DynamicRoutingDataSource - dynamic-datasource switch to the primary datasource
2026-01-11 18:15:55 [http-nio-9091-exec-4] DEBUG org.hibernate.SQL - 
    select
        d1_0.deviceid,
        d1_0.alert_status,
        d1_0.calibration_operator,
        d1_0.calibration_status,
        d1_0.created_at,
        d1_0.device_code,
        d1_0.device_name,
        d1_0.device_type,
        d1_0.last_calibration,
        d1_0.location,
        d1_0.monitor_status,
        d1_0.next_calibration,
        d1_0.operational_status,
        d1_0.self_calibration,
        d1_0.updated_at 
    from
        staffdevice sd1_0 
    join
        devices d1_0 
            on d1_0.device_code=sd1_0.device_code 
    where
        sd1_0.staffcode=?
2026-01-11 18:15:55 [http-nio-9091-exec-9] DEBUG c.b.dynamic.datasource.DynamicRoutingDataSource - dynamic-datasource switch to the primary datasource
2026-01-11 18:15:55 [http-nio-9091-exec-4] DEBUG c.b.dynamic.datasource.DynamicRoutingDataSource - dynamic-datasource switch to the primary datasource
2026-01-11 18:15:55 [http-nio-9091-exec-7] DEBUG org.hibernate.SQL - 
    select
        count(a1_0.id) 
    from
        alert a1_0 
    where
        yearweek(a1_0.alert_time, 1)=yearweek(?, 1) 
        and a1_0.alert_level='RED'
2026-01-11 18:15:55 [http-nio-9091-exec-9] INFO  com.example.demo.aop.ServiceLogAspect - 【服务调用成功】DeviceService.getMonitorOnCountNow，结果：3
2026-01-11 18:15:55 [http-nio-9091-exec-9] INFO  com.example.demo.aop.ServiceLogAspect - 【服务调用开始】DeviceService.getAlertOnCountNow，参数：[]
2026-01-11 18:15:55 [http-nio-9091-exec-9] DEBUG org.hibernate.SQL - 
    select
        count(d1_0.deviceid) 
    from
        devices d1_0 
    where
        d1_0.alert_status='ON'
2026-01-11 18:15:55 [http-nio-9091-exec-4] INFO  com.example.demo.aop.ServiceLogAspect - 【服务调用成功】DeviceService.getDeviceByStaffCode，结果：[]
2026-01-11 18:15:55 [http-nio-9091-exec-7] DEBUG org.hibernate.SQL - 
    select
        count(a1_0.id) 
    from
        alert a1_0 
    where
        yearweek(a1_0.alert_time, 1)=yearweek(?, 1) 
        and a1_0.alert_type='MECHINE'
2026-01-11 18:15:55 [http-nio-9091-exec-9] INFO  com.example.demo.aop.ServiceLogAspect - 【服务调用成功】DeviceService.getAlertOnCountNow，结果：1
2026-01-11 18:15:55 [http-nio-9091-exec-9] INFO  com.example.demo.aop.ServiceLogAspect - 【服务调用开始】DeviceService.getOperationalOnCountNow，参数：[]
2026-01-11 18:15:55 [http-nio-9091-exec-9] DEBUG org.hibernate.SQL - 
    select
        count(d1_0.deviceid) 
    from
        devices d1_0 
    where
        d1_0.operational_status='RUNNING'
2026-01-11 18:15:55 [http-nio-9091-exec-7] INFO  com.example.demo.aop.ServiceLogAspect - 【服务调用成功】AlertService.getWeekAlertSummary，结果：{redAlert=0, yellowAlert=0, machineFailure=0}
2026-01-11 18:15:55 [http-nio-9091-exec-9] INFO  com.example.demo.aop.ServiceLogAspect - 【服务调用成功】DeviceService.getOperationalOnCountNow，结果：2
2026-01-11 18:15:55 [http-nio-9091-exec-9] INFO  com.example.demo.aop.ServiceLogAspect - 【服务调用开始】DeviceService.getOperationalOfflineCountNow，参数：[]
2026-01-11 18:15:55 [http-nio-9091-exec-9] DEBUG org.hibernate.SQL - 
    select
        count(d1_0.deviceid) 
    from
        devices d1_0 
    where
        d1_0.operational_status='OFFLINE'
2026-01-11 18:15:55 [http-nio-9091-exec-9] INFO  com.example.demo.aop.ServiceLogAspect - 【服务调用成功】DeviceService.getOperationalOfflineCountNow，结果：3
2026-01-11 18:16:59 [http-nio-9091-exec-10] INFO  com.example.demo.aop.ServiceLogAspect - 【服务调用开始】DeviceService.getCountAll，参数：[]
2026-01-11 18:16:59 [http-nio-9091-exec-10] DEBUG org.hibernate.SQL - 
    select
        count(d1_0.deviceid) 
    from
        devices d1_0
2026-01-11 18:16:59 [http-nio-9091-exec-2] INFO  com.example.demo.aop.ServiceLogAspect - 【服务调用开始】AlertService.getTodayAlertCount，参数：[2026-01-11 18:16:59]
2026-01-11 18:16:59 [http-nio-9091-exec-5] INFO  com.example.demo.aop.ServiceLogAspect - 【服务调用开始】UserService.getStaffByStaffcode，参数：[admin]
2026-01-11 18:16:59 [http-nio-9091-exec-10] DEBUG c.b.dynamic.datasource.DynamicRoutingDataSource - dynamic-datasource switch to the primary datasource
2026-01-11 18:16:59 [http-nio-9091-exec-3] INFO  com.example.demo.aop.ServiceLogAspect - 【服务调用开始】DeviceService.getWaitCalibrationCountNow，参数：[]
2026-01-11 18:16:59 [http-nio-9091-exec-1] INFO  com.example.demo.aop.ServiceLogAspect - 【服务调用开始】DeviceService.getMonitorOnCountNow，参数：[]
2026-01-11 18:16:59 [http-nio-9091-exec-2] DEBUG org.hibernate.SQL - 
    select
        count(a1_0.id) 
    from
        alert a1_0 
    where
        date(a1_0.alert_time)=date(?)
2026-01-11 18:16:59 [http-nio-9091-exec-5] DEBUG org.hibernate.SQL - 
    select
        s1_0.staffid,
        s1_0.department,
        s1_0.password,
        s1_0.staffcode,
        s1_0.staffname 
    from
        staffinfo s1_0 
    where
        s1_0.staffcode=?
2026-01-11 18:16:59 [http-nio-9091-exec-3] DEBUG org.hibernate.SQL - 
    select
        count(d1_0.deviceid) 
    from
        devices d1_0 
    where
        d1_0.calibration_status='PENDING'
2026-01-11 18:16:59 [http-nio-9091-exec-1] DEBUG org.hibernate.SQL - 
    select
        count(d1_0.deviceid) 
    from
        devices d1_0 
    where
        d1_0.monitor_status='MONITORON'
2026-01-11 18:16:59 [http-nio-9091-exec-2] DEBUG c.b.dynamic.datasource.DynamicRoutingDataSource - dynamic-datasource switch to the primary datasource
2026-01-11 18:16:59 [http-nio-9091-exec-10] INFO  com.example.demo.aop.ServiceLogAspect - 【服务调用成功】DeviceService.getCountAll，结果：5
2026-01-11 18:16:59 [http-nio-9091-exec-5] DEBUG c.b.dynamic.datasource.DynamicRoutingDataSource - dynamic-datasource switch to the primary datasource
2026-01-11 18:16:59 [http-nio-9091-exec-6] INFO  com.example.demo.aop.ServiceLogAspect - 【服务调用开始】DeviceService.getMonitorInterruptCountNow，参数：[]
2026-01-11 18:16:59 [http-nio-9091-exec-3] DEBUG c.b.dynamic.datasource.DynamicRoutingDataSource - dynamic-datasource switch to the primary datasource
2026-01-11 18:16:59 [http-nio-9091-exec-1] DEBUG c.b.dynamic.datasource.DynamicRoutingDataSource - dynamic-datasource switch to the primary datasource
2026-01-11 18:16:59 [http-nio-9091-exec-2] INFO  com.example.demo.aop.ServiceLogAspect - 【服务调用成功】AlertService.getTodayAlertCount，结果：0
2026-01-11 18:16:59 [http-nio-9091-exec-3] INFO  com.example.demo.aop.ServiceLogAspect - 【服务调用成功】DeviceService.getWaitCalibrationCountNow，结果：1
2026-01-11 18:16:59 [http-nio-9091-exec-6] DEBUG org.hibernate.SQL - 
    select
        count(d1_0.deviceid) 
    from
        devices d1_0 
    where
        d1_0.monitor_status='MONITORINTERRUPT'
2026-01-11 18:16:59 [http-nio-9091-exec-1] INFO  com.example.demo.aop.ServiceLogAspect - 【服务调用成功】DeviceService.getMonitorOnCountNow，结果：3
2026-01-11 18:16:59 [http-nio-9091-exec-5] DEBUG org.hibernate.SQL - 
    select
        sr1_0.id,
        r1_0.roleid,
        r1_0.roledescription,
        r1_0.rolename,
        s1_0.staffid,
        s1_0.department,
        s1_0.password,
        s1_0.staffcode,
        s1_0.staffname 
    from
        staffrole sr1_0 
    left join
        roleinfo r1_0 
            on r1_0.roleid=sr1_0.roleid 
    left join
        staffinfo s1_0 
            on s1_0.staffid=sr1_0.staffid 
    where
        sr1_0.staffid=?
2026-01-11 18:16:59 [http-nio-9091-exec-6] DEBUG c.b.dynamic.datasource.DynamicRoutingDataSource - dynamic-datasource switch to the primary datasource
2026-01-11 18:16:59 [http-nio-9091-exec-6] INFO  com.example.demo.aop.ServiceLogAspect - 【服务调用成功】DeviceService.getMonitorInterruptCountNow，结果：1
2026-01-11 18:16:59 [http-nio-9091-exec-5] INFO  com.example.demo.aop.ServiceLogAspect - 【服务调用成功】UserService.getStaffByStaffcode，结果：com.example.demo.entity.Staff@74041041
2026-01-11 18:16:59 [http-nio-9091-exec-5] INFO  com.example.demo.aop.ServiceLogAspect - 【服务调用开始】RoleService.getRoleById，参数：[1]
2026-01-11 18:16:59 [http-nio-9091-exec-8] INFO  com.example.demo.aop.ServiceLogAspect - 【服务调用开始】DeviceService.getMonitorOffCountNow，参数：[]
2026-01-11 18:16:59 [http-nio-9091-exec-8] DEBUG org.hibernate.SQL - 
    select
        count(d1_0.deviceid) 
    from
        devices d1_0 
    where
        d1_0.monitor_status='MONITOROFF'
2026-01-11 18:16:59 [http-nio-9091-exec-8] DEBUG c.b.dynamic.datasource.DynamicRoutingDataSource - dynamic-datasource switch to the primary datasource
2026-01-11 18:16:59 [http-nio-9091-exec-8] INFO  com.example.demo.aop.ServiceLogAspect - 【服务调用成功】DeviceService.getMonitorOffCountNow，结果：1
2026-01-11 18:16:59 [http-nio-9091-exec-4] INFO  com.example.demo.aop.ServiceLogAspect - 【服务调用开始】AlertService.getAlertDetails，参数：[0, 10]
2026-01-11 18:16:59 [http-nio-9091-exec-10] INFO  com.example.demo.aop.ServiceLogAspect - 【服务调用开始】DeviceService.getMonitorOnCountNow，参数：[]
2026-01-11 18:16:59 [http-nio-9091-exec-7] INFO  com.example.demo.aop.ServiceLogAspect - 【服务调用开始】DeviceService.getDeviceByStaffCode，参数：[admin]
2026-01-11 18:16:59 [http-nio-9091-exec-4] DEBUG org.hibernate.SQL - 
    select
        a1_0.alert_time,
        d1_0.device_code,
        d1_0.device_name,
        d1_0.device_type,
        d1_0.location,
        d1_0.monitor_status,
        a1_0.alert_type,
        a1_0.alert_level,
        a1_0.context 
    from
        alert a1_0 
    join
        devices d1_0 
            on d1_0.deviceid=a1_0.device_id 
    order by
        a1_0.alert_time desc 
    limit
        ?
2026-01-11 18:16:59 [http-nio-9091-exec-10] DEBUG org.hibernate.SQL - 
    select
        count(d1_0.deviceid) 
    from
        devices d1_0 
    where
        d1_0.monitor_status='MONITORON'
2026-01-11 18:16:59 [http-nio-9091-exec-7] DEBUG org.hibernate.SQL - 
    select
        d1_0.deviceid,
        d1_0.alert_status,
        d1_0.calibration_operator,
        d1_0.calibration_status,
        d1_0.created_at,
        d1_0.device_code,
        d1_0.device_name,
        d1_0.device_type,
        d1_0.last_calibration,
        d1_0.location,
        d1_0.monitor_status,
        d1_0.next_calibration,
        d1_0.operational_status,
        d1_0.self_calibration,
        d1_0.updated_at 
    from
        staffdevice sd1_0 
    join
        devices d1_0 
            on d1_0.device_code=sd1_0.device_code 
    where
        sd1_0.staffcode=?
2026-01-11 18:16:59 [http-nio-9091-exec-9] INFO  com.example.demo.aop.ServiceLogAspect - 【服务调用开始】AlertService.getWeekAlertSummary，参数：[2026-01-11 10:16:59]
2026-01-11 18:16:59 [http-nio-9091-exec-10] DEBUG c.b.dynamic.datasource.DynamicRoutingDataSource - dynamic-datasource switch to the primary datasource
2026-01-11 18:16:59 [http-nio-9091-exec-4] DEBUG c.b.dynamic.datasource.DynamicRoutingDataSource - dynamic-datasource switch to the primary datasource
2026-01-11 18:16:59 [http-nio-9091-exec-9] DEBUG org.hibernate.SQL - 
    select
        count(a1_0.id) 
    from
        alert a1_0 
    where
        yearweek(a1_0.alert_time, 1)=yearweek(?, 1) 
        and a1_0.alert_level='YELLOW'
2026-01-11 18:16:59 [http-nio-9091-exec-2] INFO  com.example.demo.aop.ServiceLogAspect - 【服务调用开始】DeviceService.getCountAll，参数：[]
2026-01-11 18:16:59 [http-nio-9091-exec-7] DEBUG c.b.dynamic.datasource.DynamicRoutingDataSource - dynamic-datasource switch to the primary datasource
2026-01-11 18:16:59 [http-nio-9091-exec-10] INFO  com.example.demo.aop.ServiceLogAspect - 【服务调用成功】DeviceService.getMonitorOnCountNow，结果：3
2026-01-11 18:16:59 [http-nio-9091-exec-9] DEBUG c.b.dynamic.datasource.DynamicRoutingDataSource - dynamic-datasource switch to the primary datasource
2026-01-11 18:16:59 [http-nio-9091-exec-2] DEBUG org.hibernate.SQL - 
    select
        count(d1_0.deviceid) 
    from
        devices d1_0
2026-01-11 18:16:59 [http-nio-9091-exec-10] INFO  com.example.demo.aop.ServiceLogAspect - 【服务调用开始】DeviceService.getAlertOnCountNow，参数：[]
2026-01-11 18:16:59 [http-nio-9091-exec-4] INFO  com.example.demo.aop.ServiceLogAspect - 【服务调用成功】AlertService.getAlertDetails，结果：{pageSize=10, currentPage=0, totalPages=1, totalElements=3, content=[{deviceType=D4, alertType=DRUG, location=loc1, context=002, monitorStatus=MONITORON, deviceCode=001, alertTime=2025-07-13T10:05:04, alertLevel=YELLOW, deviceName=Inoue Rin}, {deviceType=D4, alertType=DRUG, location=loc1, context=001, monitorStatus=MONITORON, deviceCode=001, alertTime=2025-07-13T10:05:01, alertLevel=RED, deviceName=Inoue Rin}, {deviceType=D4, alertType=MECHINE, location=loc1, context=000, monitorStatus=MONITORON, deviceCode=001, alertTime=2025-07-11T10:04:58, alertLevel=YELLOW, deviceName=Inoue Rin}]}
2026-01-11 18:16:59 [http-nio-9091-exec-10] DEBUG org.hibernate.SQL - 
    select
        count(d1_0.deviceid) 
    from
        devices d1_0 
    where
        d1_0.alert_status='ON'
2026-01-11 18:16:59 [http-nio-9091-exec-5] DEBUG org.hibernate.SQL - 
    select
        r1_0.roleid,
        r1_0.roledescription,
        r1_0.rolename 
    from
        roleinfo r1_0 
    where
        r1_0.roleid=?
2026-01-11 18:16:59 [http-nio-9091-exec-2] DEBUG c.b.dynamic.datasource.DynamicRoutingDataSource - dynamic-datasource switch to the primary datasource
2026-01-11 18:16:59 [http-nio-9091-exec-7] INFO  com.example.demo.aop.ServiceLogAspect - 【服务调用成功】DeviceService.getDeviceByStaffCode，结果：[]
2026-01-11 18:16:59 [http-nio-9091-exec-10] INFO  com.example.demo.aop.ServiceLogAspect - 【服务调用成功】DeviceService.getAlertOnCountNow，结果：1
2026-01-11 18:16:59 [http-nio-9091-exec-10] INFO  com.example.demo.aop.ServiceLogAspect - 【服务调用开始】DeviceService.getOperationalOnCountNow，参数：[]
2026-01-11 18:16:59 [http-nio-9091-exec-2] INFO  com.example.demo.aop.ServiceLogAspect - 【服务调用成功】DeviceService.getCountAll，结果：5
2026-01-11 18:16:59 [http-nio-9091-exec-10] DEBUG org.hibernate.SQL - 
    select
        count(d1_0.deviceid) 
    from
        devices d1_0 
    where
        d1_0.operational_status='RUNNING'
2026-01-11 18:16:59 [http-nio-9091-exec-9] DEBUG org.hibernate.SQL - 
    select
        count(a1_0.id) 
    from
        alert a1_0 
    where
        yearweek(a1_0.alert_time, 1)=yearweek(?, 1) 
        and a1_0.alert_level='RED'
2026-01-11 18:16:59 [http-nio-9091-exec-5] INFO  com.example.demo.aop.ServiceLogAspect - 【服务调用成功】RoleService.getRoleById，结果：com.example.demo.entity.Role@51fb6908
2026-01-11 18:16:59 [http-nio-9091-exec-10] INFO  com.example.demo.aop.ServiceLogAspect - 【服务调用成功】DeviceService.getOperationalOnCountNow，结果：2
2026-01-11 18:16:59 [http-nio-9091-exec-10] INFO  com.example.demo.aop.ServiceLogAspect - 【服务调用开始】DeviceService.getOperationalOfflineCountNow，参数：[]
2026-01-11 18:16:59 [http-nio-9091-exec-10] DEBUG org.hibernate.SQL - 
    select
        count(d1_0.deviceid) 
    from
        devices d1_0 
    where
        d1_0.operational_status='OFFLINE'
2026-01-11 18:16:59 [http-nio-9091-exec-9] DEBUG org.hibernate.SQL - 
    select
        count(a1_0.id) 
    from
        alert a1_0 
    where
        yearweek(a1_0.alert_time, 1)=yearweek(?, 1) 
        and a1_0.alert_type='MECHINE'
2026-01-11 18:16:59 [http-nio-9091-exec-10] INFO  com.example.demo.aop.ServiceLogAspect - 【服务调用成功】DeviceService.getOperationalOfflineCountNow，结果：3
2026-01-11 18:16:59 [http-nio-9091-exec-9] INFO  com.example.demo.aop.ServiceLogAspect - 【服务调用成功】AlertService.getWeekAlertSummary，结果：{redAlert=0, yellowAlert=0, machineFailure=0}
2026-01-11 18:17:01 [http-nio-9091-exec-1] INFO  com.example.demo.aop.ServiceLogAspect - 【服务调用开始】DeviceService.getAllDevices，参数：[]
2026-01-11 18:17:01 [http-nio-9091-exec-1] DEBUG c.b.dynamic.datasource.DynamicRoutingDataSource - dynamic-datasource switch to the primary datasource
2026-01-11 18:17:01 [http-nio-9091-exec-3] INFO  com.example.demo.aop.ServiceLogAspect - 【服务调用开始】InspectDataService.getLatestInspectionsWithDeviceInfo，参数：[]
2026-01-11 18:17:01 [http-nio-9091-exec-1] DEBUG org.hibernate.SQL - 
    select
        d1_0.deviceid,
        d1_0.alert_status,
        d1_0.calibration_operator,
        d1_0.calibration_status,
        d1_0.created_at,
        d1_0.device_code,
        d1_0.device_name,
        d1_0.device_type,
        d1_0.last_calibration,
        d1_0.location,
        d1_0.monitor_status,
        d1_0.next_calibration,
        d1_0.operational_status,
        d1_0.self_calibration,
        d1_0.updated_at 
    from
        devices d1_0
2026-01-11 18:17:01 [http-nio-9091-exec-3] DEBUG org.hibernate.SQL - 
    select
        id1_0.data_id,
        id1_0.batch_no,
        id1_0.create_time,
        d1_0.deviceid,
        d1_0.alert_status,
        d1_0.calibration_operator,
        d1_0.calibration_status,
        d1_0.created_at,
        d1_0.device_code,
        d1_0.device_name,
        d1_0.device_type,
        d1_0.last_calibration,
        d1_0.location,
        d1_0.monitor_status,
        d1_0.next_calibration,
        d1_0.operational_status,
        d1_0.self_calibration,
        d1_0.updated_at,
        id1_0.diameter,
        id1_0.friability,
        id1_0.hardness,
        id1_0.inspect_time,
        id1_0.is_valid,
        id1_0.product_id,
        p1_0.product_id,
        p1_0.product_name,
        p1_0.specification,
        id1_0.thickness,
        id1_0.weight 
    from
        inspection_data id1_0 
    left join
        devices d1_0 
            on d1_0.deviceid=id1_0.device_id 
    join
        product p1_0 
            on p1_0.product_id=id1_0.product_id 
    where
        id1_0.inspect_time=(
            select
                max(id2_0.inspect_time) 
            from
                inspection_data id2_0 
            where
                id2_0.device_id=id1_0.device_id 
                and id2_0.is_valid=1
        )
2026-01-11 18:17:01 [http-nio-9091-exec-1] INFO  com.example.demo.aop.ServiceLogAspect - 【服务调用成功】DeviceService.getAllDevices，结果：[com.example.demo.entity.Device@10f0d85c, com.example.demo.entity.Device@6177eb23, com.example.demo.entity.Device@5aa508f5, com.example.demo.entity.Device@22ab1413, com.example.demo.entity.Device@340f0a22]
2026-01-11 18:17:01 [http-nio-9091-exec-3] DEBUG c.b.dynamic.datasource.DynamicRoutingDataSource - dynamic-datasource switch to the primary datasource
2026-01-11 18:17:01 [http-nio-9091-exec-3] INFO  com.example.demo.aop.ServiceLogAspect - 【服务调用成功】InspectDataService.getLatestInspectionsWithDeviceInfo，结果：[com.example.demo.entity.InspectionData@1257e2f1, com.example.demo.entity.InspectionData@2b05d71]
2026-01-11 18:17:01 [http-nio-9091-exec-6] INFO  com.example.demo.aop.ServiceLogAspect - 【服务调用开始】AlertService.getDeviceAlertOverview，参数：[]
2026-01-11 18:17:01 [http-nio-9091-exec-6] DEBUG c.b.dynamic.datasource.DynamicRoutingDataSource - dynamic-datasource switch to the primary datasource
2026-01-11 18:17:01 [http-nio-9091-exec-6] DEBUG org.hibernate.SQL - 
    select
        d1_0.deviceid,
        d1_0.alert_status,
        d1_0.calibration_operator,
        d1_0.calibration_status,
        d1_0.created_at,
        d1_0.device_code,
        d1_0.device_name,
        d1_0.device_type,
        d1_0.last_calibration,
        d1_0.location,
        d1_0.monitor_status,
        d1_0.next_calibration,
        d1_0.operational_status,
        d1_0.self_calibration,
        d1_0.updated_at 
    from
        devices d1_0
2026-01-11 18:17:01 [http-nio-9091-exec-8] INFO  com.example.demo.aop.ServiceLogAspect - 【服务调用开始】AlertService.getAlertDetailsByTimeRange，参数：[2026-01-04T02:17, 2026-01-11T02:17, null, 0, 50]
2026-01-11 18:17:01 [http-nio-9091-exec-8] DEBUG org.hibernate.SQL - 
    select
        a1_0.alert_time,
        d1_0.device_code,
        d1_0.device_name,
        d1_0.device_type,
        d1_0.location,
        d1_0.monitor_status,
        a1_0.alert_type,
        a1_0.alert_level,
        a1_0.context 
    from
        alert a1_0 
    join
        devices d1_0 
            on d1_0.deviceid=a1_0.device_id 
    where
        (
            ? is null 
            or a1_0.alert_time>=?
        ) 
        and (
            ? is null 
            or a1_0.alert_time<=?
        ) 
        and (
            ? is null 
            or d1_0.device_code=?
        ) 
    order by
        a1_0.alert_time desc 
    limit
        ?
2026-01-11 18:17:01 [http-nio-9091-exec-8] DEBUG c.b.dynamic.datasource.DynamicRoutingDataSource - dynamic-datasource switch to the primary datasource
2026-01-11 18:17:01 [http-nio-9091-exec-6] DEBUG org.hibernate.SQL - 
    select
        a1_0.id,
        a1_0.alert_level,
        a1_0.alert_time,
        a1_0.alert_type,
        a1_0.context,
        a1_0.device_id 
    from
        alert a1_0 
    left join
        devices d1_0 
            on d1_0.deviceid=a1_0.device_id 
    where
        d1_0.deviceid=? 
    order by
        a1_0.alert_time desc 
    limit
        ?
2026-01-11 18:17:01 [http-nio-9091-exec-8] INFO  com.example.demo.aop.ServiceLogAspect - 【服务调用成功】AlertService.getAlertDetailsByTimeRange，结果：{pageSize=50, currentPage=0, totalPages=0, totalElements=0, content=[]}
2026-01-11 18:17:01 [http-nio-9091-exec-6] DEBUG org.hibernate.SQL - 
    select
        a1_0.id,
        a1_0.alert_level,
        a1_0.alert_time,
        a1_0.alert_type,
        a1_0.context,
        a1_0.device_id 
    from
        alert a1_0 
    left join
        devices d1_0 
            on d1_0.deviceid=a1_0.device_id 
    where
        d1_0.deviceid=? 
    order by
        a1_0.alert_time desc 
    limit
        ?
2026-01-11 18:17:01 [http-nio-9091-exec-6] DEBUG org.hibernate.SQL - 
    select
        a1_0.id,
        a1_0.alert_level,
        a1_0.alert_time,
        a1_0.alert_type,
        a1_0.context,
        a1_0.device_id 
    from
        alert a1_0 
    left join
        devices d1_0 
            on d1_0.deviceid=a1_0.device_id 
    where
        d1_0.deviceid=? 
    order by
        a1_0.alert_time desc 
    limit
        ?
2026-01-11 18:17:01 [http-nio-9091-exec-6] DEBUG org.hibernate.SQL - 
    select
        a1_0.id,
        a1_0.alert_level,
        a1_0.alert_time,
        a1_0.alert_type,
        a1_0.context,
        a1_0.device_id 
    from
        alert a1_0 
    left join
        devices d1_0 
            on d1_0.deviceid=a1_0.device_id 
    where
        d1_0.deviceid=? 
    order by
        a1_0.alert_time desc 
    limit
        ?
2026-01-11 18:17:01 [http-nio-9091-exec-6] DEBUG org.hibernate.SQL - 
    select
        a1_0.id,
        a1_0.alert_level,
        a1_0.alert_time,
        a1_0.alert_type,
        a1_0.context,
        a1_0.device_id 
    from
        alert a1_0 
    left join
        devices d1_0 
            on d1_0.deviceid=a1_0.device_id 
    where
        d1_0.deviceid=? 
    order by
        a1_0.alert_time desc 
    limit
        ?
2026-01-11 18:17:01 [http-nio-9091-exec-6] INFO  com.example.demo.aop.ServiceLogAspect - 【服务调用成功】AlertService.getDeviceAlertOverview，结果：[{deviceType=D4, operationalStatus=RUNNING, alertStatus=ON, latestAlertLevel=YELLOW, latestAlertTime=2025-07-13T10:05:04, location=loc1, deviceCode=001, deviceId=1, deviceName=Inoue Rin, monitorStatus=MONITORON, latestAlertContext=002}, {deviceType=DB, operationalStatus=RUNNING, alertStatus=OFF, latestAlertLevel=null, latestAlertTime=null, location=loc2, deviceCode=002, deviceId=2, deviceName=Kong Lan, monitorStatus=MONITORON, latestAlertContext=null}, {deviceType=DB, operationalStatus=OFFLINE, alertStatus=OFF, latestAlertLevel=null, latestAlertTime=null, location=loc3, deviceCode=003, deviceId=3, deviceName=Chic Kwok Yin, monitorStatus=MONITORINTERRUPT, latestAlertContext=null}, {deviceType=D4, operationalStatus=OFFLINE, alertStatus=OFF, latestAlertLevel=null, latestAlertTime=null, location=loc4, deviceCode=004, deviceId=4, deviceName=Lo Wai Lam, monitorStatus=MONITORON, latestAlertContext=null}, {deviceType=DB, operationalStatus=OFFLINE, alertStatus=OFF, latestAlertLevel=null, latestAlertTime=null, location=loc5, deviceCode=005, deviceId=5, deviceName=Saito Ayano, monitorStatus=MONITOROFF, latestAlertContext=null}]
2026-01-11 18:17:02 [http-nio-9091-exec-4] INFO  com.example.demo.aop.ServiceLogAspect - 【服务调用开始】DeviceService.getAllDevices，参数：[]
2026-01-11 18:17:02 [http-nio-9091-exec-4] DEBUG c.b.dynamic.datasource.DynamicRoutingDataSource - dynamic-datasource switch to the primary datasource
2026-01-11 18:17:02 [http-nio-9091-exec-4] DEBUG org.hibernate.SQL - 
    select
        d1_0.deviceid,
        d1_0.alert_status,
        d1_0.calibration_operator,
        d1_0.calibration_status,
        d1_0.created_at,
        d1_0.device_code,
        d1_0.device_name,
        d1_0.device_type,
        d1_0.last_calibration,
        d1_0.location,
        d1_0.monitor_status,
        d1_0.next_calibration,
        d1_0.operational_status,
        d1_0.self_calibration,
        d1_0.updated_at 
    from
        devices d1_0
2026-01-11 18:17:02 [http-nio-9091-exec-4] INFO  com.example.demo.aop.ServiceLogAspect - 【服务调用成功】DeviceService.getAllDevices，结果：[com.example.demo.entity.Device@7c97f135, com.example.demo.entity.Device@48f6cbf7, com.example.demo.entity.Device@46674aef, com.example.demo.entity.Device@28773b0a, com.example.demo.entity.Device@6b2a7968]
2026-01-11 18:17:02 [http-nio-9091-exec-2] INFO  com.example.demo.aop.ServiceLogAspect - 【服务调用开始】InspectDataService.getLatestInspectionsWithDeviceInfo，参数：[]
2026-01-11 18:17:02 [http-nio-9091-exec-7] INFO  com.example.demo.aop.ServiceLogAspect - 【服务调用开始】DeviceService.getAllDevices，参数：[]
2026-01-11 18:17:02 [http-nio-9091-exec-7] DEBUG c.b.dynamic.datasource.DynamicRoutingDataSource - dynamic-datasource switch to the primary datasource
2026-01-11 18:17:02 [http-nio-9091-exec-2] DEBUG org.hibernate.SQL - 
    select
        id1_0.data_id,
        id1_0.batch_no,
        id1_0.create_time,
        d1_0.deviceid,
        d1_0.alert_status,
        d1_0.calibration_operator,
        d1_0.calibration_status,
        d1_0.created_at,
        d1_0.device_code,
        d1_0.device_name,
        d1_0.device_type,
        d1_0.last_calibration,
        d1_0.location,
        d1_0.monitor_status,
        d1_0.next_calibration,
        d1_0.operational_status,
        d1_0.self_calibration,
        d1_0.updated_at,
        id1_0.diameter,
        id1_0.friability,
        id1_0.hardness,
        id1_0.inspect_time,
        id1_0.is_valid,
        id1_0.product_id,
        p1_0.product_id,
        p1_0.product_name,
        p1_0.specification,
        id1_0.thickness,
        id1_0.weight 
    from
        inspection_data id1_0 
    left join
        devices d1_0 
            on d1_0.deviceid=id1_0.device_id 
    join
        product p1_0 
            on p1_0.product_id=id1_0.product_id 
    where
        id1_0.inspect_time=(
            select
                max(id2_0.inspect_time) 
            from
                inspection_data id2_0 
            where
                id2_0.device_id=id1_0.device_id 
                and id2_0.is_valid=1
        )
2026-01-11 18:17:02 [http-nio-9091-exec-7] DEBUG org.hibernate.SQL - 
    select
        d1_0.deviceid,
        d1_0.alert_status,
        d1_0.calibration_operator,
        d1_0.calibration_status,
        d1_0.created_at,
        d1_0.device_code,
        d1_0.device_name,
        d1_0.device_type,
        d1_0.last_calibration,
        d1_0.location,
        d1_0.monitor_status,
        d1_0.next_calibration,
        d1_0.operational_status,
        d1_0.self_calibration,
        d1_0.updated_at 
    from
        devices d1_0
2026-01-11 18:17:02 [http-nio-9091-exec-2] DEBUG c.b.dynamic.datasource.DynamicRoutingDataSource - dynamic-datasource switch to the primary datasource
2026-01-11 18:17:02 [http-nio-9091-exec-7] INFO  com.example.demo.aop.ServiceLogAspect - 【服务调用成功】DeviceService.getAllDevices，结果：[com.example.demo.entity.Device@249cc793, com.example.demo.entity.Device@580e4424, com.example.demo.entity.Device@5e2deea3, com.example.demo.entity.Device@88ae0d4, com.example.demo.entity.Device@4a681e09]
2026-01-11 18:17:02 [http-nio-9091-exec-2] INFO  com.example.demo.aop.ServiceLogAspect - 【服务调用成功】InspectDataService.getLatestInspectionsWithDeviceInfo，结果：[com.example.demo.entity.InspectionData@4b91f6c7, com.example.demo.entity.InspectionData@9319657]
2026-01-11 18:17:02 [http-nio-9091-exec-5] INFO  com.example.demo.aop.ServiceLogAspect - 【服务调用开始】PermissionAdminService.getAllStaff，参数：[]
2026-01-11 18:17:02 [http-nio-9091-exec-5] DEBUG c.b.dynamic.datasource.DynamicRoutingDataSource - dynamic-datasource switch to the primary datasource
2026-01-11 18:17:02 [http-nio-9091-exec-5] DEBUG org.hibernate.SQL - 
    select
        s1_0.staffid,
        s1_0.department,
        s1_0.password,
        s1_0.staffcode,
        s1_0.staffname 
    from
        staffinfo s1_0
2026-01-11 18:17:02 [http-nio-9091-exec-5] DEBUG org.hibernate.SQL - 
    select
        sr1_0.id,
        r1_0.roleid,
        r1_0.roledescription,
        r1_0.rolename,
        s1_0.staffid,
        s1_0.department,
        s1_0.password,
        s1_0.staffcode,
        s1_0.staffname 
    from
        staffrole sr1_0 
    left join
        roleinfo r1_0 
            on r1_0.roleid=sr1_0.roleid 
    left join
        staffinfo s1_0 
            on s1_0.staffid=sr1_0.staffid 
    where
        sr1_0.staffid=?
2026-01-11 18:17:03 [http-nio-9091-exec-5] DEBUG org.hibernate.SQL - 
    select
        sr1_0.id,
        r1_0.roleid,
        r1_0.roledescription,
        r1_0.rolename,
        s1_0.staffid,
        s1_0.department,
        s1_0.password,
        s1_0.staffcode,
        s1_0.staffname 
    from
        staffrole sr1_0 
    left join
        roleinfo r1_0 
            on r1_0.roleid=sr1_0.roleid 
    left join
        staffinfo s1_0 
            on s1_0.staffid=sr1_0.staffid 
    where
        sr1_0.staffid=?
2026-01-11 18:17:03 [http-nio-9091-exec-5] DEBUG org.hibernate.SQL - 
    select
        sr1_0.id,
        r1_0.roleid,
        r1_0.roledescription,
        r1_0.rolename,
        s1_0.staffid,
        s1_0.department,
        s1_0.password,
        s1_0.staffcode,
        s1_0.staffname 
    from
        staffrole sr1_0 
    left join
        roleinfo r1_0 
            on r1_0.roleid=sr1_0.roleid 
    left join
        staffinfo s1_0 
            on s1_0.staffid=sr1_0.staffid 
    where
        sr1_0.staffid=?
2026-01-11 18:17:03 [http-nio-9091-exec-5] DEBUG org.hibernate.SQL - 
    select
        sr1_0.id,
        r1_0.roleid,
        r1_0.roledescription,
        r1_0.rolename,
        s1_0.staffid,
        s1_0.department,
        s1_0.password,
        s1_0.staffcode,
        s1_0.staffname 
    from
        staffrole sr1_0 
    left join
        roleinfo r1_0 
            on r1_0.roleid=sr1_0.roleid 
    left join
        staffinfo s1_0 
            on s1_0.staffid=sr1_0.staffid 
    where
        sr1_0.staffid=?
2026-01-11 18:17:03 [http-nio-9091-exec-5] INFO  com.example.demo.aop.ServiceLogAspect - 【服务调用成功】PermissionAdminService.getAllStaff，结果：[com.example.demo.entity.Staff@3909a824, com.example.demo.entity.Staff@63e08016, com.example.demo.entity.Staff@2b787a68, com.example.demo.entity.Staff@256f45e0]
2026-01-11 18:17:03 [http-nio-9091-exec-10] INFO  com.example.demo.aop.ServiceLogAspect - 【服务调用开始】RoleService.getAllRoles，参数：[]
2026-01-11 18:17:03 [http-nio-9091-exec-10] DEBUG c.b.dynamic.datasource.DynamicRoutingDataSource - dynamic-datasource switch to the primary datasource
2026-01-11 18:17:03 [http-nio-9091-exec-10] DEBUG org.hibernate.SQL - 
    select
        r1_0.roleid,
        r1_0.roledescription,
        r1_0.rolename 
    from
        roleinfo r1_0
2026-01-11 18:17:03 [http-nio-9091-exec-10] INFO  com.example.demo.aop.ServiceLogAspect - 【服务调用成功】RoleService.getAllRoles，结果：[com.example.demo.entity.Role@33bd8a31, com.example.demo.entity.Role@cc47521, com.example.demo.entity.Role@5890bea8, com.example.demo.entity.Role@216140bb, com.example.demo.entity.Role@74a0151f]
2026-01-11 18:17:03 [http-nio-9091-exec-9] INFO  com.example.demo.aop.ServiceLogAspect - 【服务调用开始】DeviceService.getAllDevices，参数：[]
2026-01-11 18:17:03 [http-nio-9091-exec-9] DEBUG c.b.dynamic.datasource.DynamicRoutingDataSource - dynamic-datasource switch to the primary datasource
2026-01-11 18:17:03 [http-nio-9091-exec-1] INFO  com.example.demo.aop.ServiceLogAspect - 【服务调用开始】InspectDataService.getLatestInspectionsWithDeviceInfo，参数：[]
2026-01-11 18:17:03 [http-nio-9091-exec-9] DEBUG org.hibernate.SQL - 
    select
        d1_0.deviceid,
        d1_0.alert_status,
        d1_0.calibration_operator,
        d1_0.calibration_status,
        d1_0.created_at,
        d1_0.device_code,
        d1_0.device_name,
        d1_0.device_type,
        d1_0.last_calibration,
        d1_0.location,
        d1_0.monitor_status,
        d1_0.next_calibration,
        d1_0.operational_status,
        d1_0.self_calibration,
        d1_0.updated_at 
    from
        devices d1_0
2026-01-11 18:17:03 [http-nio-9091-exec-1] DEBUG org.hibernate.SQL - 
    select
        id1_0.data_id,
        id1_0.batch_no,
        id1_0.create_time,
        d1_0.deviceid,
        d1_0.alert_status,
        d1_0.calibration_operator,
        d1_0.calibration_status,
        d1_0.created_at,
        d1_0.device_code,
        d1_0.device_name,
        d1_0.device_type,
        d1_0.last_calibration,
        d1_0.location,
        d1_0.monitor_status,
        d1_0.next_calibration,
        d1_0.operational_status,
        d1_0.self_calibration,
        d1_0.updated_at,
        id1_0.diameter,
        id1_0.friability,
        id1_0.hardness,
        id1_0.inspect_time,
        id1_0.is_valid,
        id1_0.product_id,
        p1_0.product_id,
        p1_0.product_name,
        p1_0.specification,
        id1_0.thickness,
        id1_0.weight 
    from
        inspection_data id1_0 
    left join
        devices d1_0 
            on d1_0.deviceid=id1_0.device_id 
    join
        product p1_0 
            on p1_0.product_id=id1_0.product_id 
    where
        id1_0.inspect_time=(
            select
                max(id2_0.inspect_time) 
            from
                inspection_data id2_0 
            where
                id2_0.device_id=id1_0.device_id 
                and id2_0.is_valid=1
        )
2026-01-11 18:17:03 [http-nio-9091-exec-9] INFO  com.example.demo.aop.ServiceLogAspect - 【服务调用成功】DeviceService.getAllDevices，结果：[com.example.demo.entity.Device@5595ee7e, com.example.demo.entity.Device@6e6918d0, com.example.demo.entity.Device@29844f44, com.example.demo.entity.Device@47adfa0f, com.example.demo.entity.Device@3db11a9a]
2026-01-11 18:17:03 [http-nio-9091-exec-1] DEBUG c.b.dynamic.datasource.DynamicRoutingDataSource - dynamic-datasource switch to the primary datasource
2026-01-11 18:17:03 [http-nio-9091-exec-1] INFO  com.example.demo.aop.ServiceLogAspect - 【服务调用成功】InspectDataService.getLatestInspectionsWithDeviceInfo，结果：[com.example.demo.entity.InspectionData@4ccf2762, com.example.demo.entity.InspectionData@597de963]
2026-01-11 18:17:03 [http-nio-9091-exec-3] INFO  com.example.demo.aop.ServiceLogAspect - 【服务调用开始】DeviceService.getAllDevices，参数：[]
2026-01-11 18:17:03 [http-nio-9091-exec-3] DEBUG c.b.dynamic.datasource.DynamicRoutingDataSource - dynamic-datasource switch to the primary datasource
2026-01-11 18:17:03 [http-nio-9091-exec-3] DEBUG org.hibernate.SQL - 
    select
        d1_0.deviceid,
        d1_0.alert_status,
        d1_0.calibration_operator,
        d1_0.calibration_status,
        d1_0.created_at,
        d1_0.device_code,
        d1_0.device_name,
        d1_0.device_type,
        d1_0.last_calibration,
        d1_0.location,
        d1_0.monitor_status,
        d1_0.next_calibration,
        d1_0.operational_status,
        d1_0.self_calibration,
        d1_0.updated_at 
    from
        devices d1_0
2026-01-11 18:17:03 [http-nio-9091-exec-3] INFO  com.example.demo.aop.ServiceLogAspect - 【服务调用成功】DeviceService.getAllDevices，结果：[com.example.demo.entity.Device@3968aec2, com.example.demo.entity.Device@78927f47, com.example.demo.entity.Device@757d664e, com.example.demo.entity.Device@24369056, com.example.demo.entity.Device@58d434ac]
2026-01-11 18:17:04 [http-nio-9091-exec-8] INFO  com.example.demo.aop.ServiceLogAspect - 【服务调用开始】DeviceService.getAllDevices，参数：[]
2026-01-11 18:17:04 [http-nio-9091-exec-6] INFO  com.example.demo.aop.ServiceLogAspect - 【服务调用开始】InspectDataService.getLatestInspectionsWithDeviceInfo，参数：[]
2026-01-11 18:17:04 [http-nio-9091-exec-8] DEBUG c.b.dynamic.datasource.DynamicRoutingDataSource - dynamic-datasource switch to the primary datasource
2026-01-11 18:17:04 [http-nio-9091-exec-8] DEBUG org.hibernate.SQL - 
    select
        d1_0.deviceid,
        d1_0.alert_status,
        d1_0.calibration_operator,
        d1_0.calibration_status,
        d1_0.created_at,
        d1_0.device_code,
        d1_0.device_name,
        d1_0.device_type,
        d1_0.last_calibration,
        d1_0.location,
        d1_0.monitor_status,
        d1_0.next_calibration,
        d1_0.operational_status,
        d1_0.self_calibration,
        d1_0.updated_at 
    from
        devices d1_0
2026-01-11 18:17:04 [http-nio-9091-exec-6] DEBUG org.hibernate.SQL - 
    select
        id1_0.data_id,
        id1_0.batch_no,
        id1_0.create_time,
        d1_0.deviceid,
        d1_0.alert_status,
        d1_0.calibration_operator,
        d1_0.calibration_status,
        d1_0.created_at,
        d1_0.device_code,
        d1_0.device_name,
        d1_0.device_type,
        d1_0.last_calibration,
        d1_0.location,
        d1_0.monitor_status,
        d1_0.next_calibration,
        d1_0.operational_status,
        d1_0.self_calibration,
        d1_0.updated_at,
        id1_0.diameter,
        id1_0.friability,
        id1_0.hardness,
        id1_0.inspect_time,
        id1_0.is_valid,
        id1_0.product_id,
        p1_0.product_id,
        p1_0.product_name,
        p1_0.specification,
        id1_0.thickness,
        id1_0.weight 
    from
        inspection_data id1_0 
    left join
        devices d1_0 
            on d1_0.deviceid=id1_0.device_id 
    join
        product p1_0 
            on p1_0.product_id=id1_0.product_id 
    where
        id1_0.inspect_time=(
            select
                max(id2_0.inspect_time) 
            from
                inspection_data id2_0 
            where
                id2_0.device_id=id1_0.device_id 
                and id2_0.is_valid=1
        )
2026-01-11 18:17:04 [http-nio-9091-exec-6] DEBUG c.b.dynamic.datasource.DynamicRoutingDataSource - dynamic-datasource switch to the primary datasource
2026-01-11 18:17:04 [http-nio-9091-exec-8] INFO  com.example.demo.aop.ServiceLogAspect - 【服务调用成功】DeviceService.getAllDevices，结果：[com.example.demo.entity.Device@360e559b, com.example.demo.entity.Device@4a1e2537, com.example.demo.entity.Device@1787c12, com.example.demo.entity.Device@72e36650, com.example.demo.entity.Device@3605471a]
2026-01-11 18:17:04 [http-nio-9091-exec-6] INFO  com.example.demo.aop.ServiceLogAspect - 【服务调用成功】InspectDataService.getLatestInspectionsWithDeviceInfo，结果：[com.example.demo.entity.InspectionData@3e709c5a, com.example.demo.entity.InspectionData@26d10331]
2026-01-11 18:17:04 [http-nio-9091-exec-4] INFO  com.example.demo.aop.ServiceLogAspect - 【服务调用开始】AlertService.getAlertDetails，参数：[0, 10]
2026-01-11 18:17:04 [http-nio-9091-exec-4] DEBUG org.hibernate.SQL - 
    select
        a1_0.alert_time,
        d1_0.device_code,
        d1_0.device_name,
        d1_0.device_type,
        d1_0.location,
        d1_0.monitor_status,
        a1_0.alert_type,
        a1_0.alert_level,
        a1_0.context 
    from
        alert a1_0 
    join
        devices d1_0 
            on d1_0.deviceid=a1_0.device_id 
    order by
        a1_0.alert_time desc 
    limit
        ?
2026-01-11 18:17:04 [http-nio-9091-exec-4] DEBUG c.b.dynamic.datasource.DynamicRoutingDataSource - dynamic-datasource switch to the primary datasource
2026-01-11 18:17:04 [http-nio-9091-exec-4] INFO  com.example.demo.aop.ServiceLogAspect - 【服务调用成功】AlertService.getAlertDetails，结果：{pageSize=10, currentPage=0, totalPages=1, totalElements=3, content=[{deviceType=D4, alertType=DRUG, location=loc1, context=002, monitorStatus=MONITORON, deviceCode=001, alertTime=2025-07-13T10:05:04, alertLevel=YELLOW, deviceName=Inoue Rin}, {deviceType=D4, alertType=DRUG, location=loc1, context=001, monitorStatus=MONITORON, deviceCode=001, alertTime=2025-07-13T10:05:01, alertLevel=RED, deviceName=Inoue Rin}, {deviceType=D4, alertType=MECHINE, location=loc1, context=000, monitorStatus=MONITORON, deviceCode=001, alertTime=2025-07-11T10:04:58, alertLevel=YELLOW, deviceName=Inoue Rin}]}
2026-01-11 18:17:04 [http-nio-9091-exec-5] INFO  com.example.demo.aop.ServiceLogAspect - 【服务调用开始】DeviceService.getMonitorOnCountNow，参数：[]
2026-01-11 18:17:04 [http-nio-9091-exec-2] INFO  com.example.demo.aop.ServiceLogAspect - 【服务调用开始】DeviceService.getDeviceByStaffCode，参数：[admin]
2026-01-11 18:17:04 [http-nio-9091-exec-5] DEBUG org.hibernate.SQL - 
    select
        count(d1_0.deviceid) 
    from
        devices d1_0 
    where
        d1_0.monitor_status='MONITORON'
2026-01-11 18:17:04 [http-nio-9091-exec-2] DEBUG org.hibernate.SQL - 
    select
        d1_0.deviceid,
        d1_0.alert_status,
        d1_0.calibration_operator,
        d1_0.calibration_status,
        d1_0.created_at,
        d1_0.device_code,
        d1_0.device_name,
        d1_0.device_type,
        d1_0.last_calibration,
        d1_0.location,
        d1_0.monitor_status,
        d1_0.next_calibration,
        d1_0.operational_status,
        d1_0.self_calibration,
        d1_0.updated_at 
    from
        staffdevice sd1_0 
    join
        devices d1_0 
            on d1_0.device_code=sd1_0.device_code 
    where
        sd1_0.staffcode=?
2026-01-11 18:17:04 [http-nio-9091-exec-7] INFO  com.example.demo.aop.ServiceLogAspect - 【服务调用开始】AlertService.getWeekAlertSummary，参数：[2026-01-11 10:17:04]
2026-01-11 18:17:04 [http-nio-9091-exec-5] DEBUG c.b.dynamic.datasource.DynamicRoutingDataSource - dynamic-datasource switch to the primary datasource
2026-01-11 18:17:04 [http-nio-9091-exec-7] DEBUG org.hibernate.SQL - 
    select
        count(a1_0.id) 
    from
        alert a1_0 
    where
        yearweek(a1_0.alert_time, 1)=yearweek(?, 1) 
        and a1_0.alert_level='YELLOW'
2026-01-11 18:17:04 [http-nio-9091-exec-2] DEBUG c.b.dynamic.datasource.DynamicRoutingDataSource - dynamic-datasource switch to the primary datasource
2026-01-11 18:17:04 [http-nio-9091-exec-7] DEBUG c.b.dynamic.datasource.DynamicRoutingDataSource - dynamic-datasource switch to the primary datasource
2026-01-11 18:17:04 [http-nio-9091-exec-2] INFO  com.example.demo.aop.ServiceLogAspect - 【服务调用成功】DeviceService.getDeviceByStaffCode，结果：[]
2026-01-11 18:17:04 [http-nio-9091-exec-5] INFO  com.example.demo.aop.ServiceLogAspect - 【服务调用成功】DeviceService.getMonitorOnCountNow，结果：3
2026-01-11 18:17:04 [http-nio-9091-exec-7] DEBUG org.hibernate.SQL - 
    select
        count(a1_0.id) 
    from
        alert a1_0 
    where
        yearweek(a1_0.alert_time, 1)=yearweek(?, 1) 
        and a1_0.alert_level='RED'
2026-01-11 18:17:04 [http-nio-9091-exec-5] INFO  com.example.demo.aop.ServiceLogAspect - 【服务调用开始】DeviceService.getAlertOnCountNow，参数：[]
2026-01-11 18:17:04 [http-nio-9091-exec-5] DEBUG org.hibernate.SQL - 
    select
        count(d1_0.deviceid) 
    from
        devices d1_0 
    where
        d1_0.alert_status='ON'
2026-01-11 18:17:04 [http-nio-9091-exec-7] DEBUG org.hibernate.SQL - 
    select
        count(a1_0.id) 
    from
        alert a1_0 
    where
        yearweek(a1_0.alert_time, 1)=yearweek(?, 1) 
        and a1_0.alert_type='MECHINE'
2026-01-11 18:17:04 [http-nio-9091-exec-5] INFO  com.example.demo.aop.ServiceLogAspect - 【服务调用成功】DeviceService.getAlertOnCountNow，结果：1
2026-01-11 18:17:04 [http-nio-9091-exec-5] INFO  com.example.demo.aop.ServiceLogAspect - 【服务调用开始】DeviceService.getOperationalOnCountNow，参数：[]
2026-01-11 18:17:04 [http-nio-9091-exec-7] INFO  com.example.demo.aop.ServiceLogAspect - 【服务调用成功】AlertService.getWeekAlertSummary，结果：{redAlert=0, yellowAlert=0, machineFailure=0}
2026-01-11 18:17:04 [http-nio-9091-exec-5] DEBUG org.hibernate.SQL - 
    select
        count(d1_0.deviceid) 
    from
        devices d1_0 
    where
        d1_0.operational_status='RUNNING'
2026-01-11 18:17:04 [http-nio-9091-exec-5] INFO  com.example.demo.aop.ServiceLogAspect - 【服务调用成功】DeviceService.getOperationalOnCountNow，结果：2
2026-01-11 18:17:04 [http-nio-9091-exec-5] INFO  com.example.demo.aop.ServiceLogAspect - 【服务调用开始】DeviceService.getOperationalOfflineCountNow，参数：[]
2026-01-11 18:17:04 [http-nio-9091-exec-5] DEBUG org.hibernate.SQL - 
    select
        count(d1_0.deviceid) 
    from
        devices d1_0 
    where
        d1_0.operational_status='OFFLINE'
2026-01-11 18:17:04 [http-nio-9091-exec-5] INFO  com.example.demo.aop.ServiceLogAspect - 【服务调用成功】DeviceService.getOperationalOfflineCountNow，结果：3
2026-01-11 18:18:17 [http-nio-9091-exec-10] INFO  com.example.demo.aop.ServiceLogAspect - 【服务调用开始】DeviceService.getCountAll，参数：[]
2026-01-11 18:18:17 [http-nio-9091-exec-10] DEBUG org.hibernate.SQL - 
    select
        count(d1_0.deviceid) 
    from
        devices d1_0
2026-01-11 18:18:17 [http-nio-9091-exec-10] DEBUG c.b.dynamic.datasource.DynamicRoutingDataSource - dynamic-datasource switch to the primary datasource
2026-01-11 18:18:17 [http-nio-9091-exec-10] INFO  com.example.demo.aop.ServiceLogAspect - 【服务调用成功】DeviceService.getCountAll，结果：5
2026-01-11 18:18:17 [http-nio-9091-exec-1] INFO  com.example.demo.aop.ServiceLogAspect - 【服务调用开始】DeviceService.getWaitCalibrationCountNow，参数：[]
2026-01-11 18:18:17 [http-nio-9091-exec-3] INFO  com.example.demo.aop.ServiceLogAspect - 【服务调用开始】AlertService.getAlertDetails，参数：[0, 10]
2026-01-11 18:18:17 [http-nio-9091-exec-1] DEBUG org.hibernate.SQL - 
    select
        count(d1_0.deviceid) 
    from
        devices d1_0 
    where
        d1_0.calibration_status='PENDING'
2026-01-11 18:18:17 [http-nio-9091-exec-9] INFO  com.example.demo.aop.ServiceLogAspect - 【服务调用开始】AlertService.getTodayAlertCount，参数：[2026-01-11 18:18:17]
2026-01-11 18:18:17 [http-nio-9091-exec-6] INFO  com.example.demo.aop.ServiceLogAspect - 【服务调用开始】DeviceService.getDeviceByStaffCode，参数：[admin]
2026-01-11 18:18:17 [http-nio-9091-exec-3] DEBUG org.hibernate.SQL - 
    select
        a1_0.alert_time,
        d1_0.device_code,
        d1_0.device_name,
        d1_0.device_type,
        d1_0.location,
        d1_0.monitor_status,
        a1_0.alert_type,
        a1_0.alert_level,
        a1_0.context 
    from
        alert a1_0 
    join
        devices d1_0 
            on d1_0.deviceid=a1_0.device_id 
    order by
        a1_0.alert_time desc 
    limit
        ?
2026-01-11 18:18:17 [http-nio-9091-exec-8] INFO  com.example.demo.aop.ServiceLogAspect - 【服务调用开始】AlertService.getWeekAlertSummary，参数：[2026-01-11 10:18:17]
2026-01-11 18:18:17 [http-nio-9091-exec-1] DEBUG c.b.dynamic.datasource.DynamicRoutingDataSource - dynamic-datasource switch to the primary datasource
2026-01-11 18:18:17 [http-nio-9091-exec-6] DEBUG org.hibernate.SQL - 
    select
        d1_0.deviceid,
        d1_0.alert_status,
        d1_0.calibration_operator,
        d1_0.calibration_status,
        d1_0.created_at,
        d1_0.device_code,
        d1_0.device_name,
        d1_0.device_type,
        d1_0.last_calibration,
        d1_0.location,
        d1_0.monitor_status,
        d1_0.next_calibration,
        d1_0.operational_status,
        d1_0.self_calibration,
        d1_0.updated_at 
    from
        staffdevice sd1_0 
    join
        devices d1_0 
            on d1_0.device_code=sd1_0.device_code 
    where
        sd1_0.staffcode=?
2026-01-11 18:18:17 [http-nio-9091-exec-9] DEBUG org.hibernate.SQL - 
    select
        count(a1_0.id) 
    from
        alert a1_0 
    where
        date(a1_0.alert_time)=date(?)
2026-01-11 18:18:17 [http-nio-9091-exec-8] DEBUG org.hibernate.SQL - 
    select
        count(a1_0.id) 
    from
        alert a1_0 
    where
        yearweek(a1_0.alert_time, 1)=yearweek(?, 1) 
        and a1_0.alert_level='YELLOW'
2026-01-11 18:18:17 [http-nio-9091-exec-3] DEBUG c.b.dynamic.datasource.DynamicRoutingDataSource - dynamic-datasource switch to the primary datasource
2026-01-11 18:18:17 [http-nio-9091-exec-1] INFO  com.example.demo.aop.ServiceLogAspect - 【服务调用成功】DeviceService.getWaitCalibrationCountNow，结果：1
2026-01-11 18:18:17 [http-nio-9091-exec-6] DEBUG c.b.dynamic.datasource.DynamicRoutingDataSource - dynamic-datasource switch to the primary datasource
2026-01-11 18:18:17 [http-nio-9091-exec-8] DEBUG c.b.dynamic.datasource.DynamicRoutingDataSource - dynamic-datasource switch to the primary datasource
2026-01-11 18:18:17 [http-nio-9091-exec-9] DEBUG c.b.dynamic.datasource.DynamicRoutingDataSource - dynamic-datasource switch to the primary datasource
2026-01-11 18:18:17 [http-nio-9091-exec-4] INFO  com.example.demo.aop.ServiceLogAspect - 【服务调用开始】DeviceService.getMonitorOnCountNow，参数：[]
2026-01-11 18:18:17 [http-nio-9091-exec-4] DEBUG org.hibernate.SQL - 
    select
        count(d1_0.deviceid) 
    from
        devices d1_0 
    where
        d1_0.monitor_status='MONITORON'
2026-01-11 18:18:17 [http-nio-9091-exec-9] INFO  com.example.demo.aop.ServiceLogAspect - 【服务调用成功】AlertService.getTodayAlertCount，结果：0
2026-01-11 18:18:17 [http-nio-9091-exec-6] INFO  com.example.demo.aop.ServiceLogAspect - 【服务调用成功】DeviceService.getDeviceByStaffCode，结果：[]
2026-01-11 18:18:17 [http-nio-9091-exec-8] DEBUG org.hibernate.SQL - 
    select
        count(a1_0.id) 
    from
        alert a1_0 
    where
        yearweek(a1_0.alert_time, 1)=yearweek(?, 1) 
        and a1_0.alert_level='RED'
2026-01-11 18:18:17 [http-nio-9091-exec-3] INFO  com.example.demo.aop.ServiceLogAspect - 【服务调用成功】AlertService.getAlertDetails，结果：{pageSize=10, currentPage=0, totalPages=1, totalElements=3, content=[{deviceType=D4, alertType=DRUG, location=loc1, context=002, monitorStatus=MONITORON, deviceCode=001, alertTime=2025-07-13T10:05:04, alertLevel=YELLOW, deviceName=Inoue Rin}, {deviceType=D4, alertType=DRUG, location=loc1, context=001, monitorStatus=MONITORON, deviceCode=001, alertTime=2025-07-13T10:05:01, alertLevel=RED, deviceName=Inoue Rin}, {deviceType=D4, alertType=MECHINE, location=loc1, context=000, monitorStatus=MONITORON, deviceCode=001, alertTime=2025-07-11T10:04:58, alertLevel=YELLOW, deviceName=Inoue Rin}]}
2026-01-11 18:18:17 [http-nio-9091-exec-4] DEBUG c.b.dynamic.datasource.DynamicRoutingDataSource - dynamic-datasource switch to the primary datasource
2026-01-11 18:18:17 [http-nio-9091-exec-4] INFO  com.example.demo.aop.ServiceLogAspect - 【服务调用成功】DeviceService.getMonitorOnCountNow，结果：3
2026-01-11 18:18:17 [http-nio-9091-exec-8] DEBUG org.hibernate.SQL - 
    select
        count(a1_0.id) 
    from
        alert a1_0 
    where
        yearweek(a1_0.alert_time, 1)=yearweek(?, 1) 
        and a1_0.alert_type='MECHINE'
2026-01-11 18:18:17 [http-nio-9091-exec-4] INFO  com.example.demo.aop.ServiceLogAspect - 【服务调用开始】DeviceService.getAlertOnCountNow，参数：[]
2026-01-11 18:18:17 [http-nio-9091-exec-4] DEBUG org.hibernate.SQL - 
    select
        count(d1_0.deviceid) 
    from
        devices d1_0 
    where
        d1_0.alert_status='ON'
2026-01-11 18:18:17 [http-nio-9091-exec-4] INFO  com.example.demo.aop.ServiceLogAspect - 【服务调用成功】DeviceService.getAlertOnCountNow，结果：1
2026-01-11 18:18:17 [http-nio-9091-exec-4] INFO  com.example.demo.aop.ServiceLogAspect - 【服务调用开始】DeviceService.getOperationalOnCountNow，参数：[]
2026-01-11 18:18:17 [http-nio-9091-exec-8] INFO  com.example.demo.aop.ServiceLogAspect - 【服务调用成功】AlertService.getWeekAlertSummary，结果：{redAlert=0, yellowAlert=0, machineFailure=0}
2026-01-11 18:18:17 [http-nio-9091-exec-4] DEBUG org.hibernate.SQL - 
    select
        count(d1_0.deviceid) 
    from
        devices d1_0 
    where
        d1_0.operational_status='RUNNING'
2026-01-11 18:18:17 [http-nio-9091-exec-4] INFO  com.example.demo.aop.ServiceLogAspect - 【服务调用成功】DeviceService.getOperationalOnCountNow，结果：2
2026-01-11 18:18:17 [http-nio-9091-exec-4] INFO  com.example.demo.aop.ServiceLogAspect - 【服务调用开始】DeviceService.getOperationalOfflineCountNow，参数：[]
2026-01-11 18:18:17 [http-nio-9091-exec-4] DEBUG org.hibernate.SQL - 
    select
        count(d1_0.deviceid) 
    from
        devices d1_0 
    where
        d1_0.operational_status='OFFLINE'
2026-01-11 18:18:17 [http-nio-9091-exec-4] INFO  com.example.demo.aop.ServiceLogAspect - 【服务调用成功】DeviceService.getOperationalOfflineCountNow，结果：3
2026-01-11 18:18:17 [http-nio-9091-exec-2] INFO  com.example.demo.aop.ServiceLogAspect - 【服务调用开始】UserService.getStaffByStaffcode，参数：[admin]
2026-01-11 18:18:17 [http-nio-9091-exec-2] DEBUG org.hibernate.SQL - 
    select
        s1_0.staffid,
        s1_0.department,
        s1_0.password,
        s1_0.staffcode,
        s1_0.staffname 
    from
        staffinfo s1_0 
    where
        s1_0.staffcode=?
2026-01-11 18:18:17 [http-nio-9091-exec-2] DEBUG c.b.dynamic.datasource.DynamicRoutingDataSource - dynamic-datasource switch to the primary datasource
2026-01-11 18:18:17 [http-nio-9091-exec-2] DEBUG org.hibernate.SQL - 
    select
        sr1_0.id,
        r1_0.roleid,
        r1_0.roledescription,
        r1_0.rolename,
        s1_0.staffid,
        s1_0.department,
        s1_0.password,
        s1_0.staffcode,
        s1_0.staffname 
    from
        staffrole sr1_0 
    left join
        roleinfo r1_0 
            on r1_0.roleid=sr1_0.roleid 
    left join
        staffinfo s1_0 
            on s1_0.staffid=sr1_0.staffid 
    where
        sr1_0.staffid=?
2026-01-11 18:18:17 [http-nio-9091-exec-2] INFO  com.example.demo.aop.ServiceLogAspect - 【服务调用成功】UserService.getStaffByStaffcode，结果：com.example.demo.entity.Staff@38ecfd3b
2026-01-11 18:18:17 [http-nio-9091-exec-2] INFO  com.example.demo.aop.ServiceLogAspect - 【服务调用开始】RoleService.getRoleById，参数：[1]
2026-01-11 18:18:17 [http-nio-9091-exec-2] DEBUG org.hibernate.SQL - 
    select
        r1_0.roleid,
        r1_0.roledescription,
        r1_0.rolename 
    from
        roleinfo r1_0 
    where
        r1_0.roleid=?
2026-01-11 18:18:17 [http-nio-9091-exec-2] INFO  com.example.demo.aop.ServiceLogAspect - 【服务调用成功】RoleService.getRoleById，结果：com.example.demo.entity.Role@1f07a1a9
2026-01-11 18:18:17 [http-nio-9091-exec-5] INFO  com.example.demo.aop.ServiceLogAspect - 【服务调用开始】DeviceService.getCountAll，参数：[]
2026-01-11 18:18:17 [http-nio-9091-exec-10] INFO  com.example.demo.aop.ServiceLogAspect - 【服务调用开始】DeviceService.getWaitCalibrationCountNow，参数：[]
2026-01-11 18:18:17 [http-nio-9091-exec-5] DEBUG org.hibernate.SQL - 
    select
        count(d1_0.deviceid) 
    from
        devices d1_0
2026-01-11 18:18:17 [http-nio-9091-exec-10] DEBUG org.hibernate.SQL - 
    select
        count(d1_0.deviceid) 
    from
        devices d1_0 
    where
        d1_0.calibration_status='PENDING'
2026-01-11 18:18:17 [http-nio-9091-exec-7] INFO  com.example.demo.aop.ServiceLogAspect - 【服务调用开始】AlertService.getTodayAlertCount，参数：[2026-01-11 18:18:17]
2026-01-11 18:18:17 [http-nio-9091-exec-5] DEBUG c.b.dynamic.datasource.DynamicRoutingDataSource - dynamic-datasource switch to the primary datasource
2026-01-11 18:18:17 [http-nio-9091-exec-10] DEBUG c.b.dynamic.datasource.DynamicRoutingDataSource - dynamic-datasource switch to the primary datasource
2026-01-11 18:18:17 [http-nio-9091-exec-7] DEBUG org.hibernate.SQL - 
    select
        count(a1_0.id) 
    from
        alert a1_0 
    where
        date(a1_0.alert_time)=date(?)
2026-01-11 18:18:17 [http-nio-9091-exec-10] INFO  com.example.demo.aop.ServiceLogAspect - 【服务调用成功】DeviceService.getWaitCalibrationCountNow，结果：1
2026-01-11 18:18:17 [http-nio-9091-exec-5] INFO  com.example.demo.aop.ServiceLogAspect - 【服务调用成功】DeviceService.getCountAll，结果：5
2026-01-11 18:18:17 [http-nio-9091-exec-7] DEBUG c.b.dynamic.datasource.DynamicRoutingDataSource - dynamic-datasource switch to the primary datasource
2026-01-11 18:18:17 [http-nio-9091-exec-7] INFO  com.example.demo.aop.ServiceLogAspect - 【服务调用成功】AlertService.getTodayAlertCount，结果：0
2026-01-11 19:09:35 [local:housekeeper] WARN  com.zaxxer.hikari.pool.HikariPool - local - Thread starvation or clock leap detected (housekeeper delta=42m30s25ms963?s400ns).
2026-01-11 19:09:45 [pharmqcs:housekeeper] WARN  com.zaxxer.hikari.pool.HikariPool - pharmqcs - Thread starvation or clock leap detected (housekeeper delta=42m40s883ms978?s600ns).
